<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0081)http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm -->
<HTML><HEAD><TITLE>Teradata SQL Introduction</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<SCRIPT language=javascript 
src="Teradata SQL Introduction_files/security.js"></SCRIPT>

<META content="MSHTML 6.00.2900.3020" name=GENERATOR></HEAD>
<BODY text=#000000 vLink=#cc0000 aLink=#cc0000 link=#0000ff bgColor=#99ccff><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;Introduction to 
      Teradata SQL</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><LINK href="../sqlstyle.css" 
type=text/css rel=stylesheet><FONT face=Verdana size=3><B>Objectives</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>After completing this module, you should be able to:</P>
      <UL>
        <LI>Describe the structure of a Relational Database Management System 
        (RDBMS). 
        <LI>Explain the role of Structured Query Language (SQL) in accessing a 
        Relational Database. 
        <LI>List the three categories of SQL statements and describe their 
        function. </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
function openPopUp(url,name,w,h)
{
  var winOpts = 'toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=yes,left=130,top=130'+",width="+w+",height="+h;
  popUpWin = window.open(url, name, winOpts);
}

function openCenteredPopUp(url,name,w,h) {
    var x = (window.screen.width - w) / 2 - 5; 
    var y = (window.screen.height - h) - 200;
    var xy = "left=" + x + ",top=" + y + ",width=" + w + ",height=" + h;
    window.open(url, name, "toolbar=no,location=no,directories=no,status=no,menubar=yes,resizable=yes,scrollbars=yes," + xy);
}
</SCRIPT>
<LINK href="../sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>What is an RDBMS?</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>Data is organized into <FONT id=fasttrackON>tables in a relational 
      database management</FONT> system (RDBMS). Rows in the table represent 
      instances of an entity, in this case an employee or a department. Columns 
      represent the data fields which comprise the rows. Relations between 
      tables occur when a column in one table also appears as a column in 
      another.</P>
      <P>Here is an example of two related tables:</P>
      <P align=center><IMG height=434 alt="sql0201.gif - 47662 Bytes" 
      src="Teradata SQL Introduction_files/sql0201.gif" width=460 border=0> </P>
      <P>Can you answer the following questions using the tables above?</P><!-- <p><table border="0" cellspacing="2" cellpadding="5" width="100%">
<tr><td bgcolor="FFFFCC" align="center">Question:</font></td>
<td>What is the department name for employee 1004?</font></td></tr>
<tr><td bgcolor="99CCFF" align="center">Answer:</font></td>
<td><b> customer support</b> </font></td></tr>
<tr><td bgcolor="FFFFCC" align="center">Question:</font></td>
<td>Who is the manager of employee 1004?</font></td></tr>
<tr><td bgcolor="99CCFF" align="center">Answer:</font> </td>
<td><b>James Trader</b> </font></td></tr>
</table></p> -->
      <P>
      <TABLE cellSpacing=4 cellPadding=5 width="95%" border=0>
        <TBODY>
        <TR>
          <TD align=middle bgColor=#ffffcc><FONT face=verdana color=#000099 
            size=2><B>Question 1:</B></FONT></TD>
          <TD bgColor=#000099><FONT face=verdana color=#ffffcc size=2>What is 
            the department name for employee 1004?</FONT></TD>
          <TD align=middle><!-- <a href=javascript:openPopUp("sql02-answer1.html")>  --><A 
            href='javascript:openPopUp("sql02-answer1.html","answer1",width="500",height="160")'><B>[Answer]</B></A></TD></TR>
        <TR>
          <TD align=middle bgColor=#ffffcc><FONT face=verdana color=#000099 
            size=2><B>Question 2:</B></FONT></TD>
          <TD bgColor=#000099><FONT face=verdana color=#ffffcc size=2>Who is 
            the manager of employee 1004?</FONT></TD>
          <TD align=middle><A 
            href='javascript:openPopUp("sql02-answer2.html","answer2",width="400",height="160")'><B>[Answer]</B></A> 
          </TD></TR></TBODY></TABLE>
      <P></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>What is SQL?</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P><B>Structured Query Language (SQL)</B> is the industry standard 
      language for communicating with Relational Database Management Systems. 
      SQL is used to look up data in relational tables, create tables, insert 
      data into tables, grant permissions and many other things. </P>
      <P>Structured Query Language is used to define the answer set that is 
      returned from the Teradata Database. </P>
      <P>SQL is a non-procedural language, meaning it contains no 
      procedural-type statements such as those listed here: </P>
      <UL>
        <LI><FONT face="courier New, Courier" size=-1><B>GO TO</B></FONT> 
        <LI><FONT face="courier New, Courier" size=-1><B>PERFORM</B></FONT> 
        <LI><FONT face="courier New, Courier" size=-1><B>DO LOOP</B></FONT> 
        <LI><FONT face="courier New, Courier" size=-1><B>OPEN FILE</B></FONT> 
        <LI><FONT face="courier New, Courier" size=-1><B>CLOSE FILE</B></FONT> 
        <LI><FONT face="courier New, Courier" size=-1><B>END OF FILE</B></FONT> 
        </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>SQL Commands</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>SQL statements commonly are divided into three categories: </P>
      <OL>
        <LI><B>Data Definition Language (DDL)</B> - Used to define and create 
        database objects such as tables, views, macros, databases, and users. 
        <P></P>
        <LI><B>Data Manipulation Language (DML) </B>- Used to work with the 
        data, including such tasks as inserting data rows into a table, updating 
        an existing row, or performing queries on the data. The focal point of 
        this course will be on SQL statements in this category. 
        <P></P>
        <LI><B>Data Control Language (DCL) </B>- Used for administrative tasks 
        such as granting and revoking privileges to database objects or 
        controlling ownership of those objects. DCL statements will not be 
        covered in detail in this course. For complete Data Control Language 
        coverage, please see the NCR Customer Education "Teradata Database 
        Administration" course. </LI></OL>
      <P>&nbsp;</P><B>Data Definition Language (DDL) Examples</B> 
      <TABLE cellSpacing=0 cellPadding=3 width="80%" border=0>
        <TBODY>
        <TR vAlign=top align=middle bgColor=#000099>
          <TD width="25%"><FONT face=verdana color=#ffffcc size=2><B>SQL 
            statement</B></FONT></TD>
          <TD width="75%"><FONT face=verdana color=#ffffcc 
            size=2><B>Function</B></FONT></TD></TR>
        <TR vAlign=top>
          <TD align=middle width="25%"><B>CREATE</B></TD>
          <TD width="75%">Define a table, view, macro, index, trigger or 
            stored procedure. </TD></TR>
        <TR vAlign=top>
          <TD align=middle width="25%"><B>DROP</B></TD>
          <TD width="75%">Remove a table, view, macro, index, trigger or 
            stored procedure. </TD></TR>
        <TR vAlign=top>
          <TD align=middle width="25%"><B>ALTER</B></TD>
          <TD width="75%">Change table structure or protection definition. 
        </TD></TR></TBODY></TABLE>
      <P>&nbsp;</P>
      <P><B>Data Manipulation Language (DML)</B> 
      <TABLE cellSpacing=0 cellPadding=3 width="80%" border=0>
        <TBODY>
        <TR vAlign=top align=middle bgColor=#000099>
          <TD width="25%"><FONT face=verdana color=#ffffcc size=2><B>SQL 
            statement</B></FONT> </TD>
          <TD width="75%"><FONT face=verdana color=#ffffcc 
            size=2><B>Function</B></FONT></TD></TR>
        <TR>
          <TD align=middle><B>SELECT</B></TD>
          <TD>Select data from one or more tables.</TD></TR>
        <TR>
          <TD align=middle><B>INSERT</B></TD>
          <TD>Place a new row into a table.</TD></TR>
        <TR>
          <TD align=middle><B>UPDATE</B></TD>
          <TD>Change data values in one or more existing rows.</TD></TR>
        <TR>
          <TD align=middle><B>DELETE</B></TD>
          <TD>Remove one or more rows from a table. </TD></TR></TBODY></TABLE>
      <P><BR></P>
      <P></P>
      <P></P>
      <P></P>
      <P>
      <P></P><B>Data Control Language (DCL) </B>
      <TABLE cellSpacing=0 cellPadding=3 width="80%" border=0>
        <TBODY>
        <TR vAlign=top align=middle bgColor=#000099>
          <TD width="25%"><FONT face=verdana color=#ffffcc size=2><B>SQL 
            statement</B></FONT> </TD>
          <TD width="75%"><FONT face=verdana color=#ffffcc 
            size=2><B>Function</B></FONT></TD></TR>
        <TR>
          <TD align=middle><B>GRANT</B></TD>
          <TD>Give user privileges. </TD></TR>
        <TR>
          <TD align=middle><B>REVOKE</B></TD>
          <TD>Remove user privileges. </TD></TR>
        <TR>
          <TD align=middle><B>GIVE</B></TD>
          <TD>Transfer database ownership. </TD></TR></TBODY></TABLE>
      <P></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Relational Concepts</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>The figure below illustrates six rows of a much larger table.</P>
      <P><B>Some interesting things to note about this table:</B> </P>
      <UL>
        <LI>The intersection of a row and a column is a data value. <U>Data 
        values</U> come from a particular <U>domain</U>. Domains represent the 
        pool of legal values for a column. For example, the data values in the 
        <FONT face="courier New, Courier" size=-1><B>EMPLOYEE NUMBER</B></FONT> 
        and <FONT face="courier New, Courier" size=-1><B>MANAGER EMPLOYEE 
        NUMBER</B></FONT> come from the same domain because both columns come 
        from the pool of employee numbers. The domain of employee numbers might 
        be defined as the pool of integers greater than zero. 
        <P></P>
        <LI>The <FONT face="courier New, Courier" size=-1><B>EMPLOYEE 
        NUMBER</B></FONT> column is marked PK, which indicates that this column 
        holds the <U>Primary Key</U>. The next 3 columns are marked FK, which 
        stands for <U>Foreign Key</U>. 
        <P></P>
        <LI>The purpose of the Primary Key is to uniquely identify each record. 
        No two values in a primary key column can be identical. 
        <P></P>
        <LI>A Foreign Key represents the Primary Key of another table. 
        Relationships between tables are formed through the use of Foreign Keys. 
        </LI></UL>
      <P align=center><IMG height=532 alt="sql0301.gif - 20312 Bytes" 
      src="Teradata SQL Introduction_files/sql0301.gif" width=512 
      border=0></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;Teradata 
      SQL</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><FONT face=Verdana 
size=3><B>Objectives</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>After completing this module, you should be able to:</P>
      <UL>
        <LI>Describe the uses of the Teradata SQL <FONT 
        face="Courier New, Courier" 
        size=-1><STRONG><B>SELECT</B></STRONG></FONT> statement. 
        <LI>Retrieve data from a relational table using the <FONT 
        face="Courier New, Courier" size=-1><B>SELECT</B></FONT> statement. 
        <LI>Use the SQL <FONT face="Courier New, Courier" size=-1><STRONG>ORDER 
        BY</STRONG></FONT> and <FONT face="Courier New, Courier" 
        size=-1><STRONG>DISTINCT</STRONG></FONT> options. 
        <LI>Set a default database using the <FONT face="Courier New, Courier" 
        size=-1><B>DATABASE</B></FONT> command. 
        <LI>Write SQL statements using recommended coding conventions. 
        <LI>Name database objects according to Teradata SQL rules. 
      </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>SELECT</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P><B>Structured Query Language (SQL)</B> consists of three types of 
      statements, previously defined as:</P>
      <TABLE cellSpacing=0 cellPadding=3 width="95%" border=0>
        <TBODY>
        <TR>
          <TD vAlign=top colSpan=2><B>Data Definition Language (DDL)</B></TD></TR>
        <TR>
          <TD vAlign=top width="3%">&nbsp;</TD>
          <TD vAlign=top width="97%">- Used to create, drop and modify 
          objects</TD></TR>
        <TR>
          <TD vAlign=top colSpan=2><B>Data Manipulation 
Language(DML)</B></TD></TR>
        <TR>
          <TD vAlign=top width="3%">&nbsp;</TD>
          <TD vAlign=top width="97%">- Used to add, delete, update and read 
            data rows in a table</TD></TR>
        <TR>
          <TD vAlign=top colSpan=2><B>Data Control Language(DCL)</B></TD></TR>
        <TR>
          <TD vAlign=top width="3%">&nbsp;</TD>
          <TD vAlign=top width="97%">- Used to implement security and control 
            on database objects.</TD></TR></TBODY></TABLE>
      <P>Our focus in this course will be mostly on the DML portion of the 
      language. We will first look at the <FONT color=#000000><FONT 
      face="Courier New, Courier" size=-1><B><B>SELECT</B></B></FONT></FONT> 
      statement.</P>
      <P><FONT color=#000000>The <FONT face="Courier New, Courier" 
      size=-1><B><B>SELECT</B></B></FONT> statement allows you to retrieve data 
      from one or more tables. In its most common form, you specify certain rows 
      to be returned as shown. </FONT></P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>SELECT  *
FROM    employee
WHERE   department_number = 401; </B>
</PRE></FONT>
      <P>The asterisk, "<B>*</B>", indicates that we wish to see <U>all</U> of 
      the columns in the table. The <FONT face="Courier New, Courier" 
      size=-1><STRONG>FROM</STRONG></FONT> clause specifies from which table in 
      our database to retrieve the rows. The <FONT face="Courier New, Courier" 
      size=-1><STRONG>WHERE</STRONG></FONT> clause acts as a filter which 
      returns only rows that meet the specified condition, in this case, records 
      of employees in department 401.</P>
      <P><B>Note:</B> SQL does not require a trailing semicolon to end a 
      statement but the Basic Teradata Query (BTEQ) utility that we use to enter 
      SQL commands does require it. All examples in this course will include the 
      semicolon. </P>
      <P>What if we had not specified a&nbsp; <FONT face="Courier New" 
      size=2><STRONG>WHERE</STRONG></FONT> clause.</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT   * FROM employee;</B>
</PRE></FONT>
      <P>This query would return all columns and all rows from the employee 
      table. </P>
      <P>Instead of using the asterisk symbol to specify all columns, we could 
      name specific columns separated by commas: </P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT   employee_number 
         ,hire_date 
         ,last_name 
         ,first_name 
FROM     employee 
WHERE    department_number = 401; </B>
</PRE></FONT>
      <TABLE cellSpacing=0 cellPadding=2 width="90%" border=0>
        <TBODY>
        <TR>
          <TD 
            width="30%"><STRONG>employee_number</STRONG><BR>--------------------</TD>
          <TD width="22%"><STRONG>hire_date</STRONG><BR>----------</TD>
          <TD width="21%"><STRONG>last_name</STRONG><BR>-----------</TD>
          <TD width="27%"><STRONG>first_name</STRONG><BR>-----------</TD></TR>
        <TR>
          <TD>1004</TD>
          <TD>76/10/15</TD>
          <TD>Johnson</TD>
          <TD>Darlene </TD>
        <TR>
          <TD>1003</TD>
          <TD>76/07/31</TD>
          <TD>Trader</TD>
          <TD>James</TD></TR>
        <TR>
          <TD>1013</TD>
          <TD>77/04/01</TD>
          <TD>Phillips</TD>
          <TD>Charles</TD></TR>
        <TR>
          <TD>1010</TD>
          <TD>77/03/01</TD>
          <TD>Rogers</TD>
          <TD>Frank</TD></TR>
        <TR>
          <TD>1022</TD>
          <TD>79/03/01 </TD>
          <TD>Machado</TD>
          <TD>Albert</TD></TR>
        <TR>
          <TD>1001</TD>
          <TD>76/06/18 </TD>
          <TD>Hoover </TD>
          <TD>William </TD></TR>
        <TR>
          <TD>1002</TD>
          <TD>76/07/31 </TD>
          <TD>Brown</TD>
          <TD>Alan</TD></TR></TBODY></TABLE>
      <P><B>Unsorted Results</B></P>
      <P>Results come back unsorted unless you specify that you want them sorted 
      in a certain way. How to retrieve ordered results is covered in the next 
      section. </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>ORDER BY Clause</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>Use the <FONT face="courier New, Courier" size=-1><STRONG>ORDER 
      BY</STRONG></FONT> clause to have your results displayed in a sorted 
      order. Without the <FONT face="courier New, Courier" size=-1><STRONG>ORDER 
      BY</STRONG></FONT> clause, resulting output rows are displayed in a random 
      sequence.</P><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT    employee_number 
          ,last_name 
          ,first_name 
          ,hire_date   
FROM      employee   
WHERE     department_number = 401   
ORDER BY  hire_date;</B></PRE></FONT>
      <H4><FONT face="courier New, Courier" color=#660066 
      size=3><BR></FONT><FONT color=#660066><BR><FONT color=#000000>Sort 
      Direction</FONT></FONT></H4>
      <P>In the example above, results will be returned in ascending order by 
      hire date. <U>Ascending order</U> is the default sort sequence for an 
      <FONT face="courier New, Courier" size=-1><STRONG>ORDER BY</STRONG></FONT> 
      clause. To explicitly specify ascending or descending order, add <FONT 
      face="courier New, Courier" size=-1><STRONG>ASC</STRONG></FONT> or <FONT 
      face="courier New, Courier" size=-1><STRONG>DESC</STRONG></FONT>, to the 
      end of the <FONT face="courier New, Courier" size=-1><STRONG>ORDER 
      BY</STRONG></FONT> clause. The following is an example of a sort using 
      descending sequence. </P><FONT face="courier New, Courier" color=#660066 
      size=3><PRE><STRONG>ORDER BY hire_date DESC; </STRONG>
</PRE></FONT>
      <H4>&nbsp;</H4>
      <H4>Naming the Sort Column</H4>
      <P>You may indicate the sort column by naming it directly (e.g., <FONT 
      face="courier New, Courier" size=-1><STRONG>hire_date</STRONG></FONT>) or 
      by specifying its position within the <FONT face="courier New, Courier" 
      size=-1><B>SELECT</B></FONT> statement. Since <STRONG><FONT 
      face="Courier New, Courier" size=-1>hire_date</FONT></STRONG> is the 
      fourth column in the <FONT face="Courier New, Courier" 
      size=-1><B>SELECT</B></FONT> statement, the following <FONT 
      face="courier New, Courier" size=-1><STRONG>ORDER BY</STRONG></FONT> 
      clause is equivalent to saying <FONT face="Courier New, Courier" 
      size=-1><STRONG>ORDER BY hire_date</STRONG></FONT>.</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><STRONG>ORDER BY 4;</STRONG>
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Multiple ORDER BY Columns</B></FONT> 

<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>An <FONT face="Courier New, Courier" size=-1><STRONG>ORDER 
      BY</STRONG></FONT> clause may specify multiple columns. No single column 
      in an <FONT face="Courier New, Courier" size=-1><STRONG>ORDER 
      BY</STRONG></FONT> clause should exceed a length of 4096 bytes, otherwise 
      it will be truncated for sorting purposes. </P>
      <P>The order in which columns are listed in the <FONT 
      face="Courier New, Courier" size=-1><STRONG>ORDER BY</STRONG></FONT> 
      clause is significant. The column named first is the major sort column. 
      The second and subsequent are minor sort columns. In the following 
      example, results are sorted by department number in ascending order. Where 
      multiple records share the same department number, those rows are sorted 
      by <STRONG><FONT face="Courier New, Courier" 
      size=-1>job_code</FONT></STRONG> in ascending order. The following are 
      examples:</P><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT     employee_number 
           ,department_number 
           ,job_code 
FROM       employee 
WHERE      department_number &lt; 302 
ORDER BY   department_number 
           ,job_code; </B>
</PRE></FONT>
      <P>
      <TABLE borderColor=#ffffcc cellSpacing=0 cellPadding=2 width="90%" 
      border=0>
        <TBODY>
        <TR>
          <TD width="30%">
            <DIV 
            align=right><STRONG>employee_number</STRONG><BR>--------------------</DIV></TD>
          <TD width="40%">
            <DIV 
            align=right><STRONG>department_number</STRONG><BR>---------------------- 
            </DIV></TD>
          <TD width="30%">
            <DIV align=right><STRONG>job_code</STRONG><BR>---------- 
</DIV></TD></TR>
        <TR>
          <TD>
            <DIV align=right>801</DIV></TD>
          <TD>
            <DIV align=right>100</DIV></TD>
          <TD>
            <DIV align=right>111100</DIV></TD></TR>
        <TR>
          <TD>
            <DIV align=right>1025</DIV></TD>
          <TD>
            <DIV align=right>201</DIV></TD>
          <TD>
            <DIV align=right>211100</DIV></TD></TR>
        <TR>
          <TD>
            <DIV align=right>1021</DIV></TD>
          <TD>
            <DIV align=right>201</DIV></TD>
          <TD>
            <DIV align=right>222101</DIV></TD></TR>
        <TR>
          <TD>
            <DIV align=right>1019</DIV></TD>
          <TD>
            <DIV align=right>301</DIV></TD>
          <TD>
            <DIV align=right>311100</DIV></TD></TR>
        <TR>
          <TD>
            <DIV align=right>1006</DIV></TD>
          <TD>
            <DIV align=right>301</DIV></TD>
          <TD>
            <DIV align=right>312101</DIV></TD></TR>
        <TR>
          <TD>
            <DIV align=right>1008</DIV></TD>
          <TD>
            <DIV align=right>301</DIV></TD>
          <TD>
            <DIV align=right>312102</DIV></TD></TR></TBODY></TABLE></P>
      <P><B>Note:</B> Each column specified in the <FONT 
      face="Courier New, Courier" size=-1><STRONG>ORDER BY</STRONG></FONT> 
      clause can have its own sort order, either ascending or 
      descending.</P><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT      employee_number 
            ,department_number 
            ,job_code 
FROM        employee 
WHERE       department_number &lt; 302 
ORDER BY    department_number ASC 
            ,job_code DESC; </B>
</PRE></FONT>
      <P>
      <TABLE cellSpacing=0 cellPadding=2 width="90%" border=0>
        <TBODY>
        <TR>
          <TD width="30%">
            <DIV 
            align=right><STRONG>employee_number</STRONG><BR>--------------------</DIV></TD>
          <TD width="38%">
            <DIV 
            align=right><STRONG>department_number</STRONG><BR>---------------------- 
            </DIV></TD>
          <TD width="32%">
            <DIV align=right><STRONG>job_code</STRONG><BR>---------- 
</DIV></TD></TR>
        <TR>
          <TD>
            <DIV align=right>801</DIV></TD>
          <TD>
            <DIV align=right>100</DIV></TD>
          <TD>
            <DIV align=right>111100</DIV></TD></TR>
        <TR>
          <TD>
            <DIV align=right>1021</DIV></TD>
          <TD>
            <DIV align=right>201</DIV></TD>
          <TD>
            <DIV align=right>222101</DIV></TD></TR>
        <TR>
          <TD>
            <DIV align=right>1025</DIV></TD>
          <TD>
            <DIV align=right>201</DIV></TD>
          <TD>
            <DIV align=right>211100</DIV></TD></TR>
        <TR>
          <TD>
            <DIV align=right>1008</DIV></TD>
          <TD>
            <DIV align=right>301</DIV></TD>
          <TD>
            <DIV align=right>312102</DIV></TD></TR>
        <TR>
          <TD>
            <DIV align=right>1006</DIV></TD>
          <TD>
            <DIV align=right>301</DIV></TD>
          <TD>
            <DIV align=right>312101</DIV></TD></TR>
        <TR>
          <TD>
            <DIV align=right>1019</DIV></TD>
          <TD>
            <DIV align=right>301</DIV></TD>
          <TD>
            <DIV 
  align=right>311100</DIV></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>DISTINCT</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>DISTINCT</H2>  -->
      <P>The <FONT face="Courier New, Courier" 
      size=-1><STRONG>DISTINCT</STRONG></FONT> operator will consolidate 
      duplicate output rows to a single occurrence.</P>
      <H4>Example Without DISTINCT</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>    
<B>SELECT    department_number 
          ,job_code 
FROM      employee 
WHERE     department_number = 501; </B>
</PRE></FONT>
      <P>
      <TABLE cellSpacing=0 cellPadding=2 width="60%" border=0>
        <TBODY>
        <TR align=right>
          <TD 
            width="50%"><STRONG>department_number</STRONG><BR>----------------------</TD>
          <TD width="50%"><STRONG>job_code</STRONG><BR>----------</TD></TR>
        <TR align=right>
          <TD>501</TD>
          <TD>512101</TD></TR>
        <TR align=right>
          <TD>501</TD>
          <TD>512101</TD></TR>
        <TR align=right>
          <TD>501</TD>
          <TD>511100</TD></TR></TBODY></TABLE></P>
      <P><B>Note:</B> Two people in department 501 have the same job code 
      (512101). If our purpose is simply to find out <U>which</U> job codes 
      exist in department 501, we could use <FONT face="Courier New, Courier" 
      size=-1><STRONG>DISTINCT</STRONG></FONT> to avoid seeing duplicate rows. 
      </P>
      <H4>Example With DISTINCT</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>    
<B>SELECT    DISTINCT department_number
          ,job_code 
FROM      employee 
WHERE     department_number = 501; </B>
</PRE></FONT>
      <TABLE cellSpacing=0 cellPadding=2 width="60%" border=0>
        <TBODY>
        <TR align=right>
          <TD 
            width="50%"><STRONG>department_number</STRONG><BR>----------------------</TD>
          <TD width="50%"><STRONG>job_code</STRONG><BR>----------</TD></TR>
        <TR align=right>
          <TD>501</TD>
          <TD>511100</TD></TR>
        <TR align=right>
          <TD>501</TD>
          <TD>512101</TD></TR></TBODY></TABLE>
      <P><B>Note:</B> <FONT face="Courier New, Courier" 
      size=-1><STRONG>DISTINCT</STRONG></B></FONT> appears directly after <FONT 
      face="Courier New, Courier" size=-1><B>SELECT</B></FONT>, and before the 
      first named column. It may appear to apply only to the first column, but 
      in fact, <FONT face="Courier New, Courier" 
      size=-1><STRONG>DISTINCT</STRONG></FONT> applies to <U>all</U> columns 
      named in the query. Two rows in our result example set both have <FONT 
      face="Courier New, Courier" size=-1>department_number 501</FONT>. The 
      combination of <FONT face="Courier New, Courier" 
      size=-1>department_number</STRONG></FONT> and <FONT 
      face="Courier New, Courier" size=-1>job_code</STRONG></FONT> are distinct 
      since the job codes differ. </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Naming Database Objects</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>All Teradata objects, such as tables, must be assigned a name by the 
      user when they are created.</P>
      <P>These rules for naming objects are summarized as follows:</P>
      <TABLE cellSpacing=0 cellPadding=5 border=0>
        <TBODY>
        <TR vAlign=top align=left>
          <TD><B>Names are composed of:</B></TD>
          <TD>
            <UL>
              <LI>a-z 
              <LI>A-Z 
              <LI>0-9 
              <LI>_ (underscore) 
              <LI>$ 
              <LI># </LI></UL></TD></TR></TBODY></TABLE>
      <P><FONT color=#000000>Names are limited to 30 characters.<BR></FONT></P>
      <P><FONT color=#000000>Names cannot begin with a number.</FONT></P>
      <P><FONT color=#000000>Teradata names are not case-sensitive.</FONT></P>
      <P><FONT color=#000000><B>Examples of valid names:</B></FONT></P>
      <P><FONT 
      color=#000000>Accounts<BR>Accounts_2005<BR>accounts_over_$2000</FONT><BR>Account# 
      </P>
      <P><B>Equivalence</B></P>
      <P>Accounts and accounts represent the same table. Case is not 
      considered.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Naming Rules</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <H4>Naming Syntax</H4>
      <UL>
        <LI>Database names and User names must be unique within the Teradata 
        Database. 
        <LI>Table, view, macro, trigger, index and stored procedure names must 
        be unique within a Database or User. 
        <LI>Column names must be unique within a Table. </LI></UL>
      <P>The syntax for fully qualifying a column name is: </P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><STRONG>Databasename.Tablename.Columnname </STRONG>
</PRE></FONT>
      <P><STRONG>Example</STRONG></P>
      <TABLE borderColor=#ff9900 cellSpacing=0 cellPadding=8 width="72%" 
      bgColor=#ffffff border=0>
        <TBODY>
        <TR>
          <TD>NAME</TD>
          <TD>(unqualified)</TD></TR>
        <TR>
          <TD>EMPLOYEE.NAME</TD>
          <TD>(partially qualified)</TD></TR>
        <TR>
          <TD>PAYROLL.EMPLOYEE.NAME</TD>
          <TD>(fully qualified)</TD></TR></TBODY></TABLE>
      <P><IMG height=106 alt="sql0401.gif - 4787 Bytes" 
      src="Teradata SQL Introduction_files/sql0401.gif" width=451 border=0> </P>
      <P><B>Note:</B> The amount of qualification necessary is a function of 
      your default database setting.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Coding Conventions</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>SQL is considered a 'free form' language, that is, it can cover 
      multiple lines of code and there is no restriction on how much 'white 
      space' (i.e., blanks, tabs, carriage returns) may be embedded in the 
      query. Having said that, SQL is syntactically a very <U>precise</U> 
      language. Misplaced commas, periods and parenthesis will always generate a 
      syntax error.</P>
      <P>The following coding conventions are recommended because they make it 
      easier to </FONT><FONT color=#000000>read, </FONT><FONT 
      color=#000000>create, and </FONT><FONT color=#000000>change SQL 
      statements.</P>
      <H4>Recommended Practice</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>SELECT      last_name 
            ,first_name 
            ,hire_date 
            ,salary_amount  
FROM        employee 
WHERE       department_number = 401 
ORDER BY    last_name;  </B>
</PRE></FONT>
      <H4>Not Recommended Practice</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><STRONG>select last_name, first_name, hire_date, salary_amount 
from employee where department_number = 401 order by last_name;</STRONG> 
</PRE></FONT>
      <P>The first example is easy to read and troubleshoot (if necessary). The 
      second example appears to be a jumble of words. Both, however, are valid 
      SQL statements. </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><FONT face=Verdana size=3><B>Default Database</B></FONT> 

<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <H4>Setting the Default Database</H4>
      <P>As a valid user, you will normally have access rights to your own user 
      database and the objects it contains. You may also have permission to 
      access objects in other databases.</P>
      <P>The user name you logon with is usually your default database. (This 
      depends on how you were created as a user.) </P>
      <P>For example, if you log on as:</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><STRONG>  .logon rayc; 

  password: xyz </STRONG>
</PRE></FONT>
      <P>then "rayc" is normally your default database.</P>
      <P>Note the dot (.) before "logon". Commands that begin with a dot are 
      BTEQ commands, not SQL commands. The BTEQ command processor will read this 
      command; the SQL processor will not see it.</P>
      <P>Queries you make that do not specify the database name will be made 
      against your default database.</P>
      <H4>Changing the Default Database</H4>
      <P>The <FONT face="Courier New, Courier" 
      size=-1><STRONG>DATABASE</STRONG></FONT> command is used to change your 
      default database.</P>
      <P>For example:</P><FONT face="courier New, Courier" color=#660066 size=3><PRE><STRONG>DATABASE payroll;</STRONG>
</PRE></FONT>
      <P>sets your default database to payroll. Subsequent queries (assuming the 
      proper privileges are held) are made against the payroll database. </P><!-- 
<p align="center"><img src="2TdatSQL/../z-line.gif" width="20" height="2" border="0"><b> <a href="./images/labs/wbt-intro_lab.shtm">Lab</a></b> <img src="2TdatSQL/../z-line.gif" width="20" height="2" border="0"></p>
 --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->
</SCRIPT>
<LINK href="Teradata SQL Introduction_files/sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>
      <TABLE cellSpacing=0 cellPadding=8 width="100%" bgColor=#ffffcc 
        border=0><TBODY>
        <TR>
          <TD vAlign=top width="20%" bgColor=#ffffcc><B><FONT size=-1><A 
            name=LAB>Try It!</A></FONT></B> </TD>
          <TD vAlign=top width="80%" bgColor=#ffffcc>
            <P>For this set of lab questions you will need information from the 
            <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1>Database Info document.</A></P>
            <P>These exercises are to be done as a pencil-and-paper workshop. 
            Write SQL statements as you would enter them on-line. Click on the 
            buttons to the left to see the answers. </P></TD></TR>
        <TR>
          <TD vAlign=top width="20%">
            <P>Answers:</P><A 
            onclick="AnswerWindow('Mod02L01.htm',270,330,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A> <!--------------------Use:
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> 
for circle button with check mark------------------>&nbsp;Lab A 
            <BR><A onclick="AnswerWindow('Mod02L02.htm',430,410,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A> <!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            B <BR><A onclick="AnswerWindow('Mod02L03.htm',470,410,circbut03)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut03 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A> <!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            C <BR><A onclick="AnswerWindow('Mod02L04.htm',300,480,circbut04)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut04 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A> <!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            D </FONT></TD>
          <TD vAlign=top width="80%" bgColor=#ffffcc>
            <P>
            <OL type=A>
              <LI>Select all columns for all departments from the department 
              table.
              <P></P>
              <LI>Using the employee table, generate a report of employee last 
              and first names and salary for all of manager 1019's employees. 
              Order the report in last name ascending sequence.
              <P></P>
              <LI>Modify the previous request to show department number instead 
              of first name. Make it for manager 801's employees instead of 
              manager 1019's.
              <P></P>
              <LI>Prepare a report of the department numbers and the manager's 
              employee numbers for everyone in the employee table. Now add the 
              <FONT face="Courier New, Courier" size=-1><B>DISTINCT</B></FONT> 
              option to the same report. </LI></OL>
            <P><B>Note:</B> Save your answers for this Lab, as you actually 
            enter and run these exercises using BTEQ scripts for the Labs in 
            Module 
3.</P></FONT></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;Simple 
      BTEQ</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><FONT face=Verdana 
size=3><B>Objectives</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>After completing this module, you should be able to:</P>
      <UL>
        <LI>Use BTEQ to submit SQL to the Teradata database. 
        <LI>Set session parameters to enable 
        <UL>
          <UL>
            <LI>Teradata transaction semantics. 
            <LI>The SQL Flagger. </LI></UL></UL></LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><FONT face=Verdana size=3><B>What is BTEQ?</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P><B>BTEQ</B> is a front end tool for submitting SQL queries. 'BTEQ' 
      stands for Basic Teradata Query program.</P>
      <P>BTEQ is client software that resides on your network or 
      channel-attached host. After starting BTEQ, you will log on to Teradata 
      using a TDP-id (Teradata Director Program id), your user id and password. 
      The TDP-id identifies the instance of Teradata you are going to 
access.</P>
      <P>TDP's come in two varieties - the standard TDP for channel-attached 
      clients, and the Micro-TDP (or MTDP) for network-attached clients. </P>
      <P>They are involved in getting your SQL requests routed to a Parsing 
      Engine (PE) which validates your request and passes it to the Access 
      Module Processors (AMPs). AMPs retrieve the answer sets from the disks and 
      send the response set back to the PE which in turn forwards it to the TDP 
      and ultimately back to you at your session.</P>
      <P>&nbsp;</P>
      <H4>Where is BTEQ Located?</H4>
      <P><B>BTEQ </B>is Teradata client software which is installed on mainframe 
      hosts or network attached clients. It operates under all host systems and 
      local area networks (LANs).</P>
      <P>&nbsp;</P>
      <H4>BTEQ Commands</H4>
      <P>Facts about BTEQ commands: </P>
      <UL>
        <LI>Must be preceded by a period (.) or terminated by a semi-colon or 
        both. 
        <LI>Provide an output listing (an audit trail) of what occurred. 
        <LI>Additional commands for report formatting are available. 
        <LI>Are not case-sensitive. </LI></UL>
      <P>Invoking BTEQ varies somewhat depending on the platform. In the UNIX 
      enviroment, simply typing in the command 'bteq' is required.</P>
      <P>For purposes of this course, instructions for starting a lab session 
      are contained on each lab page.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Using BTEQ Interactively</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <H4>Submitting SQL Statements with BTEQ</H4>
      <P>There are two ways to submit SQL statements to BTEQ in interactive 
      mode:</P>
      <UL>
        <LI>Type in SQL statements directly to the BTEQ prompt. 
        <LI>Open another window with a text editor. Compose SQL statements using 
        the text editor, then cut and paste the SQL to the BTEQ prompt. </LI></UL>
      <P>When users log on to BTEQ, they are by default assigned a single 
      session. </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Session Parameters</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!--  <H4><a name="3"></a>Session Parameters</H4> -->
      <P><B>Session parameters</B> include <U>transaction semantics</U> and the 
      <U>SQL Flagger</U>.</P>
      <P><B>Transaction semantics</B>, allows you to set your session in either 
      ANSI or Teradata (BTET) mode. All features of Teradata SQL will work in 
      either mode, but each mode activates different case-sensitivity and data 
      conversion defaults, and so the same query might return different results 
      in each mode. </P>
      <P>For purposes of this course, Teradata-mode sessions will be assumed 
      unless otherwise specified. More on these session parameters is covered in 
      the Teradata SQL Advanced WBT.</P>
      <H4>Example</H4>
      <P><FONT face=COURIER color=#660066 size=-1 NEW><STRONG>.SET SESSION 
      TRANSACTION ANSI; /* Sets ANSI mode*/</STRONG></FONT><STRONG><FONT 
      color=#660066> </FONT></STRONG></P>
      <P><STRONG><FONT face=COURIER color=#660066 size=-1 new>.SET SESSION 
      TRANSACTION BTET; /* Sets Teradata mode*/</FONT></STRONG></P>
      <P><STRONG><FONT face=COURIER color=#660066 size=-1><B>Note:</B> <B>All 
      text between /* and&nbsp;*/ are treated as comments by 
      BTEQ.</B></FONT></STRONG></P>
      <P>You may also activate the <B>ANSI Flagger</B>, which automatically 
      flags non-ANSI compliant syntax with a warning but still returns the 
      expected answer set.</P>
      <H4 class=TitleExample>Example</H4>
      <P><FONT face="Courier New, Courier" color=#660066 size=-1><STRONG>.SET 
      SESSION SQLFLAG ENTRY; /* Causes non-Entry level ANSI syntax to be flagged 
      */ </STRONG></FONT></P>
      <P><FONT face="Courier New, Courier" color=#660066 size=-1><STRONG>SELECT 
      DATE; /* Causes a warning because keyword DATE is not ANSI standard*/ 
      </STRONG></FONT></P>
      <P><FONT color=#660066><STRONG><FONT face="Courier New, Courier, mono" 
      size=2>*** SQL Warning 5821 Built-in values DATE and TIME are not 
      ANSI.<BR>*** Query completed. One row found. One column returned.<BR>*** 
      Total elapsed time was 1 seconds. </FONT></STRONG></FONT></P><PRE><FONT size=2>    Date<BR>--------<BR>05/01/12</FONT><FONT face="Courier New, Courier, mono" size=-1>
</FONT></PRE>
      <H4 class=TitleExample>Example</H4>
      <P><FONT face="Courier New, Courier, mono" color=#660066 
      size=2><STRONG>.SET SESSION SQLFLAG NONE /* Disables ANSI Flagger*/ 
      </STRONG></FONT></P>
      <P><STRONG><FONT face="Courier New, Courier, mono" color=#660066 
      size=2>SELECT DATE; /* DATE keyword is not flagged */</FONT></STRONG></P>
      <P><STRONG><FONT face="Courier New, Courier, mono" color=#660066 
      size=2>*** Query completed. One row found. One column returned. <BR>*** 
      Total elapsed time was 1 second.</FONT></STRONG></P><PRE><FONT size=2>    Date<BR>--------<BR>05/01/12</FONT></PRE>
      <P><B>Note:</B> In both cases, the date was returned.<BR></P>
      <P>You need to establish your session parameters prior to logging on. 
      Teradata extensions cannot be disabled, but they can be flagged using the 
      ANSI flagger.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>The SHOW CONTROL Command</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>The BTEQ <FONT face="Courier New, Courier" size=-1><B>.SHOW 
      CONTROL</B></FONT> command displays BTEQ settings. The following output 
      shows the result of this command.</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE> <B>.SHOW CONTROL

 Default Maximum Byte Count          = 4096 
 Default Multiple Maximum Byte Count = 2048 
 Current Response Byte Count         = 4096 
 Maximum number of sessions          = 20 
 Maximum number of the request size  = 32000 

 EXPORT  RESET                      
 IMPORT  FIELD                      
 LOGON   L7544/tdxxx              
 RUN                                
 [SET] ECHOREQ           = ON       
 [SET] ERRORLEVEL        = ON       
 [SET] FOLDLINE          = OFF ALL  
 [SET] FOOTING           = NULL     
 [SET] FORMAT            = OFF      
 [SET] FORMCHAR          = OFF      
 [SET] FULLYEAR          = OFF      
 [SET] HEADING           = NULL     
 [SET] INDICDATA         = OFF      
 [SET] NOTIFY            = OFF      
 [SET] NULL              = ?        
 [SET] OMIT              = OFF ALL  
 [SET] PAGEBREAK         = OFF ALL  
 [SET] PAGELENGTH        = 55       
 [SET] QUIET             = OFF      
 [SET] RECORDMODE        = OFF      
 [SET] REPEATSTOP        = OFF      
 [SET] RETCANCEL         = OFF      
 [SET] RETLIMIT          = No Limit 
 [SET] REPEATSTOP        = OFF   
 [SET] RETCANCEL         = OFF      
 [SET] RETLIMIT          = No Limit 
 [SET] RETRY             = ON  
 [SET] RTITLE            = NULL 
 [SET] SECURITY          = NONE
 [SET] SEPARATOR         = two blanks    
 [SET] SESSION CHARSET   = ASCII     
<FONT color=#ff0000> [SET] SESSION SQLFLAG   = NONE
 [SET] SESSION TRANSACTION = BTET  </FONT>
 [SET] SESSIONS          = 1   
 [SET] SIDETITLES        = OFF for the normal report.    
 [SET] SKIPDOUBLE        = OFF ALL        
 [SET] SKIPLINE          = OFF ALL        
 [SET] SUPPRESS          = OFF ALL         
 [SET] TDP               = L7544  
 [SET] TIMEMSG           = DEFAULT      
 [SET] TITLEDASHES       = ON for the normal report.
 [SET] UNDERLINE         = OFF ALL 
 [SET] WIDTH             = 75</B>   
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>BTEQ Scripts</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>A BTEQ script is a file that contains BTEQ commands and SQL statements. 
      A script is built for sequences of commands that are to be executed on 
      more than one occasion, i.e. monthly, weekly, daily. </P>
      <H4>How to create a BTEQ Script</H4>
      <P>To create and edit a BTEQ script, use an editor on your client 
      workstation. For example, on a UNIX workstation, use either the vi or text 
      editor. <BR></P>
      <H4><BR>How to Submit a BTEQ Script</H4>
      <P>Start BTEQ, then enter the following BTEQ command to submit a BTEQ 
      script: <FONT face="courier New, Courier" color=#660066 size=3><PRE>  <B>.run file = &lt;scriptname&gt;</B>
</PRE></FONT>
      <H4><BR>BTEQ Comments -- Teradata Extensions</H4>
      <P>The Teradata RDBMS supports comments that span multiple lines by using 
      the "<FONT face="Courier New, Courier" size=-1>/*</FONT>" and "<FONT 
      face="Courier New, Courier" size=-1>*/</FONT>" as delimiters. 
      <P>
      <P><B>Example of a BTEQ comment:</B></P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>     <B>/* You can include comments in a BTEQ  
    script by enclosing the comment text between /* and */       
    and the comment may span multiple lines */ </B>

</PRE></FONT>
      <H4>Script Example</H4>
      <P>Let's look at an example of a BTEQ script using ANSI standard comments. 
      The ANSI comment delimiter is the double dash, --.</P>
      <P>(This script is named mod2exer.scr )</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>   <B>.SET SESSION TRANSACTION ANSI
   .LOGON L7544/tdxxx,<PASSWORD>;

   -- Obtain a list of the department numbers and names
   -- from the department table.

   SELECT   department_number
             ,department_name
   FROM     department;

   .QUIT</B>
</PRE></FONT>
      <P><B>Note:</B> Both Teradata style (/* */) and ANSI style (--) comments 
      may be included in any SQL command script.</P>
      <H4><BR>To Execute The Script:</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>   <B>.run file=mod2exer.scr</B>
</PRE></FONT>
      <P>(The following is the output generated by the above command.) </P>
      <TABLE borderColor=#ff9900 cellSpacing=0 cellPadding=5 width="99%" 
      border=1>
        <TBODY>
        <TR>
          <TD><FONT face="Courier New, Courier" size=-1>
            <P>Script started on Sat Feb 15 10:48:19 1997<BR>$ bteq</P>
            <P>Teradata BTEQ 04.00.01.00 for UNIX5. Enter your logon or BTEQ 
            command: </P>
            <TABLE cellSpacing=0 cellPadding=3 width="100%" border=0>
              <TBODY>
              <TR vAlign=top align=left>
                <TD width="40%"><FONT face="courier New, Courier" 
                  size=-1><B>.run file=mod2exer.scr</B></FONT> </TD>
                <TD width="60%"><FONT face="Times New Roman, Times, serif" 
                  size=-1>(this is the only user input; the rest of the commands 
                  came from file mod2exer.scr)</FONT></TD></TR></TBODY></TABLE>
            <P>.run file=mod2exer.scr<BR>Teradata BTEQ 04.00.01.00 for UNIX5. 
            Enter your logon or BTEQ command: </P>
            <P>.LOGON L7544/tdxxx, 
            <P>*** Logon successfully completed. <BR>*** Transaction Semantics 
            are ANSI. <BR>*** Character Set Name is 'ASCII'. <BR>*** Total 
            elapsed time was 1 second.</P>
            <P>BTEQ -- Enter your DBC/SQL request or BTEQ command: <BR>-- Obtain 
            a list of the department numbers and names <BR>-- from the 
            department table.</P>
            <P><B>SELECT</B> department_number <BR>,department_name <BR>FROM 
            department;</P>
            <P>*** Query completed. 9 rows found. 2 columns returned.<BR>*** 
            Total elapsed time was 1 second.</P>
            <TABLE cellPadding=2 width="70%" border=0>
              <TBODY>
              <TR>
                <TD><FONT face="Courier New, Courier" 
                  size=-1>department_number</FONT></TD>
                <TD><FONT face="Courier New, Courier" 
                  size=-1>department_name</FONT></TD></TR>
              <TR>
                <TD>------------------</TD>
                <TD>-----------------</TD></TR>
              <TR>
                <TD align=middle><FONT face="Courier New, Courier" size=-1>401 
                  </FONT></TD>
                <TD><FONT face="Courier New, Courier" size=-1>customer 
                  support</FONT></TD></TR></TBODY></TABLE>
            <P><B>&lt;rest of result rows are not shown in this screen 
            capture&gt;</B> </P>
            <P>BTEQ -- Enter your DBC/SQL request or BTEQ command: </P>
            <P>.QUIT<BR>*** You are now logged off from the DBC.<BR>*** Exiting 
            BTEQ...<BR>*** RC (return code) = 0<BR># 
        exit</P></FONT></TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Using BTEQ in BATCH Mode</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>If you prefer to write all SQL statements in a single script file, 
      there are two ways you may execute the script: </P>
      <UL>
        <LI>Start BTEQ in interactive mode. Use the following BTEQ command to 
        execute the script: 
        <P><FONT face="Courier New, Courier" size=-1><STRONG><FONT 
        color=#660033>.run file = mod2exer.scr</FONT></STRONG></FONT><FONT 
        color=#660033><STRONG> </STRONG></FONT>
        <P></P>
        <LI>Start BTEQ and redirect standard input to use the script file. 
        <P><FONT face="Courier New, Courier" color=#660033 size=-1><STRONG>$bteq 
        &lt; mod2exer.scr </STRONG></FONT>
        <P><B>(Note:</B> The dollar sign <FONT face="Courier New, Courier" 
        size=-1>$</FONT> corresponds to the UNIX prompt.) </P></LI></UL>
      <H4><BR>How to Capture BTEQ Session Output</H4>
      <P>From a UNIX workstation, use the <FONT face="Courier New, Courier" 
      size=-1>script &lt;filename&gt;</FONT> command to capture the output of 
      your session : </P>
      <P>
      <TABLE borderColor=#000099 cellSpacing=0 cellPadding=2 width="97%" 
      border=0>
        <TBODY>
        <TR vAlign=top align=left>
          <TD width="36%"><FONT face="Courier New, Courier" size=-1>$script 
            &lt;filename&gt;<BR>&nbsp;</FONT> </TD>
          <TD width="64%">Logs all input and output to <FONT 
            face="Courier New, Courier" size=-1>&lt;filename&gt;</FONT>.</TD></TR>
        <TR vAlign=top align=left>
          <TD width="36%"><FONT face="Courier New, Courier" 
            size=-1>$bteq<BR>&nbsp;</FONT></TD>
          <TD width="64%">Starts BTEQ in interactive mode.</TD></TR>
        <TR vAlign=top align=left>
          <TD width="36%"><FONT face="Courier New, Courier" size=-1>.run file 
            = &lt;scriptname&gt;<BR>&nbsp; </FONT></TD>
          <TD width="64%">Submits pre-written <FONT 
            face="Courier New, Courier" size=-1>script</FONT> which contains 
            BTEQ commands and SQL statements. </TD></TR></TBODY></TABLE>
      <P></P>
      <P>The contents of <FONT face="Courier New, Courier" 
      size=-1><B>&lt;scriptname&gt;</B></FONT> and responses from the Teradata 
      database will be output to both the screen and the designated <FONT 
      face="Courier New, Courier" size=-1><B>&lt;filename&gt;</B> </FONT>if one 
      has been designated. </P>
      <H4><BR>How to Stop Capturing BTEQ Session Output</H4>
      <P>From a UNIX workstation, issue the following UNIX command to stop the 
      <FONT size=-1><FONT face="Courier New, Courier, mono">script</FONT></FONT> 
      command: </P><FONT face="courier New, Courier" color=#660066 size=3><PRE>  <B>$exit</B>
</PRE></FONT>
      <P>This closes the logging file but does not terminate the UNIX session. 
      </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Identifying Syntax Errors</B></FONT> 

<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>BTEQ output results will display a "<FONT face="Courier New, Courier" 
      size=-1>$</FONT>" to indicate the location where the error was detected in 
      either the script or request. The following is an example of captured 
      output showing a syntax error: </P>
      <TABLE borderColor=#ff9900 cellSpacing=0 cellPadding=5 width="99%" 
      border=1>
        <TBODY>
        <TR>
          <TD><FONT face="Courier New, Courier" size=-1>
            <P>Script started on Thu Oct 24 16:21:21 1996<BR># bteq 
            <BR>&nbsp;&nbsp;&nbsp; </P>
            <P>&nbsp;&nbsp;Teradata BTEQ 04.00.00.00 for UNIX5. Enter your logon 
            or BTEQ command:</P><B>.</B>logon L7544/tdxxx,<BR><BR>*** Logon 
            successfully completed.<BR>*** Transaction Semantics are 
            ANSI.<BR>*** Character Set Name is 'ASCII'.<BR>*** Total elapsed 
            time was 1 second. <BR>
            <P>&nbsp;&nbsp;BTEQ&nbsp;&nbsp; --&nbsp;&nbsp; Enter your DBC/SQL 
            request or BTEQ command:</P>
            <TABLE height=130 cellSpacing=0 width="98%" border=0 
            ?cellpadding="2">
              <TBODY>
              <TR vAlign=top>
                <TD width=64>
                  <P><FONT size=-1>SELECT</FONT></P>
                  <P><FONT size=-1>FROM&nbsp;</FONT></P></TD>
                <TD width=224>
                  <P><FONT size=-1>department_number<BR>,DISTINCT 
                  department_name</FONT><BR><FONT size=-1>department;</FONT> 
                </P></TD></TR>
              <TR vAlign=top>
                <TD width=64 height=78><FONT 
                  size=-1><BR><BR><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
                  </FONT></TD>
                <TD vAlign=top width=224 height=78><BR>
                  <P><FONT size=-1>,DISTINCT department_name<BR>&nbsp;<FONT 
                  color=#ff0033 size=+1><B>$</B></FONT> 
                  &nbsp;&nbsp;&nbsp;<BR></FONT><FONT 
                  size=-1>&nbsp;&nbsp;</FONT></P></TD></TR></TBODY></TABLE>
            <P><FONT face="Courier New, Courier" size=-1><B>&nbsp;*** Failure 
            3708 Syntax error, 'DISTINCT' that follows the ',' should be 
            deleted.</B></FONT></P><FONT face="courier New, Courier" size=3><PRE> 
    Statement# 1,    Info =36
    *** Total elapsed time was 1 second
</PRE></FONT>
            <P><B>.</B>BTEQ -- Enter your DBC/SQL request or BTEQ 
            command:<BR>.quit<BR>&nbsp;&nbsp;*** You are now logged off from the 
            DBC.<BR>&nbsp;&nbsp;*** Exiting BTEQ... <BR>&nbsp;&nbsp;*** RC 
            (return code) = 8 <BR># exit </P>script done on Thu Oct 24 16:21:39 
            1996</FONT> </TD></TR></TBODY></TABLE>
      <P>The dollar sign points to the command <FONT face="Courier New, Courier" 
      size=-1><STRONG>DISTINCT</STRONG>.</FONT> The error text tells us that 
      <FONT face="Courier New, Courier" size=-1><STRONG>DISTINCT</STRONG></FONT> 
      should be deleted. The <FONT face="Courier New, Courier" 
      size=-1><STRONG>DISTINCT</STRONG></FONT> command must directly follow the 
      <FONT face="Courier New, Courier" size=-1><B>SELECT</B></FONT> command in 
      your request. </P>
      <P></P><!-- <p align="center"><img src="3BTEQ/../z-line.gif" width="20" height="2" border="0"> <b><a href="./images/labs/wbt-simple_bteq_lab.htm">Lab</a></b> <img src="3BTEQ/../z-line.gif" width="20" height="2" border="0"></p> --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK href="Teradata SQL Introduction_files/sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>
      <TABLE cellSpacing=0 cellPadding=8 width="100%" bgColor=#ffffcc 
        border=0><TBODY>
        <TR>
          <TD vAlign=top width="20%" bgColor=#ffffcc><B><FONT size=-1><A 
            name=LAB>Try It!</A></FONT></B> </TD>
          <TD vAlign=top width="80%" bgColor=#ffffcc><!-- <H2>LAB</H2> -->
            <P>For this set of lab questions you will need information from the 
            <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1>Database Info document.</A></P>
            <P>To start the online labs, click on the Telnet button in the lower 
            left hand screen of the course. Two windows will pop-up: a BTEQ 
            Instruction Screen and your Telnet Window. Sometimes the BTEQ 
            Instructions get hidden behind the Telnet Window. <BR>You will need 
            these instructions to log on to Teradata. </P>
            <P><B>Be sure to change your default database to the 
            Customer_Service database in order to run these labs.</B> </P>
            <P>Click on the buttons to the left to see the answers.</P></TD></TR>
        <TR>
          <TD vAlign=top width=106>Answers:<BR><A 
            onclick="AnswerWindow('Mod03L01.htm',400,500,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            A.1 <BR><A onclick="AnswerWindow('Mod03L02.htm',500,500,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab A.2</FONT> <BR><A 
            onclick="AnswerWindow('Mod03L03.htm',500,600,circbut03)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut03 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab A.3</FONT> <BR><A 
            onclick="AnswerWindow('Mod03L04.htm',520,500,circbut04)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut04 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab B</FONT> <BR><A 
            onclick="AnswerWindow('Mod03L05.htm',520,500,circbut05)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut05 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab C</FONT> <BR><A 
            onclick="AnswerWindow('Mod03L06.htm',520,500,circbut06)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut06 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab D</FONT> </FONT></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc>
            <P>
            <OL type=A>
              <LI>See Labs A, B, and C from Module 2 that you did on paper. You 
              can use NotePad or another text editor to create your SQL requests 
              again, and then simply copy and paste them into the Telnet window 
              after you've logged on with BTEQ. 
              <P></P>
              <LI>Use BTEQ to submit your two reports from Lab D in Module 2. 
              Observe the number of rows returned in your output. Which rows 
              were eliminated due to the <FONT face="courier New, Courier" 
              size=-1><B>DISTINCT</B></FONT> option? 
              <P>Click on the Lab B button to see the answer for this Lab. </P>
              <LI>Set the ANSI Flagger ON and observe the differences it 
              produces. 
              <P>Do this by:</P>Logging off of Teradata (<B>.logoff</B>). 
              <BR>Setting the flagger on (<B>.SET SESSION SQLFLAG 
              ENTRY</B>).<BR>Relogging on to Teradata <BR>
              <P>Resubmit your query from Lab A.1. <BR>What differences do you 
              observe? <BR>Why? </P>
              <P>(<B>Note:</B> the ANSI Flagger is covered in more detail <FONT 
              color=#ff0000>in SQL Level 3</FONT>.)</P>
              <P>Click on the Lab C button to see the answer for this Lab.</P>
              <LI>1) Determine the default system session transaction mode. What 
              command did you use? 
              <P>2) Set the session transaction mode to the opposite setting 
              (e.g., set it to ANSI if the system default is BTET) then verify 
              the new setting. </P>
              <P>Click on the Lab D button to see the answer for this Lab. 
              </P></LI></OL></FONT></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;HELP 
      Functions</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><LINK href="../sqlstyle.css" 
type=text/css rel=stylesheet><FONT face=Verdana size=3><B>Objectives</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>After completing of this module, you should be able to:</P>
      <UL>
        <LI>Obtain the definition of an existing Database, Table, View, or Macro 
        using the <FONT face="Courier New, Courier" 
        size=-1><STRONG>HELP</STRONG></FONT> and <FONT 
        face="Courier New, Courier" size=-1><STRONG>SHOW</STRONG></FONT> 
        statements. 
        <LI>Determine how the Teradata RDBMS will process a SQL request using 
        the <FONT face="Courier New, Courier" 
        size=-1><STRONG>EXPLAIN</STRONG></FONT> statement. 
  </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Teradata SQL Extensions</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>Several commands in our software are Teradata-specific. Here is a list 
      of Teradata extensions covered within this course. </P>
      <TABLE cellSpacing=0 cellPadding=2 width="73%" border=1>
        <TBODY>
        <TR>
          <TD vAlign=top align=left width="43%">ADD_MONTHS</TD>
          <TD width="57%">BEGIN/ END TRANSACTION </TD></TR>
        <TR>
          <TD>COLLECT/ DROP STATISTICS</TD>
          <TD vAlign=top align=left>COMMENT ON </TD></TR>
        <TR>
          <TD>CONCATENATION</TD>
          <TD><B>EXPLAIN </B></TD></TR>
        <TR>
          <TD>FALLBACK</TD>
          <TD>FORMAT </TD></TR>
        <TR>
          <TD><B>HELP</B></TD>
          <TD>INDEX </TD></TR>
        <TR>
          <TD vAlign=top align=left>LOCKING</TD>
          <TD vAlign=top align=left>MACRO Facility 
            <P>&nbsp; CREATE<BR>&nbsp; REPLACE<BR>&nbsp; DROP<BR>&nbsp; 
            EXECUTE </P></TD></TR>
        <TR>
          <TD>NAMED</TD>
          <TD>NULLIFZERO/ZEROIFNULL</TD></TR>
        <TR>
          <TD><B>SHOW</B></TD>
          <TD>SUBSTR</TD></TR>
        <TR>
          <TD>TITLE</TD>
          <TD>TRIM</TD></TR>
        <TR>
          <TD>WITH</TD>
          <TD>WITH . . . BY</TD></TR></TBODY></TABLE>
      <P></P>
      <P>In this module, we focus on the following functions:</P>
      <UL>
        <LI><FONT face="Courier New, Courier" 
        size=-1><STRONG>EXPLAIN</STRONG></FONT> 
        <LI><FONT face="Courier New, Courier" size=-1><STRONG>HELP</STRONG> 
        </FONT>
        <LI><FONT face="Courier New, Courier" 
        size=-1><STRONG>SHOW</STRONG></FONT> </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>HELP Commands: Database 
objects</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>The <FONT face="Courier New, Courier" 
      size=-1><STRONG>HELP</STRONG></FONT> Command is used to display 
      information about database objects such as (but not limited to): </P>
      <UL>
        <LI>Databases and Users 
        <LI>Tables 
        <LI>Views 
        <LI>Macros </LI></UL>
      <P><FONT face="Courier New, Courier" size=-1><STRONG>HELP</STRONG></FONT> 
      retrieves information about these objects from the Data Dictionary. Below 
      are the syntactical options for various forms of the <FONT 
      face="Courier New, Courier" size=-1><STRONG>HELP</STRONG></FONT> command: 
      </P>
      <H4>HELP Command</H4>
      <TABLE cellSpacing=0 cellPadding=2 width="90%" border=0>
        <TBODY>
        <TR>
          <TD width=180><B>HELP DATABASE</B></TD>
          <TD vAlign=bottom align=left width=715><B>databasename; </B></TD></TR>
        <TR>
          <TD width=180><B>HELP USER</B></TD>
          <TD width=715><B>username;</B></TD></TR>
        <TR>
          <TD width=180><B>HELP TABLE</B></TD>
          <TD width=715><B>tablename;</B></TD></TR>
        <TR>
          <TD width=180><B>HELP VIEW</B></TD>
          <TD width=715><B>viewname;</B></TD></TR>
        <TR>
          <TD width=180><B>HELP MACRO</B></TD>
          <TD width=715><B>macroname;</B></TD></TR>
        <TR>
          <TD vAlign=top align=left width=180><B>HELP COLUMN</B></TD>
          <TD width=715>
            <DIV align=left><B>table or viewname.*; &nbsp;(all columns) 
            </B></DIV></TD></TR>
        <TR>
          <TD vAlign=top align=left width=180><B>HELP COLUMN</B></TD>
          <TD width=715><B>table or viewname.colname . . ., colname; 
        </B></TD></TR></TBODY></TABLE>
      <P>Some of the other <STRONG><FONT face="Courier New, Courier" 
      size=-1>HELP</FONT></STRONG> commands which will be seen later in this 
      course include:</P>
      <TABLE cellSpacing=0 cellPadding=4 width="90%" border=0>
        <TBODY>
        <TR>
          <TD width=240><B>HELP INDEX</B></TD>
          <TD width=647><B>tablename;</B></TD></TR>
        <TR>
          <TD width=240><B>HELP STATISTICS&nbsp;&nbsp;</B></TD>
          <TD vAlign=bottom align=left width=647><B>tablename; </B></TD></TR>
        <TR>
          <TD width=240><B>HELP CONSTRAINT</B></TD>
          <TD width=647><B>constraintname;</B></TD></TR>
        <TR>
          <TD width=240><B>HELP JOIN INDEX</B></TD>
          <TD width=647><B>join_indexname;</B></TD></TR>
        <TR>
          <TD width=240><B>HELP TRIGGER</B></TD>
          <TD 
  width=647><B>triggername;</B></TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>The HELP DATABASE Command</B></FONT> 

<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>The <FONT face="Courier New, Courier" size=-1><STRONG>HELP 
      DATABASE</STRONG></FONT> command in the following example shows all 
      objects in the <FONT face="Courier New, Courier" 
      size=-1>Customer_Service</FONT> database. Objects may be recognized by 
      their 'Kind' designation as follows: </P>
      <TABLE cellSpacing=0 cellPadding=2 width="65%" border=0>
        <TBODY>
        <TR>
          <TD width="10%">&nbsp;</TD>
          <TD width="39%">Table</TD>
          <TD width="51%">= T </TD></TR>
        <TR>
          <TD width="10%">&nbsp;</TD>
          <TD width="39%">View </TD>
          <TD width="51%">= V</TD></TR>
        <TR>
          <TD width="10%">&nbsp;</TD>
          <TD width="39%">Macro</TD>
          <TD width="51%">= M</TD></TR>
        <TR>
          <TD width="10%">&nbsp;</TD>
          <TD width="39%">Trigger</TD>
          <TD width="51%">= G</TD></TR>
        <TR>
          <TD width="10%">&nbsp;</TD>
          <TD width="39%">Join Index</TD>
          <TD width="51%">= J</TD></TR>
        <TR>
          <TD width="10%">&nbsp;</TD>
          <TD width="39%">Stored Procedure</TD>
          <TD width="51%">= P</TD></TR></TBODY></TABLE><FONT 
      face="Courier New, Courier" color=#660033 size=3><PRE>  <STRONG>HELP DATABASE Customer_Service;</STRONG>
</PRE></FONT>
      <P>Results will be displayed as follows:</P><!-- <font face="Courier New, Courier, mono" size="3">
<pre>
<U>Table/View/Macro Name</U>    <U>Kind</U>     <U>Comment</U>
contact                  T        ?
customer                 T        ?
department               T        ?
employee                 T        ?
employee_phone           T        ?
job                      T        ?
location                 T        ?
location_employee        T        ?
location_phone           T        ?
</pre>
</font> -->
      <TABLE cellSpacing=0 cellPadding=3 width="65%" border=0>
        <TBODY>
        <TR>
          <TD vAlign=top width="48%"><FONT face=Verdana size=2>
            <P><U><STRONG>Table/View/Macro Name</STRONG></U></FONT></P></TD>
          <TD vAlign=top width="15%"><FONT face=Verdana size=2>
            <P align=center><U><STRONG>Kind</STRONG></U></FONT></P></TD>
          <TD vAlign=top width="37%"><FONT face=Verdana size=2>
            <P align=center><U><STRONG>Comment</STRONG></U></FONT></P></TD></TR>
        <TR>
          <TD vAlign=top width="48%"><FONT face=Verdana size=2>
            <P>contact</FONT></P></TD>
          <TD vAlign=top width="15%"><FONT face=Verdana size=2>
            <P align=center>T</FONT></P></TD>
          <TD vAlign=top width="37%"><FONT face=Verdana size=2>
            <P align=center>?</FONT></P></TD></TR>
        <TR>
          <TD vAlign=top width="48%"><FONT face=Verdana size=2>
            <P>customer </FONT></P></TD>
          <TD vAlign=top width="15%"><FONT face=Verdana size=2>
            <P align=center>T</FONT></P></TD>
          <TD vAlign=top width="37%"><FONT face=Verdana size=2>
            <P align=center>?</FONT></P></TD></TR>
        <TR>
          <TD vAlign=top width="48%"><FONT face=Verdana size=2>
            <P>department </FONT></P></TD>
          <TD vAlign=top width="15%"><FONT face=Verdana size=2>
            <P align=center>T</FONT></P></TD>
          <TD vAlign=top width="37%"><FONT face=Verdana size=2>
            <P align=center>?</FONT></P></TD></TR>
        <TR>
          <TD vAlign=top width="48%"><FONT face=Verdana size=2>
            <P>employee </FONT></P></TD>
          <TD vAlign=top width="15%"><FONT face=Verdana size=2>
            <P align=center>T</FONT></P></TD>
          <TD vAlign=top width="37%"><FONT face=Verdana size=2>
            <P align=center>?</FONT></P></TD></TR>
        <TR>
          <TD vAlign=top width="48%"><FONT face=Verdana size=2>
            <P>employee_phone </FONT></P></TD>
          <TD vAlign=top width="15%"><FONT face=Verdana size=2>
            <P align=center>T</FONT></P></TD>
          <TD vAlign=top width="37%"><FONT face=Verdana size=2>
            <P align=center>?</FONT></P></TD></TR>
        <TR>
          <TD vAlign=top width="48%"><FONT face=Verdana size=2>
            <P>job </FONT></P></TD>
          <TD vAlign=top width="15%"><FONT face=Verdana size=2>
            <P align=center>T</FONT></P></TD>
          <TD vAlign=top width="37%"><FONT face=Verdana size=2>
            <P align=center>?</FONT></P></TD></TR>
        <TR>
          <TD vAlign=top width="48%"><FONT face=Verdana size=2>
            <P>location </FONT></P></TD>
          <TD vAlign=top width="15%"><FONT face=Verdana size=2>
            <P align=center>T</FONT></P></TD>
          <TD vAlign=top width="37%"><FONT face=Verdana size=2>
            <P align=center>?</FONT></P></TD></TR>
        <TR>
          <TD vAlign=top width="48%"><FONT face=Verdana size=2>
            <P>location_employee </FONT></P></TD>
          <TD vAlign=top width="15%"><FONT face=Verdana size=2>
            <P align=center>T</FONT></P></TD>
          <TD vAlign=top width="37%"><FONT face=Verdana size=2>
            <P align=center>?</FONT></P></TD></TR>
        <TR>
          <TD vAlign=top width="48%"><FONT face=Verdana size=2>
            <P>location_phone </FONT></P></TD>
          <TD vAlign=top width="15%"><FONT face=Verdana size=2>
            <P align=center>T</FONT></P></TD>
          <TD vAlign=top width="37%"><FONT face=Verdana size=2>
            <P align=center>?</FONT></P></TD></TR></TBODY></TABLE>
      <P>All objects in this database are tables. The '?' is how BTEQ displays a 
      null, indicating that no user comments have been entered. </P>
      <P><B>Note: </B>To return <FONT face="Courier New, Courier" 
      size=-1><STRONG>HELP</STRONG></FONT> information on an object, a user must 
      either own the object or have at least one privilege on 
  it.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>The HELP TABLE Command</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>The HELP TABLE Command</H2> -->
      <P>The <FONT face="Courier New, Courier" size=-1><STRONG>HELP 
      TABLE</STRONG></FONT> command shows the name, data type, and comment (if 
      applicable), of all columns in the specified table:</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <STRONG>HELP TABLE Customer_Service.employee</STRONG>
</PRE></FONT>
      <TABLE cellPadding=3 width="81%" border=0>
        <TBODY>
        <TR>
          <TD width="36%"><U><STRONG>ColumnName</STRONG></U></TD>
          <TD width="11%"><U><STRONG>Type</STRONG></U></TD>
          <TD width="53%"><U><STRONG>Comment</STRONG></U></TD></TR>
        <TR>
          <TD vAlign=top align=left>employee_number</TD>
          <TD vAlign=top align=left>I</TD>
          <TD>System assigned identification</TD></TR>
        <TR>
          <TD>manager_employee_number&nbsp;&nbsp;&nbsp;&nbsp;</TD>
          <TD>I</TD>
          <TD>?</TD></TR>
        <TR>
          <TD vAlign=top align=left>department_number</TD>
          <TD vAlign=top align=left>I</TD>
          <TD>Department employee works in</TD></TR>
        <TR>
          <TD vAlign=top align=left>job_code</TD>
          <TD vAlign=top align=left>I</TD>
          <TD>Job classification designation</TD></TR>
        <TR>
          <TD>last_name</TD>
          <TD>CF</TD>
          <TD>Employee surname</TD></TR>
        <TR>
          <TD>first_name</TD>
          <TD>CV</TD>
          <TD>Employee given name</TD></TR>
        <TR>
          <TD>hire_date</TD>
          <TD vAlign=top align=left>DA</TD>
          <TD>Date employee was hired</TD></TR>
        <TR>
          <TD>birthdate</TD>
          <TD>DA</TD>
          <TD>?</TD></TR>
        <TR>
          <TD vAlign=top align=left>salary_amount</TD>
          <TD vAlign=top align=left>D</TD>
          <TD>Annual compensation amount</TD></TR></TBODY></TABLE>
      <P><B>Data types are as follows:</B> </P>
      <TABLE cellPadding=0 width="81%" border=0>
        <TBODY>
        <TR>
          <TD width="15%"><U><STRONG>Type</STRONG></U></TD>
          <TD width="38%"><U><STRONG>Description</STRONG></U></TD>
          <TD width="15%"><U><STRONG>Type</STRONG></U></TD>
          <TD width="32%"><U><STRONG>Description</STRONG></U></TD></TR>
        <TR>
          <TD width="15%">CF</TD>
          <TD width="38%">CHARACTER FIXED</TD>
          <TD width="15%">F</TD>
          <TD width="32%">FLOAT</TD></TR>
        <TR>
          <TD width="15%">CV</TD>
          <TD width="38%">CHARACTER VARIABLE</TD>
          <TD width="15%">BF</TD>
          <TD width="32%">BYTE</TD></TR>
        <TR>
          <TD width="15%">D</TD>
          <TD width="38%">DECIMAL</TD>
          <TD width="15%">BV</TD>
          <TD width="32%">VARBYTE</TD></TR>
        <TR>
          <TD width="15%">DA</TD>
          <TD width="38%">DATE</TD>
          <TD width="15%">AT</TD>
          <TD width="32%">TIME</TD></TR>
        <TR>
          <TD width="15%">I</TD>
          <TD width="38%">INTEGER</TD>
          <TD width="15%">TS</TD>
          <TD width="32%">TIMESTAMP</TD></TR>
        <TR>
          <TD width="15%">I1</TD>
          <TD width="38%">BYTEINT</TD>
          <TD width="15%">&nbsp;</TD>
          <TD width="32%">&nbsp;</TD></TR>
        <TR>
          <TD width="15%">I2</TD>
          <TD width="38%">SMALLINT</TD>
          <TD width="15%">&nbsp;</TD>
          <TD 
width="32%">&nbsp;</TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>HELP Commands: Session 
Characteristics</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>HELP Commands: Session Characteristics</H2> -->
      <P>Use the <FONT face="Courier New, Courier" size=-1><STRONG>HELP 
      SESSION;</STRONG></FONT> command to see specific information about your 
      SQL session. The following displays the user name with which you logged in 
      log-on date and time, your default database, and other information related 
      to your current session:</P>
      <TABLE cellPadding=2 width="80%" border=0>
        <TBODY>
        <TR>
          <TD align=right width="40%"><B>User Name</B></TD>
          <TD width="2%"><B></B></TD>
          <TD width="58%"><B>DBC</B></TD></TR>
        <TR>
          <TD align=right width="40%"><B>Account Name</B></TD>
          <TD width="2%"><B></B></TD>
          <TD width="58%"><B>DBC</B></TD></TR>
        <TR>
          <TD align=right width="40%"><B>Log on Date</B></TD>
          <TD width="2%"><B></B></TD>
          <TD width="58%"><B>05/02/18</B></TD></TR>
        <TR>
          <TD align=right width="40%"><B>Log on Time</B></TD>
          <TD width="2%"><B></B></TD>
          <TD width="58%"><B>11:54:46</B></TD></TR>
        <TR>
          <TD align=right width="40%"><B>Current DataBase</B></TD>
          <TD width="2%"><B></B></TD>
          <TD width="58%"><B>DBC</B></TD></TR>
        <TR>
          <TD align=right width="40%"><B>Collation</B></TD>
          <TD width="2%"><B></B></TD>
          <TD width="58%"><B>ASCII</B></TD></TR>
        <TR>
          <TD align=right width="40%"><B>Character Set</B></TD>
          <TD width="2%"><B></B></TD>
          <TD width="58%"><B>ASCII</B></TD></TR>
        <TR>
          <TD align=right width="40%"><B>Transaction Semantics</B></TD>
          <TD width="2%"><B></B></TD>
          <TD width="58%"><B>Teradata</B></TD></TR>
        <TR>
          <TD align=right width="40%"><B>Current DateForm</B></TD>
          <TD width="2%"><B></B></TD>
          <TD width="58%"><B>IntegerDate</B></TD></TR>
        <TR>
          <TD align=right width="40%"><B>Session Time Zone</B></TD>
          <TD width="2%"><B></B></TD>
          <TD width="58%"><B>00:00</B></TD></TR>
        <TR>
          <TD align=right width="40%"><B>Default Character Type</B></TD>
          <TD width="2%"><B></B></TD>
          <TD width="58%"><B>LATIN</B></TD></TR>
        <TR>
          <TD align=right width="40%"><B>Export Latin</B></TD>
          <TD width="2%"><B></B></TD>
          <TD width="58%"><B>1</B></TD></TR>
        <TR>
          <TD align=right width="40%"><B>Export Unicode</B></TD>
          <TD width="2%"><B></B></TD>
          <TD width="58%"><B>1</B></TD></TR>
        <TR>
          <TD align=right width="40%"><B>Export Unicode Adjust</B></TD>
          <TD width="2%"><B></B></TD>
          <TD width="58%"><B>0</B></TD></TR>
        <TR>
          <TD align=right width="40%"><B>Export KanjiSJIS</B></TD>
          <TD width="2%"><B></B></TD>
          <TD width="58%"><B>1</B></TD></TR>
        <TR>
          <TD align=right width="40%"><B>Export Graphic</B></TD>
          <TD width="2%"><B></B></TD>
          <TD width="58%"><B>0</B></TD></TR>
        <TR>
          <TD align=right width="40%"><B>Default Date Format</B></TD>
          <TD width="2%"><B></B></TD>
          <TD width="58%"><B>None</B></TD></TR></TBODY></TABLE>
      <P>To produce the formatting shown above use:
      <P><FONT face="Courier New, Courier" color=#660033 size=3><PRE> <STRONG>.SET FOLDLINE ON 

 .SET SIDETITLES ON</STRONG>
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>The SHOW Command</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>The SHOW Command</H2> -->
      <P>The <FONT face="Courier New, Courier" 
      size=-1><STRONG>SHOW</STRONG></FONT> command displays the current Data 
      Definition Language (DDL) of a database object (e.g., Table, View, Macro, 
      Trigger, Join Index or Stored Procedure). The <FONT 
      face="Courier New, Courier, mono" size=-1><STRONG>SHOW</STRONG></FONT> 
      command is used primarily to see how an object was created.</P>
      <P><B>Sample Show Commands</B></P>
      <P>
      <TABLE cellPadding=2 width="70%" border=0>
        <TBODY>
        <TR vAlign=top>
          <TD width="53%"><B><U>Command</U></B></TD>
          <TD width="47%"><B><U>Returns</U></B></TD></TR>
        <TR>
          <TD width="53%"><B>SHOW TABLE tablename;</B></TD>
          <TD width="47%"><B>CREATE TABLE statement</B></TD></TR>
        <TR>
          <TD width="53%"><B>SHOW VIEW viewname;</B></TD>
          <TD width="47%"><B>CREATE VIEW statement</B></TD></TR>
        <TR>
          <TD width="53%"><B>SHOW MACRO macroname;</B></TD>
          <TD width="47%"><B>CREATE MACRO 
        statement&nbsp;&nbsp;</B></TD></TR></TBODY></TABLE>
      <P></P>
      <P>BTEQ also has a <FONT face="Courier New, Courier" 
      size=-1><STRONG>SHOW</STRONG></FONT> command (<STRONG>.<FONT 
      face="Courier New, Courier" size=-1>SHOW CONTROL</FONT></STRONG><FONT 
      face="Courier New, Courier" size=-1>)</FONT> which is different from the 
      SQL <FONT face="Courier New, Courier" size=-1><STRONG>SHOW</STRONG></FONT> 
      command. It provides information on formatting and display settings for 
      the current BTEQ session. </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>The SHOW TABLE Command</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>The SHOW TABLE Command</H2> -->
      <P>The <FONT face="Courier New, Courier" size=-1><STRONG>SHOW 
      TABLE</STRONG> </FONT>command seen here returns the <FONT 
      face="Courier New, Courier" size=-1><STRONG>CREATE TABLE</STRONG></FONT> 
      statement that was used to create the employee table. To perform a <FONT 
      face="Courier New, Courier" size=-1><STRONG>SHOW TABLE</STRONG></FONT>, 
      the user must have a privilege on either the table itself or the 
      containing database.</P><FONT face="Courier New, Courier" color=#660033 
      size=3><PRE><STRONG>CREATE SET TABLE CUSTOMER_SERVICE.employee 
,FALLBACK ,
  NO BEFORE JOURNAL,
  NO AFTER JOURNAL
   (
  employee_number INTEGER,
  manager_employee_number INTEGER,
  department_number INTEGER, 
  job_code INTEGER,
  last_name CHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC NOT NULL,
  first_name VARCHAR(30) CHARACTER SET LATIN NOT CASESPECIFIC NOT NULL,
  hire_date DATE NOT NULL, 
  birthdate DATE NOT NULL, 
  salary_amount DECIMAL(10,2) NOT NULL) UNIQUE PRIMARY INDEX ( employee_number );</STRONG>
</PRE></FONT>
      <P><B>Note: </B>If a table is subsequently altered after it has been 
      created, the <FONT face="Courier New, Courier, mono" 
      size=-1><STRONG>SHOW</STRONG></FONT> command will always reflect the most 
      current alterations.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>The SHOW VIEW Command</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>The SHOW VIEW Command</H2> -->
      <P>The <FONT face="Courier New, Courier" size=-1><STRONG>SHOW 
      VIEW</STRONG></FONT> command shows you the <FONT 
      face="Courier New, Courier" size=-1><STRONG>CREATE VIEW</STRONG></FONT> 
      statement used to create a view: </P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <STRONG>SHOW VIEW dept;</STRONG> 
</PRE></FONT>
      <DIV align=center>
      <DIV align=left><PRE><FONT face="Arial, Helvetica, sans-serif"><B><U><FONT size=3>Result</FONT></U></B></FONT></PRE>
      <P><FONT face="Arial, Helvetica, sans-serif" 
      size=-1><B></B></FONT><B><FONT face="Courier New, Courier, mono" 
      color=#660066 size=-1>CREATE VIEW dept <BR>(dept_num <BR>,dept_name 
      <BR>,budget <BR>,manager)<BR>AS <BR>SELECT<BR>department_number 
      <BR>,department_name <BR>,budget_amount <BR>,manager_employee_number 
      <BR>FROM CUSTOMER_SERVICE.department;<BR></FONT></B></P></DIV></DIV><FONT 
      face="courier New, Courier" color=#660066 size=3></FONT>
      <P>The view may be accessed instead of the table:</P>
      <DIV align=right><FONT face="courier New, Courier" color=#660066 
      size=3></FONT></DIV><PRE>  <FONT color=#660066 size=2><B>SELECT * FROM dept;</B>
</FONT></PRE><FONT face="courier New, Courier" color=#660066 
size=3></FONT>
      <P class=TitleResult><FONT face="Arial, Helvetica, sans-serif"><B><U><FONT 
      size=3>Result</FONT></U></B></FONT><FONT 
      face="Arial, Helvetica, sans-serif" size=-1><B></B></FONT></P>
      <TABLE cellSpacing=2 cellPadding=0 width="76%" border=0>
        <TBODY>
        <TR align=middle>
          <TD align=right 
            width="17%"><STRONG>dept_num</STRONG>&nbsp;<BR>--------- &nbsp; </TD>
          <TD align=middle width="43%">
            <DIV align=left><STRONG>dept_name</STRONG>&nbsp;<BR>----------- 
            </DIV></TD>
          <TD align=middle width="9%">
            <DIV align=right><STRONG>budget</STRONG>&nbsp;<BR>--------&nbsp; 
            </DIV></TD>
          <TD align=middle width="31%">
            <DIV align=right><STRONG>manager</STRONG>&nbsp;<BR>---------&nbsp; 
            </DIV></TD></TR>
        <TR align=middle>
          <TD align=right width="17%">301&nbsp;</TD>
          <TD width="43%">
            <DIV align=left>research &amp; development </DIV></TD>
          <TD width="9%">46560000 </TD>
          <TD width="31%">
            <DIV align=right>1019 </DIV></TD></TR>
        <TR align=middle>
          <TD align=right width="17%">302&nbsp;</TD>
          <TD width="43%">
            <DIV align=left>product planning </DIV></TD>
          <TD width="9%">22600000 </TD>
          <TD width="31%">
            <DIV align=right>1016 </DIV></TD></TR>
        <TR align=middle>
          <TD align=right width="17%">501&nbsp;</TD>
          <TD width="43%">
            <DIV align=left>marketing sales </DIV></TD>
          <TD width="9%">80050000 </TD>
          <TD width="31%">
            <DIV align=right>1017 </DIV></TD></TR>
        <TR align=middle>
          <TD align=right width="17%">403&nbsp;</TD>
          <TD width="43%">
            <DIV align=left>education </DIV></TD>
          <TD width="9%">93200000 </TD>
          <TD width="31%">
            <DIV align=right>1005 </DIV></TD></TR>
        <TR align=middle>
          <TD align=right width="17%">402&nbsp;</TD>
          <TD width="43%">
            <DIV align=left>software support </DIV></TD>
          <TD width="9%">30800000 </TD>
          <TD width="31%">
            <DIV align=right>1011 </DIV></TD></TR>
        <TR align=middle>
          <TD align=right width="17%">401&nbsp;</TD>
          <TD width="43%">
            <DIV align=left>customer support </DIV></TD>
          <TD width="9%">98230000 </TD>
          <TD width="31%">
            <DIV align=right>1003 </DIV></TD></TR>
        <TR align=middle>
          <TD align=right width="17%">201&nbsp;</TD>
          <TD width="43%">
            <DIV align=left>technical operations </DIV></TD>
          <TD width="9%">29380000 </TD>
          <TD width="31%">
            <DIV align=right>1025 
</DIV></TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>The SHOW Macro Command</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>The SHOW MACRO Command</H2> -->
      <P>The <FONT face="Courier New, Courier" size=-1><STRONG>SHOW 
      MACRO</STRONG> </FONT>command shows you the statement used to create a 
      macro: </P><FONT face="courier New, Courier" color=#660066 size=3></FONT>
      <P><FONT face="courier New, Courier" color=#660066 size=-1><STRONG>SHOW 
      MACRO get_depts;</STRONG></FONT><FONT face="courier New, Courier" 
      color=#660066 size=3><STRONG><BR></STRONG></FONT></P>
      <DIV align=left>
      <P><FONT color=#660066><B><U>Result</U></B><BR><BR><STRONG><FONT 
      face="Courier New, Courier, mono" size=-1><B>CREATE MACRO get_depts <BR>AS 
      (SELECT 
      department_number<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,department_name<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,budget_amount<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,manager_employee_number 
      <BR>FROM department;<BR>); </B></FONT></STRONG></FONT></P></DIV><FONT 
      color=#660066></FONT><FONT color=#660066></FONT><FONT 
      face="courier New, Courier" color=#660066></FONT><FONT 
      face="courier New, Courier" color=#660066 size=3><BR></FONT><PRE><FONT face="courier New, Courier" color=#660066 size=3>  </FONT></PRE><FONT 
      face="courier New, Courier" color=#660066 
  size=3></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>The EXPLAIN Command</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>The EXPLAIN Command</H2> -->The <FONT 
      face="Courier New, Courier" size=-1><STRONG>EXPLAIN</STRONG></FONT> 
      function looks at a SQL request and responds in English how the optimizer 
      plans to execute it. It does not actually execute the SQL statement 
      however it is a good way to see what database resources will be used in 
      processing your request. 
      <P></P>
      <P>For instance, if you see that your request will force a full-table scan 
      on a very large table or cause a Cartesian Product Join, you may decide to 
      re-write a request so that it executes more efficiently. </P>
      <P><FONT face="Courier New, Courier" 
      size=-1><STRONG>EXPLAIN</STRONG></FONT> provides a wealth of information, 
      including the following: </P>
      <OL>
        <LI>Which indexes if any will be used in the query. 
        <LI>Whether individual steps within the query may execute concurrently 
        (i.e. parallel steps). 
        <LI>An estimate of the number of rows which will be processed. 
        <LI>An estimate of the cost of the query (in time increments). </LI></OL>
      <P><FONT face="Courier New, Courier, mono" color=#660066 
      size=-1><B>EXPLAIN SELECT * FROM department; </B></FONT><FONT 
      color=#660066><B><BR></B></FONT></P><FONT color=#660066><FONT 
      color=#660066><STRONG>*** Query completed. Ten rows found. One column 
      returned.</STRONG></FONT></FONT><FONT face="courier New, Courier" 
      color=#660066 size=3><BR></FONT>
      <H4>Explanation</H4>
      <OL>
        <LI>First, we lock a distinct <FONT face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE."pseudo table"</STRONG></FONT> for read 
        on a RowHash to prevent global deadlock for <FONT 
        face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE.department</STRONG>.</FONT> 
        <LI>Next, we lock <FONT face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE.department</STRONG></FONT> for read. 
        <LI>We do an a<STRONG>ll-<FONT face="courier New, Courier" size=-1>AMPs 
        RETRIEVE</FONT></STRONG> step from <FONT face="Courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE.department</STRONG></FONT> by way of an 
        all-rows scan with no residual conditions into Spool 1, which is built 
        locally on the <FONT face="courier New, Courier" size=-1>AMPs</FONT>. 
        The size of Spool 1 is estimated with low confidence to be 4 rows. The 
        estimated time for this step is 0.15 seconds. 
        <LI>Finally, we send out an <STRONG><FONT face="courier New, Courier" 
        size=-1>END TRANSACTION </FONT></STRONG>step to all <FONT 
        face="courier New, Courier" size=-1><STRONG>AMPs</STRONG></FONT> 
        involved in processing the request.<BR>The contents of Spool 1 are sent 
        back to the user as the result of statement 1. The total estimated time 
        is 0.15 seconds. </LI></OL><!-- <p align="center"><img src="4HELP/../z-line.gif" width="20" height="8" border="0"> <b><a href="./images/labs/wbt-simple_bteq_lab.htm">Lab</a></b> <img src="4HELP/../z-line.gif" width="20" height="2" border="0"></p> --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK href="./././sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>
      <TABLE cellSpacing=0 cellPadding=8 width="100%" border=0>
        <TBODY>
        <TR>
          <TD vAlign=top width=106><B><FONT size=-1><A name=LAB>Try 
            It!</A></FONT></B><BR></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc><FONT size=-1>
            <P>For this set of lab questions you will need information from the 
            <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1>Database Info document.</A></P>
            <P>To start the online labs, click on the Telnet button in the lower 
            left hand screen of the course. Two windows will pop-up: a <B>BTEQ 
            Instruction Screen</B> and your <B>Telnet Window</B>. Sometimes the 
            BTEQ Instructions get hidden behind the Telnet Window. You will need 
            these instructions to log on to Teradata.</P>
            <P>Click on the buttons to the left to see the 
        answers.</P></FONT></TD></TR>
        <TR>
          <TD vAlign=top width=106><FONT size=-1>Answers:<BR><A 
            onclick="AnswerWindow('Mod04L01.htm',450,500,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A>&nbsp;<FONT size=-1>Lab A</FONT> <BR><A 
            onclick="AnswerWindow('Mod04L02.htm',420,430,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A>&nbsp;<FONT size=-1>Lab B</FONT> <BR><A 
            onclick="AnswerWindow('Mod04L03.htm',350,500,circbut03)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut03 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab C</FONT> <BR><A 
            onclick="AnswerWindow('Mod04L04.htm',475,570,circbut04)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut04 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab D</FONT> <BR><A 
            onclick="AnswerWindow('Mod04L05.htm',500,520,circbut05)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut05 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab E</FONT> <BR><A 
            onclick="AnswerWindow('Mod04L06.htm',430,500,circbut06)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut06 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab F</FONT> <BR><A 
            onclick="AnswerWindow('Mod04L07.htm',500,495,circbut07)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut07 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab G</FONT> </FONT></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc>
            <OL type=A>
              <LI><FONT size=-1>Use the <FONT 
              face="Courier New, Courier"><B>HELP DATABASE</B></FONT> command to 
              find all tables, views, and macros names in the 
              <B><I>CS_Views</I></B> database. What kind of objects do you find 
              there? Do a similar <FONT 
              face="Courier New, Courier"><B>HELP</B></FONT> command on the<I> 
              <B>Customer_Service</B></I> database. What kind of objects do you 
              find there? </FONT>
              <P></P>
              <LI><FONT size=-1>To see the names of the columns in the 
              department table, use the appropriate <FONT 
              face="Courier New, Courier"><B>HELP</B></FONT> command. (Since the 
              table is in the <B><I>Customer_Service</I></B> database, not your 
              default database, you'll have to qualify the table name with the 
              database name.) This is the command you may wish to use in the 
              future to research data names. </FONT>
              <P></P>
              <LI><FONT size=-1>In Lab A, you may have noticed that the 
              <B><I>CS_Views</I></B> database includes a view called 
              <B><I>emp</I></B>. <FONT 
              face="Courier New, Courier"><B>&nbsp;SHOW</B></FONT> that<FONT 
              face="Courier New, Courier"> view</FONT>. Notice the list of short 
              names the <B><I>emp </I></B>view uses in place of full column 
              names. To save typing, you may use the <B><I>emp<FONT 
              face="Courier New, Courier"> </FONT></I></B>view with the 
              shortened names in place of the <B><I>employee</I></B> <FONT 
              face="Courier New, Courier">table</FONT> in any labs throughout 
              this course. (All lab solutions shown in this book use the 
              employee table in <B><I>Customer_Service</I></B>.) </FONT>
              <P></P>
              <LI><FONT size=-1>Modify Lab A.1 from the previous module to cause 
              the answer set to appear in department name sequence. To find out 
              how Teradata plans to handle this request, submit it with <FONT 
              face="Courier New, Courier"><B>EXPLAIN</B></FONT> in front of it. 
              </FONT>
              <P></P>
              <LI><FONT size=-1>Use the appropriate <FONT 
              face="Courier New, Courier"><B>SHOW</B></FONT> command to see the 
              table definition of the <B><I>employee_phone</I></B> table in the 
              Customer Service database. </FONT>
              <P></P>
              <LI><FONT size=-1>Use the appropriate <FONT 
              face="Courier New, Courier"><B>HELP</B></FONT> command to see what 
              kinds of indexes exist on the customer table. To get information 
              about your session, use another <FONT 
              face="Courier New, Courier"><B>HELP</B></FONT> command. Change the 
              display settings for sidetitles and foldline to better view the 
              session information. Be sure to reset display attributes once you 
              have seen results. </FONT>
              <P></P>
              <LI><FONT size=-1>Change your current database setting to 
              <B><I>Customer_Service</I></B> using the <FONT 
              face="Courier New, Courier"><B>DATABASE</B></FONT> command. Try to 
              do a <FONT face="Courier New, Courier"><B>SELECT</B></FONT> of all 
              columns and rows in the emp view. Does it work? If not, how can 
              you make it work? 
  </FONT></LI></OL></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;Logical and 
      Conditional Expressions</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><LINK href="../sqlstyle.css" 
type=text/css rel=stylesheet><FONT face=Verdana size=3><B>Objectives</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>After completing this module, you should be able to:</P>
      <UL>
        <LI>Combine the following types of operators into logical expressions: 
        <UL>
          <UL>
            <LI>comparison operators 
            <LI><FONT face="Courier New, Courier" size=-1><STRONG>[NOT] 
            IN</STRONG></FONT> 
            <LI><STRONG><FONT face="Courier New, Courier" size=-1>IS [NOT] 
            NULL</FONT></STRONG> 
            <LI><FONT face="Courier New, Courier" 
            size=-1><STRONG>LIKE</STRONG></FONT> </LI></UL></UL>
        <LI>Form expressions involving <FONT face="Courier New, Courier" 
        size=-1><STRONG>NULL</STRONG></FONT> values. 
        <LI>Qualify a range of values. 
        <LI>Search for a partial string within a string expression. 
        <LI>Combine multiple logical expressions into a conditional expression 
        using <FONT face="Courier New, Courier" 
        size=-1><STRONG>AND</STRONG></FONT> and <FONT 
        face="Courier New, Courier" size=-1><STRONG>OR</STRONG></FONT>. 
      </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Logical Operators</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Logical Operators</H2> -->
      <P>Operators are symbols or words that cause an 'operation' to occur on 
      one or more elements called 'operands'. </P>
      <P>Logical expressions combine operands and operators to produce a Boolean 
      (true/false) result. Logical expressions can be combined into conditional 
      expressions which are used in the <FONT face="courier New, Courier" 
      size=-1><STRONG>WHERE</STRONG></FONT> clause of a <FONT 
      face="courier New, Courier" size=-1><B>SELECT</B></FONT> statement.</P>
      <H4>Types of Operators in Logical Expressions</H4>
      <TABLE cellSpacing=0 cellPadding=3 width="90%" border=0>
        <TBODY>
        <TR vAlign=top>
          <TD align=middle><U><B>Operator Syntax</B></U></TD>
          <TD><U><B>Meaning</B></U></TD></TR>
        <TR vAlign=top align=left>
          <TD>
            <DIV align=center><B>=&nbsp;</B></DIV></TD>
          <TD>equal</TD></TR>
        <TR vAlign=top align=left>
          <TD vAlign=top align=left>
            <DIV align=center><B>&lt;&gt;</B></DIV></TD>
          <TD>not equal</TD></TR>
        <TR align=left>
          <TD vAlign=top align=left>
            <DIV align=center><B>&gt;&nbsp;</B></DIV></TD>
          <TD>greater than</TD></TR>
        <TR vAlign=top align=left>
          <TD vAlign=top align=left>
            <DIV align=center><B>&lt;</B></DIV></TD>
          <TD>less than</TD></TR>
        <TR vAlign=top align=left>
          <TD vAlign=top align=left>
            <DIV align=center><B>&gt;=</B></DIV></TD>
          <TD>greater than or equal to</TD></TR>
        <TR vAlign=top align=left>
          <TD vAlign=top align=left>
            <DIV align=center><B>&lt;=</B></DIV></TD>
          <TD>less than or equal to</TD></TR>
        <TR vAlign=top align=left>
          <TD vAlign=top align=left>
            <DIV align=center><B>BETWEEN &lt;a&gt; AND &lt;b&gt;</B></DIV></TD>
          <TD>inclusive range</TD></TR>
        <TR vAlign=top align=left>
          <TD>
            <DIV align=center><B>[NOT] IN</B></DIV></TD>
          <TD>&lt;expression&gt; is in a list&nbsp; <BR>or&nbsp; 
            <BR>&lt;expression&gt; is not in a list</TD></TR>
        <TR vAlign=top align=left>
          <TD>
            <DIV align=center><B>IS [NOT] NULL</B></DIV></TD>
          <TD>&lt;expression&gt; is null&nbsp; <BR>or&nbsp; 
            <BR>&lt;expression&gt; is not null</TD></TR>
        <TR vAlign=top align=left>
          <TD>
            <DIV align=center><B>[NOT] EXISTS*</B></DIV></TD>
          <TD>table contains at least 1 row&nbsp; <BR>or&nbsp; <BR>table 
            contains no rows</TD></TR>
        <TR vAlign=top align=left>
          <TD>
            <DIV align=center><B>LIKE</B></DIV></TD>
          <TD>partial string operator</TD></TR></TBODY></TABLE>
      <P>The <B>EXISTS</B> operator is covered in the <FONT 
      color=#ff0000>Teradata Advanced SQL</FONT> 
course.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>BETWEEN -- Numeric Range 
Testing</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!--  <H2><A NAME="2"></A>BETWEEN -- Numeric Range Testing</H2> -->
      <P>To locate rows for which a numeric column is within a range of values, 
      use the <FONT face="courier New, Courier" 
      size=-1><STRONG>BETWEEN</STRONG></FONT> &lt;a&gt; <FONT 
      face="courier New, Courier" size=-1><STRONG>AND</STRONG></FONT> &lt;b&gt; 
      operator. Specify the upper and lower range of values that qualify the 
      row.</P>
      <P>The <FONT face="courier New, Courier" 
      size=-1><STRONG>BETWEEN</STRONG></FONT> operator looks for values between 
      the given lower limit &lt;a&gt; and given upper limit &lt;b&gt; as well as 
      any values that equal either &lt;a&gt; or &lt;b&gt; (<FONT 
      face="courier New, Courier" size=-1><STRONG>i.e., </STRONG></FONT><FONT 
      face="courier New, Courier" size=-1><STRONG>BETWEEN</STRONG></FONT> is 
      inclusive.)</P>
      <P class=TitleExample>Example<BR><BR><FONT color=#000000 size=-1>Select 
      the name and the employee's manager number for all employees whose job 
      codes are in the 430000 range. </FONT></P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT    first_name
            ,last_name
            ,manager_employee_number
  FROM      employee
  WHERE     job_code BETWEEN 430000 AND 439999;</B>
</PRE></FONT>
      <P>An alternative syntax is shown below:</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT    first_name
            ,last_name
            ,manager_employee_number
  FROM      employee
  WHERE     job_code &gt;= 430000
  AND       job_code &lt;= 439999;</B>
</PRE></FONT><BR><!-- <font size="3" face="Courier New, Courier, mono">
<pre>
	<b>SELECT</b>		first_name
			,last_name
			,manager_employee_number
	
	FROM		employee
	WHERE		job_code >= 430000
	AND		job_code <= 439999;
</pre>
</font> -->
      <TABLE cellSpacing=0 cellPadding=2 width="80%" border=0>
        <TBODY>
        <TR>
          <TD width="30%"><STRONG>first_name</STRONG><BR>-----------</TD>
          <TD width="30%"><STRONG>last_name</STRONG><BR>-----------</TD>
          <TD><STRONG>manager_employee_number</STRONG><BR>------------------------------</TD></TR>
        <TR>
          <TD>Loretta</TD>
          <TD>Ryan</TD>
          <TD>
            <DIV align=center>801</DIV></TD></TR>
        <TR>
          <TD>Armando</TD>
          <TD>Villegas</TD>
          <TD>
            <DIV align=center>1005</DIV></TD></TR></TBODY></TABLE><BR>
      <P align=center><IMG height=191 
      src="D:\Work\TeraData Course Contents &amp; PDFs\WBT's\Teradata SQL Introduction_files\sql0201(1).gif" 
      width=537></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>BETWEEN -- Character Range 
Testing</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>BETWEEN -- Character Range Testing</H2> -->
      <P>Use the <FONT face="courier New, Courier" 
      size=-1><STRONG>BETWEEN</STRONG></FONT> &lt;a&gt; <FONT 
      face="courier New, Courier" size=-1><STRONG>AND</STRONG></FONT> &lt;b&gt; 
      operator to locate rows for which a character column is within a range of 
      values. Specify the upper and lower range of values that qualify the row. 
      <FONT face="courier New, Courier" size=-1><STRONG>BETWEEN</STRONG></FONT> 
      will select those values which are greater than or equal to &lt;a&gt; and 
      less or equal to &lt;b&gt;. (<FONT face="courier New, Courier" 
      size=-1><STRONG>BETWEEN</STRONG></FONT> is inclusive.)</P>
      <P><FONT face="courier New, Courier" color=#660066 size=3><FONT 
      size=-1><B>SELECT last_name<BR>FROM employee<BR>WHERE last_name BETWEEN 
      'r' AND 's';</B></FONT><BR></FONT></P><FONT face="courier New, Courier" 
      color=#660066 size=3></FONT><FONT face="courier New, Courier" 
      color=#660066 size=3></FONT>
      <TABLE cellSpacing=0 cellPadding=2 width="20%" border=0>
        <TBODY>
        <TR>
          <TD width="30%">last_name<BR>------------</TD></TR>
        <TR>
          <TD>Ryan</TD></TR></TBODY></TABLE>
      <P><STRONG>Note:</STRONG> 'Stein' is not included because 'S_____' sorts 
      lower than 'Stein'. (Teradata is not case-sensitive by 
    default.)</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Set Operator IN</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!--  <H2><A NAME="2"></A>Set Operator IN</H2> -->
      <P>Use the <FONT face="courier New, Courier" 
      size=-1><STRONG>IN</STRONG></FONT> operator as shorthand when multiple 
      values are to be tested. Select the name and department for all employees 
      in either department 401 or 403. This query may also be written using the 
      <FONT face="courier New, Courier" size=-1>OR</FONT> operator which we 
      shall see shortly. </P><FONT face="courier New, Courier" color=#660066 
      size=3><PRE>  <B>SELECT    first_name
            ,last_name
            ,department_number
  FROM      employee
  WHERE     department_number IN (401, 403);</B>
</PRE></FONT><BR>
      <TABLE cellSpacing=0 cellPadding=2 width="67%" border=0>
        <TBODY>
        <TR>
          <TD width="30%"><STRONG>first_name</STRONG><BR>-----------</TD>
          <TD width="21%"><STRONG>last_name</STRONG><BR>-----------</TD>
          <TD align=right 
            width="49%"><STRONG>department_number</STRONG><BR>---------------------</TD></TR>
        <TR>
          <TD>Darlene</TD>
          <TD>Johnson</TD>
          <TD>
            <DIV align=right>401</DIV></TD></TR>
        <TR>
          <TD>Loretta</TD>
          <TD>Ryan</TD>
          <TD>
            <DIV align=right>403</DIV></TD></TR>
        <TR>
          <TD>Armando</TD>
          <TD>Villegas</TD>
          <TD>
            <DIV align=right>403</DIV></TD></TR>
        <TR>
          <TD>James</TD>
          <TD>Trader</TD>
          <TD>
            <DIV align=right>401</DIV></TD></TR></TBODY></TABLE>
      <P align=center><IMG height=206 alt="sql0301.gif - 22175 Bytes" 
      src="D:\Work\TeraData Course Contents &amp; PDFs\WBT's\Teradata SQL Introduction_files\sql0301(1).gif" 
      width=568 border=0></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Set Operator NOT IN</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Set Operator NOT IN</H2> -->
      <P>Use the <FONT face="courier New, Courier" size=-1><STRONG>NOT 
      IN</STRONG></FONT> operator to locate rows for which a column does not 
      match any of a set of values. Specify the set of values which disqualifies 
      the row. </P><FONT face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT    first_name
            ,last_name
            ,department_number
  FROM      employee
  WHERE     department_number NOT IN (401, 403) ;</B>
</PRE></FONT><BR>
      <TABLE cellSpacing=0 cellPadding=2 width="80%" border=0>
        <TBODY>
        <TR>
          <TD width="30%">f<STRONG>irst_name</STRONG><BR>-----------</TD>
          <TD width="30%"><STRONG>last_name</STRONG><BR>-----------</TD>
          <TD><STRONG>department_number</STRONG><BR>---------------------</TD></TR>
        <TR>
          <TD>Carol</TD>
          <TD>Kanieski</TD>
          <TD>301</TD></TR>
        <TR>
          <TD>John</TD>
          <TD>Stein</TD>
          <TD>301</TD></TR></TBODY></TABLE>
      <P align=center><IMG height=202 alt="sql0401.gif - 6178 Bytes" 
      src="D:\Work\TeraData Course Contents &amp; PDFs\WBT's\Teradata SQL Introduction_files\sql0401(1).gif" 
      width=572 border=0> </P>
      <H4>NOT IN vs. OR</H4>
      <P><FONT face="courier New, Courier" size=-1><STRONG>NOT 
      IN</STRONG></FONT> provides a shorthand version of a <FONT 
      face="courier New, Courier" size=-1><B>'negative OR</B></FONT>' request. 
      The following is an example using the <FONT face="courier New, Courier" 
      size=-1><B>OR</B></FONT> operator for the query example given above. </P>
      <P>Select the name and the department for all employees who are <FONT 
      face="courier New, Courier" size=-1><STRONG>NOT</STRONG></FONT> members of 
      departments 401 and 403. </P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>SELECT      first_name
              ,last_name
              ,department_number
  FROM        employee
  WHERE NOT   (department_number=401
              OR
              department_number=403);</B>	
</PRE></FONT><BR>
      <TABLE cellSpacing=0 cellPadding=2 width="80%" border=0>
        <TBODY>
        <TR>
          <TD width="30%"><STRONG>first_name</STRONG><BR>-----------</TD>
          <TD width="30%"><STRONG>last_name</STRONG><BR>-----------</TD>
          <TD><STRONG>department_number</STRONG><BR>---------------------</TD></TR>
        <TR>
          <TD>Carol</TD>
          <TD>Kanieski</TD>
          <TD>301</TD></TR>
        <TR>
          <TD>John</TD>
          <TD>Stein</TD>
          <TD>301</TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>NULL</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>NULL</H2> -->
      <P>The following are facts about nulls:</P>
      <UL>
        <LI><FONT face="courier New, Courier" 
        size=-1><STRONG>NULL</STRONG></FONT> is used to represent the absence of 
        a data value. 
        <LI><FONT face="courier New, Courier" 
        size=-1><STRONG>NULL</STRONG></FONT> is not the same as having a value 
        of zero or spaces. 
        <LI><FONT face="courier New, Courier" 
        size=-1><STRONG>NULL</STRONG></FONT> indicates that a data value is 
        missing or unknown.<BR>
        <LI><FONT face="courier New, Courier" 
        size=-1><STRONG>NULL</STRONG></FONT> in a comparison operation produces 
        an unknown result. 
        <LI>When doing an ascending sort on a column with <FONT 
        face="courier New, Courier" size=-1><STRONG>NULL</STRONG></FONT>, <FONT 
        face="courier New, Courier" size=-1><STRONG>NULLs</STRONG></FONT> sort 
        before negative values (numeric) and before blank values (character). 
        <LI>To prohibit <FONT face="courier New, Courier" 
        size=-1><STRONG>NULLs</STRONG></FONT>, a column must be defined as <FONT 
        face="courier New, Courier" size=-1><STRONG>NOT NULL</STRONG></FONT>. 
        <LI>Null columns may be compressed to occupy zero row space. </LI></UL>
      <P>&nbsp;</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Arithmetic and Comparison Operation 
on NULL</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Arithmetic and Comparison Operation on NULL</H2> -->
      <P>The following logic applies to operations on <FONT 
      face="courier New, Courier" size=-1><STRONG>NULLs</STRONG>:</FONT> </P>
      <TABLE cellSpacing=0 cellPadding=2 width="60%">
        <TBODY>
        <TR align=middle>
          <TD vAlign=top colSpan=4 height=34>&nbsp;</TD></TR>
        <TR align=middle>
          <TD><U><B>Col A</B></U></TD>
          <TD><U><B>Operation</B></U></TD>
          <TD><U><B>Col B&nbsp;&nbsp;&nbsp;&nbsp;</B></U></TD>
          <TD><U><B>Results</B></U></TD></TR>
        <TR align=middle>
          <TD>10</TD>
          <TD>+</TD>
          <TD>NULL</TD>
          <TD>NULL</TD></TR>
        <TR align=middle>
          <TD>10</TD>
          <TD>-</TD>
          <TD>NULL</TD>
          <TD>NULL</TD></TR>
        <TR align=middle>
          <TD>10</TD>
          <TD>*</TD>
          <TD>NULL</TD>
          <TD>NULL</TD></TR>
        <TR align=middle>
          <TD>10</TD>
          <TD>/</TD>
          <TD>NULL</TD>
          <TD>NULL</TD></TR>
        <TR align=middle>
          <TD>10</TD>
          <TD>&gt;</TD>
          <TD>NULL</TD>
          <TD>UNKNOWN</TD></TR>
        <TR align=middle>
          <TD>10</TD>
          <TD>&lt;</TD>
          <TD>NULL</TD>
          <TD>UNKNOWN</TD></TR>
        <TR align=middle>
          <TD>10</TD>
          <TD>&gt; =</TD>
          <TD>NULL</TD>
          <TD>UNKNOWN</TD></TR>
        <TR align=middle>
          <TD>10</TD>
          <TD>&lt; =</TD>
          <TD>NULL</TD>
          <TD>UNKNOWN</TD></TR>
        <TR align=middle>
          <TD>10</TD>
          <TD>=</TD>
          <TD>NULL</TD>
          <TD>UNKNOWN</TD></TR>
        <TR align=middle>
          <TD>10</TD>
          <TD>&lt; &gt;</TD>
          <TD>NULL</TD>
          <TD>UNKNOWN</TD></TR>
        <TR align=middle>
          <TD>NULL</TD>
          <TD>&gt;</TD>
          <TD>NULL</TD>
          <TD>UNKNOWN</TD></TR>
        <TR align=middle>
          <TD>NULL</TD>
          <TD>&lt;</TD>
          <TD>NULL</TD>
          <TD>UNKNOWN</TD></TR>
        <TR align=middle>
          <TD>NULL</TD>
          <TD>&gt; =</TD>
          <TD>NULL</TD>
          <TD>UNKNOWN</TD></TR>
        <TR align=middle>
          <TD>NULL</TD>
          <TD>&lt; =</TD>
          <TD>NULL</TD>
          <TD>UNKNOWN</TD></TR>
        <TR align=middle>
          <TD>NULL</TD>
          <TD>=</TD>
          <TD>NULL</TD>
          <TD>UNKNOWN</TD></TR>
        <TR align=middle>
          <TD>NULL</TD>
          <TD>&lt; &gt;</TD>
          <TD>NULL</TD>
          <TD>UNKNOWN</TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Using NULL in a Select</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>Using NULL in a Select</H2> -->
      <P>Use <FONT face="courier New, Courier" 
      size=-1><STRONG>NULL</STRONG></FONT> in a <FONT 
      face="courier New, Courier" size=-1><B>SELECT</B></FONT> statement, to 
      define that a range of values either <FONT face="courier New, Courier" 
      size=-1><STRONG>IS NULL</STRONG></FONT> or <FONT 
      face="courier New, Courier" size=-1><STRONG>IS NOT 
      NULL</STRONG></FONT>.</P>
      <P>The following table lists two employees with unknown telephone 
      extensions: </P>
      <P align=center><IMG height=221 alt="sql0501.gif - 9586 Bytes" 
      src="Teradata SQL Introduction_files/sql0501.gif" width=496 border=0></P>
      <P>To list employee numbers in this table with unknown extensions: 
      </P><FONT face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT   employee_number
  FROM     employee_phone
  WHERE    extension IS NULL;</B>
</PRE></FONT>
      <TABLE cellSpacing=0 cellPadding=2 width="50%">
        <TBODY>
        <TR>
          <TD><STRONG>employee_number</STRONG><BR>--------------------</TD></TR>
        <TR>
          <TD>1025</TD></TR>
        <TR>
          <TD>1005</TD></TR></TBODY></TABLE>
      <P>To list employee numbers of people with known extensions:</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT   employee_number
  FROM     employee_phone
  WHERE    extension IS NOT NULL;</B>
</PRE></FONT>
      <TABLE cellSpacing=0 cellPadding=2 width="50%">
        <TBODY>
        <TR>
          <TD><STRONG>employee_number</STRONG><BR>--------------------</TD></TR>
        <TR>
          <TD>1008</TD></TR>
        <TR>
          <TD>1013</TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>LIKE Operator</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>LIKE Operator</H2> -->
      <P>The <FONT face="courier New, Courier" size=-1><B>LIKE</B></FONT> 
      operator searches for patterns matching character data strings.</P>
      <P>You must provide two parameters for the <FONT 
      face="courier New, Courier" size=-1><STRONG>LIKE</STRONG></FONT> operator: 
      a string expression to be searched and a string pattern for which to 
      search.</P>
      <P>The string can contain specific characters, as well as the following 
      "wildcards":</P>
      <UL><B>%</B> &nbsp;(indicates zero or more character positions)<BR><B>_ 
        &nbsp;</B> (indicates a single character position) </UL>
      <P>Here are some examples using the <FONT face="courier New, Courier" 
      size=-1><STRONG>LIKE</STRONG></FONT> operator:</P>
      <TABLE cellSpacing=0 cellPadding=2 width="98%">
        <TBODY>
        <TR>
          <TD width="29%"><B><U>String pattern example:</U></B></TD>
          <TD width="71%"><U><B>Meaning:</B></U></TD></TR>
        <TR>
          <TD width="29%"><B><FONT face="Courier New, Courier, mono" 
            size=-1>LIKE 'JO%'</FONT></B></TD>
          <TD width="71%">begins with 'JO'</TD></TR>
        <TR>
          <TD width="29%"><B><FONT face="Courier New, Courier, mono" 
            size=-1>LIKE '%JO%'</FONT></B></TD>
          <TD width="71%">contains 'JO' anywhere</TD></TR>
        <TR>
          <TD width="29%"><B><FONT face="Courier New, Courier, mono" 
            size=-1>LIKE '__HN'</FONT></B></TD>
          <TD width="71%">contains 'HN' in 3rd and 4th position</TD></TR>
        <TR>
          <TD width="29%"><B><FONT face="Courier New, Courier, mono" 
            size=-1>LIKE '%H_'</FONT></B></TD>
          <TD width="71%">contains 'H' in next to last 
      position</TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>LIKE Operator -- Case-Blind 
Comparison</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>LIKE Operator -- Case-Blind Compare</H2> -->
      <P><B><U>Case-Sensitivity: ANSI vs. BTET session transaction 
      mod</U>e</B><BR><BR>Case-sensitivity of string comparisons is handled 
      differently in the two different session transaction modes (ANSI or BTET). 
      This can lead to different results for a comparison when run from sessions 
      with different transaction modes. To ensure consistent behavior, either 
      case-sensitive or case-blind compares, use the following: 
      <BR><BR><B>UPPER</B> or <B>LOWER</B> operators for case-blind 
      comparisons<BR><B>CASESPECIFIC</B> operator for case-sensitive comparisons 
      <BR><BR><B><U>Case-Blind Compare</U></B></P>
      <P>The <B>UPPER</B> function converts a string to uppercase. Use the UPPER 
      string function on both strings being compared to ensure a case-blind 
      comparison regardless of the session transaction mode. The <B>LOWER</B> 
      function may be similarly used.<BR><BR>The <B>NOT CASESPECIFIC</B> data 
      attribute can also be used to force case-blind compares, however it is not 
      an ANSI-compliant operator.<BR></P>
      <H4 class=TitleProblem>Problem</H4>
      <P>Display the full name of employees whose last name contains the letter 
      "r" followed by the letter "a". </P>
      <H4>Teradata Mode Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>SELECT    first_name
            ,last_name
  FROM      employee
  WHERE     last_name LIKE '%ra%';</B>

first_name                      last_name<BR>------------------------------  --------------------<BR>James                           Trader<BR>Peter                           Rabbit<BR>I.B.                            Trainer<BR>Robert                          Crane<BR>Larry                           Ratzlaff
</PRE><BR></FONT><FONT color=#000000>Since we are in Teradata (BTET) mode, 
      the default for comparisons is <B>non-case-specific</B>. Thus, we could 
      have also used <B>LIKE '%Ra%'</B> or <B>LIKE '%RA%'</B> and produced the 
      same result.</FONT><FONT face="courier New, Courier" color=#660066 
      size=3><BR></FONT>
      <H4><FONT color=#000000>ANSI Mode Solution</FONT><FONT 
      face="courier New, Courier" color=#660066 size=3><BR></FONT></H4><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT	 first_name<BR>	    ,last_name<BR>FROM	employee<BR>WHERE	last_name LIKE '%ra%';</B>

first_name                      last_name<BR>------------------------------  --------------------<BR>James                           Trader<BR>I.B.                            Trainer<BR>Robert                          Crane<BR></PRE></FONT>
      <P><FONT color=#000000>Since we are in ANSI mode, the default for 
      comparisons is <B>case-specific</B>. Thus, we will not pick up Ratzlaff or 
      Rabbit, unless we use 'case blind' testing, seen in the next 
      example.</FONT></P><PRE><FONT face="courier New, Courier" color=#660066 size=3><B><FONT size=-1>SELECT	 first_name<BR>	    ,last_name<BR>FROM	employee<BR>WHERE	LOWER(last_name) LIKE LOWER('%ra%');</FONT></B>
   
<FONT size=-1>first_name                      last_name<BR>------------------------------  --------------------<BR>James                           Trader<BR>Peter                           Rabbit<BR>I.B.                            Trainer<BR>Robert                          Crane<BR>Larry                           Ratzlaff</FONT></FONT> </PRE><FONT 
      color=#000000>By applying the <B>LOWER</B> function to each side of the 
      comparison, all testing is done in a 'case blind' mode. <B>UPPER</B> could 
      have also been used. We could also have used <B>LIKE '%ra%' (NOT 
      CASESPECIFIC)</B> to produce this result, however this is not an ANSI 
      standard approach.</FONT> </FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>LIKE Operator - Case-Sensitive 
Comparison</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="3"></A>LIKE Operator -- Partial String</H2> -->
      <P>Use the <B>CASESPECIFI</B>C data attribute on one or both of the string 
      expressions being compared to ensure a case-sensitive comparison, 
      regardless of the session transaction mode. CASESPECIFIC is a Teradata 
      extension.</P>
      <H5>Problem<BR></H5>
      <P>Display the full name of employees whose last name contains "Ra". This 
      is a case-sensitive test.</P>
      <H4><FONT color=#660066 size=3>Teradata Mode Solution</FONT><FONT 
      face="courier New, Courier" color=#660066 size=3><BR></FONT></H4><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT    first_name
            ,last_name
  FROM      employee
  WHERE     last_name (CASESPECIFIC) LIKE '%Ra%';</B>

first_name                      last_name<BR>------------------------------  --------------------<BR>Peter                           Rabbit<BR>Larry                           Ratzlaff
</PRE></FONT>
      <P>The default comparison for Teradata mode is <U>not</U> 
      case-specific.</P>
      <P>Use of the Teradata extension (<FONT face="courier New, Courier" 
      size=-1><STRONG>CASESPECIFIC</STRONG></FONT>) forces a case-specific 
      comparison.</P>
      <P>Because we used the case-specific designator, we don't get James Trader 
      in our answer set but only get answers that contain an uppercase "R". The 
      name 'LaRaye' would have also appeared in this answer set, if it existed 
      in the table. Using <FONT face="courier New, Courier" 
      size=-1><STRONG>LIKE</STRONG> 'Ra%'</FONT> will return only names that 
      begin with "Ra". <BR><BR></P>
      <H4><FONT color=#660066>ANSI Mode Solution</FONT><FONT 
      face="Courier New, Courier, mono" color=#660066 size=3><BR></FONT><FONT 
      face="Courier New, Courier, mono" color=#660066 size=-1></FONT></H4><FONT 
      face="Courier New, Courier, mono" color=#660066 size=3><PRE> <B>SELECT first_name
 ,last_name
 FROM employee
 WHERE last_name LIKE '%Ra%';

</B></PRE></FONT><FONT face="courier New, Courier" color=#660066 size=3><PRE>first_name                      last_name<BR>------------------------------  --------------------<BR>Peter                           Rabbit<BR>Larry                           Ratzlaff</PRE></FONT>
      <P>The default comparison for ANSI mode is case-specific.</P>
      <P>Use of the Teradata extension (<FONT face="courier New, Courier" 
      size=-1><STRONG>CASESPECIFIC</STRONG></FONT>) is not required. This could 
      have also been submitted with <B>LIKE 'Ra%'</B> and produced the same 
      result, however it would have missed a name like 'LaRaye'.</P>
      <P>&nbsp;</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>LIKE Operator -- Using 
Quantifiers</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>LIKE Operator -- Using Quantifiers</H2> -->
      <P>To extend the pattern matching functions of the <FONT 
      face="courier New, Courier" size=-1><STRONG>LIKE</STRONG></FONT> operator, 
      use quantifiers.</P>
      <P>There are three such quantifiers:</P>
      <BLOCKQUOTE><FONT face="courier New, Courier" 
        size=-1><STRONG>ANY</STRONG></FONT>  any single condition must be met 
        (<FONT face="courier New, Courier" size=-1><STRONG>OR</STRONG></FONT> 
        logic)<BR><FONT face="courier New, Courier" 
        size=-1><STRONG>SOME</STRONG></FONT>  same as <FONT 
        face="courier New, Courier" size=-1><STRONG>ANY</STRONG></FONT><BR><FONT 
        face="courier New, Courier" size=-1><STRONG>ALL</STRONG></FONT>  all 
        conditions must be met (<FONT face="courier New, Courier" 
        size=-1><STRONG>AND</STRONG></FONT> logic)</BLOCKQUOTE>
      <P><FONT face="courier New, Courier" size=-1><STRONG>ANY</STRONG></FONT> 
      and <FONT face="courier New, Courier" size=-1><STRONG>SOME</STRONG></FONT> 
      are synonyms. Using <FONT face="courier New, Courier" size=-1><STRONG>LIKE 
      ANY</STRONG></FONT> and <FONT face="courier New, Courier" 
      size=-1><STRONG>LIKE SOME</STRONG></FONT> will give the same result.</P>
      <P align=center><IMG height=152 alt="sql0701.gif - 15036 Bytes" 
      src="Teradata SQL Introduction_files/sql0701.gif" width=431 border=0></P>
      <H4 class=TitleProblem>Problem</H4>
      <P>Display the full name of all employees with both "E" and "S" in their 
      last name.</P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>SELECT    first_name
            ,last_name
  FROM      employee
  WHERE     last_name LIKE ALL ('%E%', '%S%');</B>
</PRE></FONT><BR>
      <TABLE cellSpacing=0 cellPadding=2 width="60%" border=0>
        <TBODY>
        <TR>
          <TD width="30%"><STRONG>first_name</STRONG><BR>----------</TD>
          <TD width="30%"><STRONG>last_name</STRONG><BR>----------</TD></TR>
        <TR>
          <TD>John</TD>
          <TD>Stein</TD></TR>
        <TR>
          <TD>Carol</TD>
          <TD>Kanieski</TD></TR>
        <TR>
          <TD>Arnando</TD>
          <TD>Villegas</TD></TR></TBODY></TABLE>
      <H4 class=TitleProblem>Problem</H4>
      <P>Display the full name of all employees with <U>either</U> an "E" or "S" 
      in their last name.</P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>SELECT    first_name
            ,last_name
  FROM      employee
  WHERE     last_name LIKE ANY ('%E%', '%S%');</B>
</PRE></FONT><BR>
      <TABLE cellSpacing=0 cellPadding=2 width="60%" border=0>
        <TBODY>
        <TR>
          <TD width="30%"><STRONG>first_name</STRONG><BR>-----------</TD>
          <TD width="30%"><STRONG>last_name</STRONG><BR>-----------</TD></TR>
        <TR>
          <TD>John</TD>
          <TD>Stein</TD></TR>
        <TR>
          <TD>Carol</TD>
          <TD>Kanieski</TD></TR>
        <TR>
          <TD>Arnando</TD>
          <TD>Villegas</TD></TR>
        <TR>
          <TD>Darlene</TD>
          <TD>Johnson</TD></TR>
        <TR>
          <TD>James</TD>
          <TD>Trader</TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>LIKE with ESCAPE 
Character</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>LIKE Operator -- Using Quantifiers</H2> -->
      <P>The "_" and "%" symbols are used as 'wildcards' in the string 
      expression of the LIKE construct. However, what if one of the wildcard 
      symbols is in the expression you are evaluating. &nbsp;For example, to 
      search for the substring "95%", you must define an ESCAPE character to 
      instruct the Parser to treat the '%' as a non-wildcard character.</P>
      <H4>To Summarize:</H4>
      <UL>
        <LI>The <B>ESCAPE</B> feature of <B>LIKE</B> lets wildcard characters be 
        treated as non-wildcards. 
        <LI>Characters following the escape character are not treated as 
        wildcards.<BR><BR></LI></UL>
      <H4 class=TitleProblem>Problem</H4>
      <P>List all objects defined in the Teradata Database Data Dictionary whose 
      names contain "_" (underscore) as the second character.<BR></P>
      <H4 class=TitleSolution>Solution</H4>
      <P><B><FONT face="Courier New, Courier, mono" color=#660066 size=-1>SELECT 
      tablename<BR>FROM dbc.tables<BR>WHERE tablename LIKE '_Z_%' ESCAPE 
      'Z';</FONT></B><FONT face="Courier New, Courier, mono" 
      size=-1><BR></FONT></P><PRE> 
<FONT face="Courier New, Courier, mono" size=2>TableName
------------------------------
M_7_B
t_wt_erd1</FONT><FONT face="Courier New, Courier, mono" size=-1>
 </FONT>  </PRE><FONT face="Courier New, Courier, mono"><FONT 
      size=-1></FONT></FONT>
      <P><B>Things To Notice</B></P>
      <UL>
        <LI>The defined escape character is the letter 'Z'. 
        <LI>The first "_" (underscore) seen represents a wildcard - i.e., any 
        single arbitrary character. 
        <LI>The "Z_" sequence tells the Parser that the second "_" (underscore) 
        is treated as a character, not as a wildcard.<FONT 
        face="Courier New, Courier, mono" size=-1><BR></FONT></LI></UL><FONT 
      face="Courier New, Courier, mono" size=-1></FONT>
      <P><BR>When you define an ESCAPE character, any use of the ESCAPE 
      character in the string expression must be immediately followed by either 
      the "_", "%", or the ESCAPE character itself. </P>
      <P>Assume the escape character is defined to be the letter 'G'.</P>
      <P><B>LIKE 'G_'</B> means the underscore is treated as an underscore, not 
      as a wildcard.<BR><B>LIKE 'G%'</B> means the percent sign is treated as a 
      percent sign, not as a wildcard.<BR><B>LIKE 'GG'</B> means the two 
      consecutive 'G' characters should be treated as a single 'G', not as an 
      escape character.</P>
      <H4>Example</H4>
      <P><B><FONT color=#660066>LIKE '%A%%AAA_' ESCAPE 'A'</FONT></B></P>
      <P>Searches for the following pattern:<BR>- any number of arbitrary 
      characters, followed by <BR>- the "%" single character, followed by<BR>- 
      any number of arbitrary characters, followed by<BR>- the "A" single 
      character, followed by<BR>- the "_" single character, which is the last 
      character in the string.</P>
      <P align=center>&nbsp;</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Logical Operator -- AND</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Logical Operator -- AND</H2> -->
      <P>Logical operators <FONT face="courier New, Courier" 
      size=-1><STRONG>AND</STRONG>, <STRONG>OR</STRONG></FONT> and <FONT 
      face="courier New, Courier" size=-1><STRONG>NOT</STRONG></FONT> allow you 
      to specify complex conditional expressions by combining one or more 
      logical expressions.</P>
      <H4>Logical Operator AND</H4>
      <P>The logical operator <FONT face="courier New, Courier" 
      size=-1><STRONG>AND</STRONG></FONT> combines two expressions, both of 
      which must be true in a given record for them to be included in the result 
      set.</P><!-- <p align="center"><B>Boolean Table 5-3A</B></p> -->
      <TABLE cellSpacing=0 cellPadding=2 width="50%" border=0>
        <TBODY>
        <TR>
          <TD align=middle colSpan=4><B>Boolean Logic Table </B></TD></TR>
        <TR>
          <TD>True</TD>
          <TD>AND</TD>
          <TD>True</TD>
          <TD>= True</TD></TR>
        <TR>
          <TD>False</TD>
          <TD>AND</TD>
          <TD>True</TD>
          <TD>= False</TD></TR>
        <TR>
          <TD>True</TD>
          <TD>AND</TD>
          <TD>False</TD>
          <TD>= False</TD></TR>
        <TR>
          <TD>False</TD>
          <TD>AND</TD>
          <TD>False</TD>
          <TD>= False</TD></TR>
        <TR>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD>True</TD>
          <TD>OR</TD>
          <TD>True</TD>
          <TD>= True</TD></TR>
        <TR>
          <TD>True</TD>
          <TD>OR</TD>
          <TD>False</TD>
          <TD>= True</TD></TR>
        <TR>
          <TD>False</TD>
          <TD>OR</TD>
          <TD>True</TD>
          <TD>= True</TD></TR>
        <TR>
          <TD>False</TD>
          <TD>OR</TD>
          <TD>False</TD>
          <TD>= False</TD></TR>
        <TR>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD>NOT</TD>
          <TD>True</TD>
          <TD>= False</TD></TR>
        <TR>
          <TD>NOT</TD>
          <TD>false</TD>
          <TD>= True</TD></TR></TBODY></TABLE>
      <H4 class=TitleProblem>Problem</H4>
      <P>Display the name and employee number of employees in department 403 who 
      earn less than $35,000 per year.</P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>SELECT    first_name
            ,last_name
            ,employee_number
  FROM      employee
  WHERE     salary_amount &lt; 35000.00
  AND       department_number = 403 ;</B>
</PRE></FONT><BR>
      <TABLE cellSpacing=0 cellPadding=4 width="90%" border=0>
        <TBODY>
        <TR>
          <TD width="30%"><STRONG>first_name</STRONG><BR>-----------</TD>
          <TD width="30%"><STRONG>last_name</STRONG><BR>-----------</TD>
          <TD 
            width="40%"><STRONG>employee_number</STRONG><BR>--------------------</TD></TR>
        <TR>
          <TD>Loretta</TD>
          <TD>Ryan</TD>
          <TD>1005</TD></TR></TBODY></TABLE>
      <P align=center><IMG height=152 alt="sql0801.gif - 14973 Bytes" 
      src="Teradata SQL Introduction_files/sql0801.gif" width=431 
      border=0></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Logical Operator -- OR</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Logical Operator - OR</H2> -->
      <P>The logical operator <FONT face="courier New, Courier" 
      size=-1><STRONG>OR</STRONG></FONT> combines two expressions. <U>At least 
      one</U> must be true in a given record for it to be included in the result 
      set.</P>
      <P class=TitleProblem>Problem</P>
      <P>Display the name and the employee number for employees who either earn 
      less than $35,000 annually or work in department 403.</P>
      <P class=TitleSolution>Solution</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>SELECT    first_name
            ,last_name
            ,employee_number
  FROM      employee
  WHERE     salary_amount &lt; 35000.00
  OR        department_number = 403;</B>
</PRE></FONT>
      <P class=TitleResult>Result</P>
      <TABLE cellSpacing=0 cellPadding=2 width="90%" border=0>
        <TBODY>
        <TR>
          <TD width="30%"><STRONG>first_name</STRONG><BR>----------</TD>
          <TD width="30%"><STRONG>last_name</STRONG><BR>----------</TD>
          <TD 
          width="40%"><STRONG>employee_number</STRONG><BR>----------------</TD></TR>
        <TR>
          <TD>Arnando</TD>
          <TD>Villegas</TD>
          <TD>1007</TD></TR>
        <TR>
          <TD>Carol</TD>
          <TD>Kanieski</TD>
          <TD>1008</TD></TR>
        <TR>
          <TD>Loretta</TD>
          <TD>Ryan</TD>
          <TD>1005</TD></TR>
        <TR>
          <TD>John</TD>
          <TD>Stein</TD>
          <TD>1006</TD></TR></TBODY></TABLE>
      <P align=center><IMG height=152 alt="sql0901.gif - 14973 Bytes" 
      src="Teradata SQL Introduction_files/sql0901.gif" width=431 border=0></P>
      <H4>Multiple AND . . . OR</H4>
      <P>You want to find all employees in either department 401 or department 
      403 whose salaries are either under $35,000 or over $85,000.</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT    last_name
            ,salary_amount
            ,department_number
  FROM      employee
  WHERE     (salary_amount &lt; 35000
  OR        salary_amount &gt; 85000)
  AND       (department_number = 401
  OR        department_number = 403) ;</B>
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Logical Operators -- 
Combinations</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Logical Operators -- Combinations</H2> -->
      <H4>Operator Procedures </H4>
      <P>Parentheses can be used to force an evaluation order. In the presence 
      of parentheses, expressions are evaluated from the inner-most to 
      outer-most set of parenthetical expressions.</P>
      <P align=center><IMG height=300 alt="sql10001.gif - 5687 Bytes" 
      src="Teradata SQL Introduction_files/sql10001.gif" width=300 border=0></P>
      <P>In the absence of parentheses, SQL uses the default precedence of the 
      Boolean operators. By default, <FONT face="Courier New, Courier" 
      size=-1><STRONG>NOT</STRONG></FONT> has higher precedence than <FONT 
      face="Courier New, Courier" size=-1><STRONG>AND</STRONG></FONT> which has 
      higher precedence than <FONT face="Courier New, Courier" 
      size=-1><STRONG>OR</STRONG></FONT>. Operators that have the same 
      precedence level are evaluated from left to right (e.g., multiple <FONT 
      face="Courier New, Courier" 
      size=-1><STRONG>OR</STRONG></FONT><STRONG>s</STRONG> or multiple <FONT 
      face="Courier New, Courier" 
      size=-1><STRONG>AND</STRONG></FONT><STRONG>s</STRONG>).</P>
      <P>If we remove the parentheses from the example above, our conditional 
      expression gets evaluated in a totally different order. If we were to use 
      it in a query, it would yield different results.</P><IMG height=152 
      alt="sql10002.gif - 3999 Bytes" 
      src="Teradata SQL Introduction_files/sql10002.gif" width=431 border=0> 
      <P><FONT face="Courier New, Courier" size=-1><STRONG>NOT</STRONG></FONT> 
      has the highest precedence of the three operators. </P>
      <P align=center><IMG height=152 alt="sql10003.gif - 2651 Bytes" 
      src="Teradata SQL Introduction_files/sql10003.gif" width=431 
      border=0></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Logical Operators -- Using 
Parentheses</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Logical Operators -- Using Parentheses</H2> -->
      <H4 class=TitleProblem>Problem</H4>
      <P>Select the name, department number, and job code for employees in 
      departments 401 or 403 who have job codes 412101 or 432101. </P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>SELECT    last_name
            ,department_number
            ,job_code
  FROM      employee
  WHERE     (department_number = 401
  OR        department_number = 403)
  AND       (job_code = 412101
  OR        job_code = 432101) ;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4>
      <TABLE cellSpacing=2 cellPadding=2 width="80%" border=0>
        <TBODY>
        <TR>
          <TD><STRONG>last_name</STRONG><BR>-----------</TD>
          <TD><STRONG>department_number</STRONG><BR>---------------------</TD>
          <TD><STRONG>job_code</STRONG><BR>----------</TD></TR>
        <TR>
          <TD>Villegas</TD>
          <TD>403</TD>
          <TD>432101</TD></TR>
        <TR>
          <TD>Johnson</TD>
          <TD>401</TD>
          <TD>412101</TD></TR></TBODY></TABLE>
      <P>If we accidentally left the parentheses out of our statement, would we 
      get the same results? </P><FONT face="courier New, Courier" color=#660066 
      size=3><PRE>  <B>SELECT    last_name
            ,department_number
            ,job_code
  FROM      employee
  WHERE     department_number = 401
  OR        department_number = 403
  AND       job_code = 412101
  OR        job_code = 432101;</B>		
</PRE></FONT>
      <TABLE cellSpacing=0 cellPadding=2 width="80%" border=0>
        <TBODY>
        <TR>
          <TD><STRONG>last_name</STRONG><BR>----------</TD>
          <TD><STRONG>department_number</STRONG><BR>---------------------</TD>
          <TD><STRONG>job_code</STRONG><BR>---------</TD></TR>
        <TR>
          <TD>Villegas</TD>
          <TD>403</TD>
          <TD>432101</TD></TR>
        <TR>
          <TD>Johnson</TD>
          <TD>401</TD>
          <TD>412101</TD></TR>
        <TR>
          <TD>Trader</TD>
          <TD>401</TD>
          <TD>411100</TD></TR></TBODY></TABLE>
      <P>
      <P><B>Question<BR></B>James Trader does not have either job code. Why was 
      he selected?</P>
      <P><B>Answer<BR></B>Without parentheses, the default precedence causes the 
      expression to be evaluated as follows:</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT    last_name
            ,department_number
            ,job_code
  FROM      employee
  WHERE     department_number = 401
  OR        <B>(</B>department-number = 403
  AND       job_code = 412101<B>)</B>
  OR        job_code = 432101;</B>
</PRE></FONT>
      <P>Remember, if any of the expressions that <FONT 
      face="courier New, Courier" size=-1><B>OR</B></FONT> combines are 
      <U>true</U>, the result is <U>true</U>. Since James Trader is in 
      department_number 401, that expression evaluates to true. Therefore the 
      row qualifies for output.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Multiple AND</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Multiple AND</H2> -->
      <P>Use multiple <FONT face="Courier New, Courier" 
      size=-1><STRONG>AND</STRONG></FONT><STRONG>s</STRONG> if you need to 
      locate rows which meet all of two or more sets of specific criteria.</P>
      <P>For example, what happens if we take the previous example, and replace 
      all the <FONT face="Courier New, Courier" 
      size=-1><STRONG>OR</STRONG></FONT><STRONG>s</STRONG> with <FONT 
      face="Courier New, Courier" 
      size=-1><STRONG>AND</STRONG></FONT><STRONG>s</STRONG>?</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT   last_name
           ,department_number
           ,job_code
  FROM     employee
  WHERE    department_number = 401
  AND      department_number = 403
  AND      job_code = 412101
  AND      job_code = 432101;</B>
</PRE></FONT>
      <P>No rows will be found. Why? 
      <P class=TitleSolution><B><U>Answer</U></B></P>For a row to be displayed 
      in this answer set, an employee would have to be in department numbers 401 
      <U>and</U> 403. While we could conceive of an employee who works in two 
      departments, the employee table has only one field for department number. 
      There is no way that any row in this table can contain more than one 
      department number. This query never will return any rows. A more realistic 
      example follows. 
      <H4 class=TitleProblem>Problem</H4>
      <P>Find all employees in department number 403 with <FONT 
      face="Courier New, Courier" size=-1>job_code</FONT> 432101 and a salary 
      greater than $25,000.</P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>SELECT   last_name
           ,department_number
           ,job_code
           ,salary
  FROM     employee
  WHERE    department_number = 403
  AND      job_code = 432101
  AND      salary_amount &gt; 25000.00 ;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4>
      <TABLE cellSpacing=0 cellPadding=2 width="90%" border=0>
        <TBODY>
        <TR>
          <TD><STRONG>last_name</STRONG><BR>-----------</TD>
          <TD><STRONG>department_number</STRONG><BR>----------------------</TD>
          <TD><STRONG>job_code</STRONG><BR>----------</TD>
          <TD><STRONG>salary_amount</STRONG><BR>----------------</TD></TR>
        <TR>
          <TD>Lombardo</TD>
          <TD>403</TD>
          <TD>432101</TD>
          <TD>31000.00</TD></TR>
        <TR>
          <TD>Villegas</TD>
          <TD>403</TD>
          <TD>432101</TD>
          <TD>49700.00</TD></TR>
        <TR>
          <TD>Charles</TD>
          <TD>403</TD>
          <TD>432101</TD>
          <TD>39500.00</TD></TR>
        <TR>
          <TD>Hopkins</TD>
          <TD>403</TD>
          <TD>432101</TD>
          <TD>37900.00</TD></TR>
        <TR>
          <TD>Brown</TD>
          <TD>403</TD>
          <TD>432101</TD>
          <TD>43700.00</TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Logical NOT</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Logical NOT</H2> -->
      <P>Place the <FONT face="courier New, Courier" 
      size=-1><STRONG>NOT</STRONG></FONT> operator in front of a conditional 
      expression or in front of a comparison operator if you need to locate rows 
      which do not meet specific criteria.</P>
      <P class=TitleProblem>Problem</P>
      <P>Select the name and employee number of employees <FONT 
      face="courier New, Courier" size=-1><STRONG>NOT</STRONG></FONT> in 
      department 301. </P>
      <P><B>Solution for NOT Operator</B> </P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>SELECT     first_name
             ,last_name
             ,employee_number
  FROM       employee
  WHERE      department_number NOT = 301;</B>
</PRE></FONT>
      <P><B>Solution for NOT Condition</B> </P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>SELECT     first_name
             ,last_name
             ,employee_number
  FROM       employee
  WHERE NOT  (department_number = 301);</B>
</PRE></FONT>
      <P class=TitleResult>Result &nbsp;(Note that both approaches return the 
      same result.)</P>
      <TABLE cellSpacing=0 cellPadding=2 width="90%" border=0>
        <TBODY>
        <TR>
          <TD width="30%"><STRONG>first_name</STRONG><BR>------------</TD>
          <TD width="30%"><STRONG>last_name</STRONG><BR>------------</TD>
          <TD 
            width="40%"><STRONG>employee_number</STRONG><BR>--------------------</TD></TR>
        <TR>
          <TD>Arnando</TD>
          <TD>Villegas</TD>
          <TD>1007</TD></TR>
        <TR>
          <TD>James</TD>
          <TD>Trader</TD>
          <TD>1003</TD></TR>
        <TR>
          <TD>Loretta</TD>
          <TD>Ryan</TD>
          <TD>1005</TD></TR>
        <TR>
          <TD>Darlene</TD>
          <TD>Johnson</TD>
          <TD>1004</TD></TR></TBODY></TABLE><!-- <p align="center"><img src="5LogicExp/../z-line.gif" width="20" height="8" border="0"> <b><a href="./images/labs/wbt-log_cond_expr_lab.shtm">Lab</a></b> <img src="5LogicExp/../z-line.gif" width="20" height="2" border="0"></p> --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK href="./././sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H4>LAB</H4> -->
      <P>
      <TABLE cellSpacing=0 cellPadding=8 width="100%" border=0>
        <TBODY>
        <TR>
          <TD vAlign=top width=106><B><FONT size=-1><A name=LAB>Try 
            It!</A></FONT></B></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc><FONT size=-1>
            <P>For this set of lab questions you will need information from the 
            <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1>Database Info document.</A></P>
            <P>To start the online labs, click on the Telnet button in the lower 
            left hand screen of the course. Two windows will pop-up: a BTEQ 
            Instruction Screen and your Telnet Window. </P>
            <P>Sometimes the BTEQ Instructions get hidden behind the Telnet 
            Window. You will need these instructions to log on to Teradata.</P>
            <P><B>Be sure to change your default database to the 
            Customer_Service database in order to run these labs.</B> </P>
            <P>Click on the buttons to the left to see the 
        answers.</P></FONT></TD></TR>
        <TR>
          <TD vAlign=top width=106><FONT size=-1>Answers:<BR><A 
            onclick="AnswerWindow('Mod05L01.htm',570,500,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> 
for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab A</FONT> <BR><A 
            onclick="AnswerWindow('Mod05L02.htm',550,500,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> 
for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab B</FONT> <BR><A 
            onclick="AnswerWindow('Mod05L03.htm',750,500,circbut03)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut03 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: <IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> 
for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab C</FONT> <BR><A 
            onclick="AnswerWindow('Mod05L04.htm',600,500,circbut04)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut04 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> 
for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab D</FONT> <BR><A 
            onclick="AnswerWindow('Mod05L05.htm',600,500,circbut05)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut05 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> 
for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab E</FONT> <BR><A 
            onclick="AnswerWindow('Mod05L06.htm',550,500,circbut06)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut06 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> 
for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab F</FONT> <BR><A 
            onclick="AnswerWindow('Mod05L07.htm',600,500,circbut07)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut07 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> 
for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab G</FONT> </FONT></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc>
            <P><FONT size=-1>
            <OL type=A>
              <LI>Management needs a list with employee number, last name, 
              salary and job code of all employees earning between $40,001 and 
              $50,000. Produce this report using the comparison operators and 
              sort by last name. 
              <P>Modify the query to use the <FONT face="Courier New, Courier" 
              size=-1><B>BETWEEN</B></FONT> operator and sort by salary 
              descending. </P>
              <LI>Management requests a report of all employees in departments 
              501, 301, and 201 who earn more than $30,000. Show employee 
              number, department number, and salary. Sort by department number 
              and salary amount within department. 
              <P></P>
              <LI>Display location number, area code, phone number, extension, 
              and description from the <FONT face="Courier New, Courier" 
              size=-1><B>location_phone</B></FONT> table if the description 
              contains the string manager'. Sort by location number. 
              <P></P>
              <LI>List customers from the customer table identified by: 
              <P></P>
              <OL>
                <LI>An unknown parent customer number; and 
                <P></P>
                <LI>A known sales employee number. </LI></OL>
              <P>Display all columns except parent customer number. Order 
              results by customer number.</P>
              <LI>Create a report that lists all location numbers in area code 
              415 not dedicated to any manager. Include all columns except 
              comment and extension. Sequence by phone number. 
              <P></P>
              <LI>List all job codes in the 400000 series that are management 
              and all Analyst positions regardless of job code value. List job 
              code and description for the selected rows. Sort by description. 
              Submit again using <FONT face="Courier New, Courier" 
              size=-1><B>EXPLAIN</B></FONT> to look at how the Teradata RDBMS 
              handled this request. 
              <P></P>
              <LI>List the location numbers in area codes 415 or 617 which have 
              no phone extensions. Order by area code and phone number. Include 
              all columns of the table except for description and comment line 
              columns. Notice how <FONT face="Courier New, Courier" 
              size=-1><B>NULLs</B></FONT> appear in your output. 
          </LI></OL></FONT></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;Data Types and 
      Conversions</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><LINK href="../sqlstyle.css" 
type=text/css rel=stylesheet><FONT face=Verdana size=3><B>Objectives</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>After completing this module, you should be able to:</P>
      <UL>
        <LI>Define the data type for a column in a table. 
        <LI>Compute values using arithmetic functions and operators. 
        <LI>Convert data from one type to another. 
        <LI>Manipulate the <FONT face="Courier New, Courier" 
        size=-1><STRONG>DATE</STRONG></FONT> data type. 
  </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Data Types</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Data Types</H2> -->
      <P>Every column in a row is associated with a data type that defines the 
      kind of values it accepts. These data types are associated with the fields 
      when the table is created. Data types fall into one of the four categories 
      shown below: </P>
      <TABLE cellSpacing=0 cellPadding=3 width="90%" border=0>
        <TBODY>
        <TR>
          <TD width="40%"><B><U>Data Type</U></B> </TD>
          <TD width="60%"><B><U>Holds</U></B> </TD></TR>
        <TR>
          <TD width="40%">Character data</TD>
          <TD width="60%">Character Strings</TD></TR>
        <TR>
          <TD width="40%">Byte data</TD>
          <TD width="60%">Binary Data Strings</TD></TR>
        <TR>
          <TD width="40%">Numeric data</TD>
          <TD width="60%">Numbers</TD></TR>
        <TR>
          <TD width="40%" height=60>Date/Time data</TD>
          <TD width="60%" height=60>Dates,Times,Timestamps,Time 
            Intervals<BR><STRONG><EM>(Note: Time, Timestamps and Intervals are 
            covered in the Teradata SQL Advanced course) 
        </EM></STRONG></TD></TR></TBODY></TABLE><!-- 
<H4><A NAME="2"></A>Character Data</H4>


<p>There are two data types for holding character data:</p>
<UL>
<LI><font face="Courier New, Courier, mono" size="-1">CHAR</FONT> - has fixed-length character strings.</LI>

<LI><font face="Courier New, Courier, mono" size="-1">VARCHAR</FONT> - has variable-length character strings.</LI>
</UL>

<p>In both cases, the maximum string length is 64,000 characters. String size is specified in parentheses after the keyword (<font face="courier New, Courier" size="-1"> CHAR or VARCHAR </font>) as in <font face="courier New, Courier" size="-1">CHAR (20) or VARCHAR (20)</font>. 
There are subtle differences between the two.</p>

<p>In the case of <font face="courier New, Courier" size="-1">CHAR</font>, if you insert a character string less than the specified size (20 in the above example), the system will append and store trailing blanks as needed to expand the string to the specified length. The size specified on a <font face="courier New, Courier" size="-1">VARCHAR</font> field represents a maximum length. The system will not pad the contents with trailing blanks. (It will use two extra bytes to store the length internally however.) </p>

<p>When you know that data will always be a specific length (e.g., a Mail Stop that is a four-character length) use <font face="courier New, Courier" size="-1">CHAR</font>. You save the two bytes that <font face="courier New, Courier" size="-1">VARCHAR</font> would use to store the length. When data does not have a fixed length (e.g., last names), <font face="courier New, Courier" size="-1">VARCHAR</font> makes more efficient use of the space, because it does not pad values with trailing blanks.</p>


<TABLE cellpadding="4" cellspacing="2" width="100%" border="0">
        <TR bgcolor="#FFFFCC"> 
          <TD width="33%"><b>Character Data</b></TD>
          <TD width="33%"><b>Description</b></TD>
          <TD width="33%"><b>Example</b></TD>
        </TR>
        <TR ALIGN=LEFT VALIGN=TOP> 
          <TD width="33%"><font face="Courier New, Courier, mono" size="-1">CHAR 
            (size)</font></TD>
          <TD width="33%">Fixed length string&nbsp; <BR>
            Max:&nbsp; 64,000 characters</TD>
          <TD width="33%"> 
            <p><font face="Courier New, Courier, mono" size="-1">last_name CHAR(20)</font><br>
              &nbsp; <BR>
              Sample contents:<br>
              'Ryan__________'</p>
          </TD>
        </TR>
        <TR ALIGN=LEFT VALIGN=TOP> 
          <TD width="33%"><font face="Courier New, Courier, mono" size="-1">VARCHAR 
            (size)&nbsp; <BR>
            CHAR VARYING (size)&nbsp; <BR>
            CHARACTER VARYING (size)</font></TD>
          <TD width="33%">Variable length string&nbsp; <BR>
            Max:&nbsp; 64,000 characters</TD>
          <TD width="33%"><font face="Courier New, Courier, mono" size="-1">first_name 
            VARCHAR(30)</font><br>
            <br>
            Sample contents: &nbsp;<br>
            'Loretta'</TD>
        </TR>
        <TR ALIGN=LEFT VALIGN=TOP> 
          <TD width="33%"><font face="Courier New, Courier, mono" size="-1">LONG 
            VARCHAR</font></TD>
          <TD width="33%">Equivalent to <br>
            VARCHAR (64000)</TD>
          <TD width="33%">&nbsp;</TD>
        </TR>
      </TABLE>

<p><b>Note:</b> <font face="courier New, Courier" size="-1">VARCHAR</font> (size), <font face="courier New, Courier" size="-1">CHAR VARYING</font> (size), and <font face="courier New, Courier" size="-1">CHARACTER VARYING</font> (size) are all equivalent synonyms. </p>

<p><font size="-1">LONG</font> <font face="courier New, Courier" size="-1">VARCHAR</font> is equivalent to a maximum <font face="courier New, Courier" size="-1">VARCHAR</font>. </p>

<p>Character strings may be defined using any one of the following character sets:</p>

<TABLE cellpadding="3" width="80%">
        <tr> 
          <td width="40%"> 
            <div align="right"><u>Character Set</u></div>
          </td>
          <td width="1%">&nbsp;</td>
          <td width="59%"><u>Max Length</u></td>
        </tr>
        <tr> 
          <td align="right" width="40%">Latin</td>
          <td width="1%">&nbsp;</td>
          <td width="59%">64,000 (English language default)</td>
        </tr>
        <tr> 
          <td align="right" width="40%">Kanji1</td>
          <td width="1%">&nbsp;</td>
          <td width="59%">64,000</td>
        </tr>
        <tr> 
          <td align="right" width="40%">KanjiSJIS</td>
          <td width="1%">&nbsp;</td>
          <td width="59%">64,000</td>
        </tr>
        <tr> 
          <td align="right" width="40%">Unicode</td>
          <td width="1%">&nbsp;</td>
          <td width="59%">32,000 (two bytes per character)</td>
        </tr>
        <tr> 
          <td align="right" width="40%">Graphic</td>
          <td width="1%">&nbsp;</td>
          <td width="59%">32,000 (two bytes per character)</td>
        </tr>
</table>

<p class="TitleExample">Examples</p>

<p><font size="-1" face="Courier New, Courier, mono">first_name VARCHAR(30) CHARACTER SET LATIN</p>

<p>image_abc CHAR(32000) CHARACTER SET GRAPHIC</font> </p>

 --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Character Data</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H4><A NAME="2"></A>Character Data</H4> -->
      <P>There are two data types for holding character data:</P>
      <UL>
        <LI><FONT face="courier New, Courier" 
        size=-1><STRONG>CHAR</STRONG></FONT> - has fixed-length character 
        strings. 
        <LI><FONT face="courier New, Courier" 
        size=-1><STRONG>VARCHAR</STRONG></FONT> - has variable-length character 
        strings. </LI></UL>
      <P>In both cases, the maximum string length is 64,000 characters. String 
      size is specified in parentheses after the keyword <FONT 
      face="courier New, Courier" size=-1><STRONG>CHAR</STRONG> or 
      <STRONG>VARCHAR</STRONG></FONT> as in <FONT face="courier New, Courier" 
      size=-1><STRONG>CHAR</STRONG><B>(20)</B> or 
      <STRONG>VARCHAR</STRONG><B>(20)</B></FONT>. There are subtle differences 
      between the two.</P>
      <P>In the case of <FONT face="courier New, Courier" 
      size=-1><STRONG>CHAR</STRONG></FONT>, if you insert a character string 
      less than the specified size (20 in the above example), the system will 
      append and store trailing blanks as needed to expand the string to the 
      specified length. The size specified on a <FONT 
      face="courier New, Courier" size=-1><STRONG>VARCHAR</STRONG></FONT> field 
      represents a maximum length. The system will not pad the contents with 
      trailing blanks. (It will use two extra bytes to store the length 
      internally however.) </P>
      <P>When you know that data will always be a specific length (e.g., a Mail 
      Stop that is a four-character length) use <FONT 
      face="courier New, Courier" size=-1><STRONG>CHAR</STRONG></FONT>. You save 
      the two bytes that <FONT face="courier New, Courier" 
      size=-1><STRONG>VARCHAR</STRONG></FONT> would use to store the length. 
      When data does not have a fixed length (e.g., last names), <FONT 
      face="courier New, Courier" size=-1><STRONG>VARCHAR</STRONG></FONT> makes 
      more efficient use of the space, because it does not pad values with 
      trailing blanks.</P>
      <TABLE cellSpacing=0 cellPadding=2 width="100%" border=3>
        <TBODY>
        <TR>
          <TD width="33%"><B><U>Character Data</U></B></TD>
          <TD width="33%"><U><B>Description</B></U></TD>
          <TD width="33%"><U><B>Example</B></U></TD></TR>
        <TR vAlign=top align=left>
          <TD width="33%"><B><FONT face="Courier New, Courier, mono" 
            size=-1>CHAR (size)</FONT></B></TD>
          <TD width="33%">Fixed length string&nbsp; <BR>Max:&nbsp; 64,000 
            characters</TD>
          <TD width="33%">
            <P><FONT face="Courier New, Courier, mono" size=-1>last_name 
            CHAR(20)</FONT><BR>&nbsp; <BR>Sample 
            contents:<BR>'Ryan__________'</P></TD></TR>
        <TR vAlign=top align=left>
          <TD width="33%"><B><FONT face="Courier New, Courier, mono" 
            size=-1>VARCHAR (size)&nbsp; <BR>CHAR VARYING (size)&nbsp; 
            <BR>CHARACTER VARYING (size)</FONT></B></TD>
          <TD width="33%">Variable length string&nbsp; <BR>Max:&nbsp; 64,000 
            characters</TD>
          <TD width="33%"><FONT face="Courier New, Courier, mono" 
            size=-1>first_name VARCHAR(30)</FONT><BR><BR>Sample contents: 
            &nbsp;<BR>'Loretta'</TD></TR>
        <TR vAlign=top align=left>
          <TD width="33%"><B><FONT face="Courier New, Courier, mono" 
            size=-1>LONG VARCHAR</FONT></B></TD>
          <TD width="33%">Equivalent to <BR>VARCHAR (64000)</TD>
          <TD width="33%">&nbsp;</TD></TR></TBODY></TABLE>
      <P><B>Note:</B> <FONT face="courier New, Courier" 
      size=-1><STRONG>VARCHAR</STRONG></FONT>(size), <FONT 
      face="courier New, Courier" size=-1><STRONG>CHAR 
      VARYING</STRONG></FONT>(size), and <FONT face="courier New, Courier" 
      size=-1><STRONG>CHARACTER VARYING</STRONG></FONT>(size) are all equivalent 
      synonyms. </P>
      <P><FONT face="courier New, Courier" size=-1><STRONG>LONG 
      VARCHAR</STRONG></FONT> is equivalent to a maximum <FONT 
      face="courier New, Courier" size=-1></FONT><FONT 
      face="Courier New, Courier, mono" size=-1><B>VARCHAR</B></FONT><B></B>. 
      </P>
      <P>Character strings may be defined using any one of the following 
      character sets:</P>
      <TABLE cellPadding=2 width="80%" border=3>
        <TBODY>
        <TR>
          <TD width="40%">
            <DIV align=right><B><U>Character Set</U></B></DIV></TD>
          <TD width="1%"><B></B></TD>
          <TD width="59%"><B><U>Max Length</U></B></TD></TR>
        <TR>
          <TD align=right width="40%"><B>Latin</B></TD>
          <TD width="1%">&nbsp;</TD>
          <TD width="59%">64,000 (English language default)</TD></TR>
        <TR>
          <TD align=right width="40%"><B>Kanji1</B></TD>
          <TD width="1%">&nbsp;</TD>
          <TD width="59%">64,000</TD></TR>
        <TR>
          <TD align=right width="40%"><B>KanjiSJIS</B></TD>
          <TD width="1%">&nbsp;</TD>
          <TD width="59%">64,000</TD></TR>
        <TR>
          <TD align=right width="40%"><B>Unicode</B></TD>
          <TD width="1%">&nbsp;</TD>
          <TD width="59%">32,000 (two bytes per character)</TD></TR>
        <TR>
          <TD align=right width="40%"><B>Graphic</B></TD>
          <TD width="1%">&nbsp;</TD>
          <TD width="59%">32,000 (two bytes per character)</TD></TR></TBODY></TABLE>
      <H4 class=TitleExample>Examples</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>   first_name VARCHAR(30) CHARACTER SET LATIN

   image_abc CHAR(32000) CHARACTER SET GRAPHIC
 </B>
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Byte Data</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Byte Data</H2> -->
      <P>Teradata supports two data types for holding binary data: </P>
      <UL>
        <LI><FONT face="courier New, Courier" 
        size=-1><STRONG>BYTE</STRONG>.</FONT> 
        <LI><FONT face="courier New, Courier" 
        size=-1><STRONG>VARBYTE</STRONG>.</FONT> </LI></UL>
      <P><FONT face="courier New, Courier" size=-1><STRONG>BYTE</STRONG></FONT> 
      is for fixed length binary strings. <FONT face="courier New, Courier" 
      size=-1><STRONG>VARBYTE</STRONG></FONT> is for variable length binary 
      strings. These data types are used for storing binary objects such as 
      digital images, executable objects, flat files, etc.</P>
      <TABLE cellSpacing=0 cellPadding=8 width="60%" border=0>
        <TBODY>
        <TR>
          <TD width="43%"><U><B>Byte Data</B></U></TD>
          <TD width="3%"><U><B></B></U></TD>
          <TD width="54%"><U><B>Description</B></U></TD></TR>
        <TR vAlign=top align=left>
          <TD><B>BYTE (size)</B></TD>
          <TD>&nbsp;</TD>
          <TD>Fixed length <BR>Binary string <BR>Default: (1) <BR>Max: 64,000 
            bytes</TD></TR>
        <TR vAlign=top align=left>
          <TD><B>VARBYTE (size)</B></TD>
          <TD>&nbsp;</TD>
          <TD>Variable length <BR>Binary string <BR>Default: (1) <BR>Max: 
            64,000 bytes</TD></TR></TBODY></TABLE>
      <P><B>Note:</B> <FONT face="courier New, Courier" 
      size=-1><STRONG>BYTE</STRONG></FONT> columns are not covertible to other 
      data types.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Numeric Data</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H4><A NAME="2"></A>Numeric and Date Data</H4> -->
      <P>The following numeric data types are available:</P>
      <TABLE cellSpacing=0 cellPadding=2 width="100%" border=3>
        <TBODY>
        <TR>
          <TD width=158><B><U>Data Type </U></B></TD>
          <TD width=284><U><B>Description </B></U></TD>
          <TD align=middle width=298>
            <DIV align=left><U><B>Examples </B></U></DIV></TD></TR>
        <TR vAlign=top align=left>
          <TD><STRONG>BYTEINT*</STRONG></TD>
          <TD>Whole number<BR>Range -128 to 127<BR>Storage: 1 byte </TD>
          <TD>
            <P>basket_count<BR>BYTEINT<BR>&nbsp;&nbsp;&nbsp;+125 </P></TD></TR>
        <TR vAlign=top align=left>
          <TD width=158><B>SMALLINT</B></TD>
          <TD width=284>Whole number <BR>Range: -32,768 to 32,767<BR>Storage: 
            2 bytes</TD>
          <TD width=298>
            <DIV align=left>area_code <BR>SMALLINT <BR>&nbsp;&nbsp; +00213 (up 
            to 5 digits) </DIV></TD></TR>
        <TR vAlign=top align=left>
          <TD width=158><B>INTEGER</B></TD>
          <TD width=284>Whole number <BR>Range: -2,147,483,648 to&nbsp; 
            2,147,483,647<BR>Storage: 4 bytes<BR></TD>
          <TD width=298>
            <DIV align=left>phone <BR>INTEGER <BR>&nbsp;&nbsp;&nbsp;&nbsp; 
            +0006495252 (up to 10 digits) </DIV></TD></TR>
        <TR vAlign=top align=left>
          <TD height=66><STRONG>BIGINT</STRONG></TD>
          <TD height=66>
            <P>Whole number<BR>Range  9,233,372,036,854,775,807<BR>Storage: 8 
            bytes <BR></P></TD>
          <TD height=66>international_phone<BR>BIGINT<BR>+0000010807934842145 
            (up to 19 digits) </TD></TR>
        <TR vAlign=top align=left>
          <TD width=158 height=66>
            <P><B>DEC(m, n)<BR>DECIMAL(m,n)<BR>NUMERIC(m,n)<BR></B>(Small 
            Decimal) </P></TD>
          <TD width=284 height=66>
            <P>'m' is total number of digits. (m &lt;= 18) <BR>'n' is precision 
            places to the right of decimal point.<BR>Max Size =18 
            digits<BR>Storage: 2 to 8 bytes</P></TD>
          <TD width=298 height=66>
            <DIV align=left>salary_amount <BR>DEC (10,2) <BR>&nbsp;&nbsp; 
            +00035000.00</DIV></TD></TR>
        <TR vAlign=top align=left>
          <TD height=79><B>DEC(m, 
            n)<BR>DECIMAL(m,n)<BR>NUMERIC(m,n)<BR></B>(Large Decimal) </TD>
          <TD height=79>'m' is total number of digits. (18 &lt; m &lt;= 38) 
            <BR>'n' is precision places to the right of decimal point.<BR>Max 
            Size = 38 digits<BR>Storage: 16 bytes</TD>
          <TD height=79>
            <P>sheet_thickness<BR>DEC 
            (32,30)<BR>&nbsp;&nbsp;&nbsp;+01.123498782792787582977278497827</P></TD></TR>
        <TR vAlign=top align=left>
          <TD width=158 height=79><B>FLOAT</B></TD>
          <TD width=284 height=79>
            <P>Floating Point Format (IEEE)<BR>2x10<SUP>-307 </SUP>to 
            2x10<SUP>+308<BR></SUP>Storage: 8 bytes</P></TD>
          <TD width=298 height=79>
            <DIV align=left>salary_factor <BR>FLOAT&nbsp; 
            <BR>4.35400000000000E-001</DIV></TD></TR>
        <TR vAlign=top align=left>
          <TD width=158><B>FLOAT <BR>[(precision)]</B></TD>
          <TD width=284>Internally represented <BR>as FLOAT</TD></TR>
        <TR vAlign=top align=left>
          <TD width=158><B>REAL</B></TD>
          <TD width=284>Internally represented <BR>as FLOAT</TD></TR>
        <TR vAlign=top align=left>
          <TD width=158><B>DOUBLE <BR>PRECISION</B></TD>
          <TD width=284>Internally represented <BR>as 
FLOAT</TD></TR></TBODY></TABLE>
      <P><STRONG>*</STRONG> Non-ANSI standard data type 
</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Date Data</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><a name="2"></a>DATE</H2> -->
      <P><FONT face="courier New, Courier" size=-1><STRONG>DATE</STRONG></FONT> 
      represents a calendar date. It simplifies handling and formatting dates 
      common to business applications. <FONT face="courier New, Courier" 
      size=-1><STRONG>DATE</STRONG></FONT> is stored as an integer, using the 
      following formula: <BR>(year - 1900) * 10000 + (month * 100) + day.</P>
      <P>The <FONT face="courier New, Courier" size=-1>DATE </FONT>data type, 
      shown here, is used in several forthcoming examples.</P>
      <TABLE cellSpacing=2 cellPadding=2 width="100%" border=3>
        <TBODY>
        <TR borderColor=#000000>
          <TD width="20%"><U><B>Data Type</B></U></TD>
          <TD align=middle width="55%"><U><B>Description </B></U></TD>
          <TD width="25%"><U><B>Examples </B></U></TD></TR>
        <TR borderColor=#000000>
          <TD vAlign=top><B>DATE</B></TD>
          <TD>Specially formatted integer:<BR>&nbsp;&nbsp;<B>&nbsp;YY</B>MMDD 
            thru 1999 <BR>&nbsp;&nbsp;&nbsp;<B>YYY</B>MMDD from 2000 onward</TD>
          <TD>hire_date DATE <BR>&nbsp;&nbsp;+0000<B>99</B>0921 
            <BR>&nbsp;&nbsp;+000<B>100</B>0215</TD></TR></TBODY></TABLE>
      <P>In the first example, the date being represented is September 21, 
      1999.<BR>In the second example, the date being represented is February 15, 
      2000.</P>
      <P>Note that the year is represented as an offset from the year 1900 in 
      both cases. Note, this is how the date is stored internally. How you see 
      the date in a report depends on how the date is formatted. <BR><BR>The 
      recommended display format for <FONT face="courier New, Courier" 
      size=-1><STRONG>DATE</STRONG></FONT> values is YYYY-MM-DD. This format 
      will avoid problems that may occur from formats specifying only two digits 
      for the year. This is a significant issue as dates for the year 2000 and 
      beyond are now commonly entered. &nbsp;</P>
      <P class=TitleExample>Example</P>
      <P>2006-03-14&nbsp;formatted as <STRONG>YY-MM-DD </STRONG>displays ad 
      01-03-14, which is also the representation 
      for&nbsp;1901-03-14.<BR>2006-03-14 formatted as 
      <STRONG>YYYY-MM-DD</STRONG> displays as 2006-03-14, which is 
      unambiguous.</P>
      <P><B>Note:</B> Formatting techniques for dates are discussed in the 
      forthcoming module 'Output Attributes'.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Arithmetic Operators</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Arithmetic Operators</H2> -->
      <P>Teradata provides six binary arithmetic operators and two unary 
      arithmetic operators. They are defined in the tables below: </P>
      <P>Binary Operators (require two operands)</P>
      <TABLE cellSpacing=0 cellPadding=2 width="80%">
        <TBODY>
        <TR>
          <TD><U><STRONG>Operator</STRONG></U></TD>
          <TD><U><STRONG>Definition</STRONG></U></TD></TR>
        <TR>
          <TD>**</TD>
          <TD>exponentiation</TD></TR>
        <TR>
          <TD>*</TD>
          <TD>Multiply</TD></TR>
        <TR>
          <TD>/</TD>
          <TD>Divide</TD></TR>
        <TR>
          <TD>MOD</TD>
          <TD>Modulos (remainders)</TD></TR>
        <TR>
          <TD>+</TD>
          <TD>Add</TD></TR>
        <TR>
          <TD>-</TD>
          <TD>Subtract</TD></TR></TBODY></TABLE>
      <P>Unary Operators (require a single operand) </P>
      <TABLE cellSpacing=0 cellPadding=2 width="80%">
        <TBODY>
        <TR>
          <TD width="31%"><U><STRONG>Operator</STRONG></U></TD>
          <TD width="69%"><U><STRONG>Definition</STRONG></U></TD></TR>
        <TR>
          <TD>+</TD>
          <TD>Positive value</TD></TR>
        <TR>
          <TD>-</TD>
          <TD>Negative value</TD></TR></TBODY></TABLE>
      <P>Teradata supports two arithmetic operators which provide additional 
      functionality beyond ANSI SQL: </P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE> 
  <STRONG>**	(exponentiation)
  MOD	(modulo arithmetic) </STRONG>
</PRE></FONT>
      <P><STRONG><FONT face="Courier New, Courier, mono" color=#660066 size=2>** 
      (exponentiation) is used in the form:&nbsp;&nbsp; &lt;n&gt;**&lt;arg&gt;, 
      where &lt;n&gt; is raised to the power of &lt;arg&gt;.</FONT></STRONG></P>
      <P class=TitleExample>Example</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE> 
  <STRONG> 4**3 = 4 * 4 * 4 = 64</STRONG>
</PRE></FONT>
      <P><FONT face="Courier New, Courier, mono" size=-1><B>MOD</B></FONT> is 
      the modulo operator. It calculates the remainder in a division 
      operation.</P>
      <P class=TitleExample>Example</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE> 
    <STRONG>60 MOD 7 = 4
    Sixty divided by 7 equals 8, with a remainder of 4</STRONG>
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Arithmetic Functions</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>Arithmetic Functions</H2>-->
      <P>Teradata supports several arithmetic functions which provide additional 
      capabilities beyond those available in ANSI SQL. They are described in the 
      table below:</P>
      <TABLE cellSpacing=0 cellPadding=2 width="90%">
        <TBODY>
        <TR>
          <TD><B><U><STRONG>Function</STRONG></U></B></TD>
          <TD><U><STRONG>Result</STRONG></U></TD></TR>
        <TR>
          <TD><B>ABS (arg)</B></TD>
          <TD>Absolute value</TD></TR>
        <TR vAlign=top align=left>
          <TD height=29><B>EXP (arg)</B></TD>
          <TD height=29>Raises e to the power of arg (e ** arg)</TD></TR>
        <TR>
          <TD><B>LOG (arg)</B></TD>
          <TD>Base 10 logarithm</TD></TR>
        <TR>
          <TD><B>LN (arg)</B></TD>
          <TD>Base e (natural) logarithm</TD></TR>
        <TR>
          <TD><B>SQRT (arg)</B></TD>
          <TD>Square root</TD></TR></TBODY></TABLE>
      <P>Arg is any constant or variable numeric argument.</P>
      <P class=TitleExample>Examples</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE> 
  <STRONG>SQRT (16) = 4</STRONG>
</PRE></FONT>
      <P>ABS (a) is equivalent to a positive a, regardless of whether the actual 
      a is positive or negative.</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE> 
  <STRONG>if a = -600 then ABS (a) = 600 
  if a = +400 then ABS (a) = 400</STRONG>
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Computed Values</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Computed Values</H2> -->
      <P>Use arithmetic expressions in your <FONT face="courier New, Courier" 
      size=-1><B>SELECT</B></FONT> to perform calculations on data in the table. 
      Arithmetic expressions will allow you to do two things:</P>
      <UL>
        <LI>Re-label the column heading for purposes of displaying the output. 
        <LI>Perform the calculation on the data values in that column. </LI></UL>
      <H4>Example</H4>
      <P>Create an alphabetical list with monthly salary of department 401 
      employees. <FONT face="courier New, Courier" color=#660066 
      size=3></FONT></P><FONT face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT    last_name
            ,first_name
            ,salary_amount/12
  FROM      employee
  WHERE     department_number = 401
  ORDER BY  last_name ;</B>
</PRE></FONT><BR>
      <TABLE cellSpacing=0 cellPadding=2 width="70%" border=0>
        <TBODY>
        <TR>
          <TD width="30%"><STRONG>last_name</STRONG><BR>----------</TD>
          <TD width="30%"><STRONG>first_name</STRONG><BR>----------</TD>
          <TD><STRONG>&nbsp;&nbsp;&nbsp;&nbsp;salary_amount</STRONG><B>/ 
            12</B><BR>&nbsp;&nbsp;&nbsp;--------------------</TD></TR>
        <TR>
          <TD align=left>Johnson</TD>
          <TD align=left>Darlene</TD>
          <TD align=middle>3025.00</TD></TR>
        <TR>
          <TD align=left>Trader</TD>
          <TD align=left>James</TD>
          <TD align=middle>3154.17</TD></TR></TBODY></TABLE><!-- 
<H2><A NAME="2"></A><b>SELECT</b>ing System Variables</H2>

<p><font face="courier New, Courier" size="-1"><b>SELECT</b></font> 
can be used to query the system for current information, including current:</p>

<UL>
<LI>System <font face="Courier New, Courier, mono" size="-1">DATE.</FONT> 
<LI>System <font face="Courier New, Courier, mono" size="-1">TIME.</FONT> 
<LI>Logged-on <font face="Courier New, Courier, mono" size="-1">USER.</FONT> 
<LI>Current default <font size="-1">DATABASE</font>.
</UL>
<B>Examples:</B>

<font face="courier New, Courier" size="3" color="#660066">
<pre>
<b>SELECT</b> DATE;

Date
--------99/10/17

<b>SELECT</b> TIME;

Time
--------09:15:37

<b>SELECT</b> USER;

User
-----SQL01

<b>SELECT</b> DATABASE;

Database
----------------
CUSTOMER_SERVICE
</pre>
</font>

 -->
      <P><B>Note:</B> salary_amount/12 is considered a 'computed column', 
      because an arithmetic operation is performed on the underlying value. 
      Also, the column title reflects the computation 
  performed.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>SELECTing System 
Variables</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>A <FONT face="Courier New, Courier" size=3><B>DEFAULT</B></FONT> 
      function exists which permits the retrieval of the default value assigned 
      to a particular column. For example, assume we define a table as 
      follows:</P><FONT face="Courier New, Courier, mono" color=#660066 
      size=3><B><PRE>CREATE TABLE TableX
 (Col1 INTEGER,
  Col2 INTEGER DEFAULT 10, 
  Col3 INTEGER DEFAULT 20, 
  Col4 CHAR(60)); 
</PRE></B></FONT>
      <P>We may retrieve the default values for any column by using the <FONT 
      face="Courier New, Courier" size=3><B>DEFAULT</B></FONT> function as 
      follows:</P><FONT face="Courier New, Courier, mono" color=#660066 
      size=3><B><PRE>SELECT DEFAULT(Col2), DEFAULT(Col3) FROM TableX; </PRE></B></FONT><FONT 
      face="Courier New, Courier, mono" color=#000000 size=3><PRE>Default(Col2) Default(Col3)
------------- -------------
           10 		20
           10 		20</PRE></FONT>
      <P>Default values are returned in place of the normal column values. Note 
      that two rows are returned. This is because there are currently two rows 
      in the table. One row of output is returned for each existing row in the 
      table. You may return a single row by using the following syntax:</P><FONT 
      face="Courier New, Courier, mono" color=#660066 size=3><B><PRE>SELECT DISTINCT DEFAULT(Col2), DEFAULT(Col3) FROM TableX;
</PRE></B></FONT><FONT face="Courier New, Courier, mono" color=#000000 
      size=3><PRE><BR>Default(Col2) Default(Col3)
------------- -------------
           10 		20  </PRE></FONT>
      <P>If there are no rows in the table, no default values will be returned. 
      </P>
      <P>If no default values are assigned to the specified column, then a null 
      is returned. </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Literal, Constant, and Calculator 
Features</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Literal, Constant, and Calculator Features</H2> -->
      <H4>Character Literals</H4>
      <P>You may add <I>character literals</I> to your <FONT 
      face="courier New, Courier" size=-1><B>SELECT</B></FONT> statement: 
      </P><FONT face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT    'Employee'
            ,last_name
            ,first_name
  FROM      employee ;</B><FONT face="courier New, Courier" size=3> 
</FONT></PRE></FONT><FONT face="courier New, Courier" size=3><PRE><STRONG>Employee</STRONG>	<STRONG>last_name</STRONG>	<STRONG>first_name</STRONG>
--------	---------	----------
Employee	Stein		John
Employee	Kanieski	Carol
Employee	Ryan		Loretta<BR>
</PRE></FONT>
      <H4>Numeric Constants:</H4>
      <P>You may also add <I>numeric constants</I> to your <FONT 
      face="courier New, Courier" size=-1><B>SELECT</B></FONT> statement: 
      </P><FONT face="courier New, Courier" color=#660066 size=3><PRE>    <B>SELECT    12345
              ,last_name
              ,first_name
    FROM      employee ;</B>
</PRE></FONT><FONT face="courier New, Courier" size=3><PRE>  <STRONG>12345</STRONG>		<STRONG>last_name</STRONG>	<STRONG>first_name</STRONG>
  -----		---------	----------
  12345		Stein		John
  12345		Kanieski	Carol
  12345		Ryan		Loretta<BR>
</PRE></FONT>
      <H4>Calculator Mode:</H4>
      <P>You may use numeric expressions to do calculations:</P>
      <TABLE cellSpacing=0 cellPadding=2 width="90%" border=0>
        <TBODY>
        <TR>
          <TD width="35%"><U><B>Calculation</B></U></TD>
          <TD width="14%"><U><B>Result</B></U></TD>
          <TD width="51%"><U><B>Comment</B></U></TD></TR>
        <TR>
          <TD width="35%"><FONT color=#000000><FONT 
            face="Courier New, Courier, mono" size=-1>SELECT 2*250; 
            </FONT></FONT></TD>
          <TD width="14%"><FONT face="Courier New, Courier, mono" 
            size=-1>500</FONT></TD>
          <TD width="51%">Simple multiplication</TD></TR>
        <TR>
          <TD width="35%"><FONT face="Courier New, Courier, mono" 
            size=-1>SELECT 1.01 + 2.2;</FONT></TD>
          <TD width="14%"><FONT face="Courier New, Courier, mono" 
            size=-1>3.2</FONT></TD>
          <TD width="51%">Uses greatest possible precision</TD></TR>
        <TR>
          <TD width="35%" height=32><FONT face="Courier New, Courier, mono" 
            size=-1>SELECT 10/3.000;</FONT></TD>
          <TD width="14%" height=32><FONT face="Courier New, Courier, mono" 
            size=-1>3.333</FONT></TD>
          <TD width="51%" height=32>Rounds off </TD></TR>
        <TR>
          <TD width="35%"><FONT face="Courier New, Courier, mono" 
            size=-1>SELECT 10/6.000;</FONT></TD>
          <TD width="14%"><FONT face="Courier New, Courier, mono" 
            size=-1>1.667</FONT></TD>
          <TD width="51%">Rounds 
up</TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>MOD Operator</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H4><A NAME="2"></A>MOD Operator</H4> -->
      <P>The <B><FONT face="courier New, Courier" size=-1>MODULO</FONT></B> or 
      <B>remainder operator</B> is a Teradata extension which calculates the 
      remainder in a division operation. In earlier versions of Teradata SQL, 
      <FONT face="courier New, Courier" size=-1><STRONG>MODULO</STRONG></FONT> 
      was used significantly for <FONT face="Courier New, Courier, mono" 
      size=-1><STRONG>DATE</STRONG></FONT> arithmetic. With the addition of the 
      <FONT face="courier New, Courier" size=-1><STRONG>EXTRACT</STRONG></FONT> 
      function (seen in a later module), <FONT face="courier New, Courier" 
      size=-1><STRONG>MODULO</STRONG></FONT> is less commonly used for date 
      extraction operations (i.e., extracting the month from a date). </P>
      <P class=TitleExample>Example</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <STRONG>7    4 = 1 remainder of 3 
  Therefore 7 MOD 4 = 3 </STRONG>
</PRE></FONT>
      <P class=TitleProblem>Problem</P>
      <P>Identify zip codes in the location table ending in four zeros.</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE> 
 <B>SELECT customer_number 
             ,zip_code
  FROM    location
  WHERE  zip_code MOD 10000 = 0;</B>

</PRE></FONT><!-- 
<font face="courier New, Courier" size="3">
<pre> 
    <strong>customer_number </strong>    <strong>zip_code</strong>
    ---------------     --------- 
         10             940710000
         14               1210000 
</pre>
</font>

 -->
      <TABLE cellSpacing=0 cellPadding=2 width="70%" border=0>
        <TBODY>
        <TR>
          <TD 
            width="50%"><STRONG>customer_number</STRONG><BR>-------------------</TD>
          <TD width="50%"><STRONG>zip_code</STRONG><BR>-----------</TD></TR>
        <TR>
          <TD>10</TD>
          <TD>940710000</TD></TR>
        <TR>
          <TD>14</TD>
          <TD>1210000 </TD></TR></TBODY></TABLE>
      <P>You could do this search with string comparisons, but it is more 
      efficient to use <FONT face="courier New, Courier" 
      size=-1><STRONG>MOD</STRONG> </FONT>because no character conversion is 
      required.</P>
      <P><B>Note:</B> Leading zeros are suppressed by default. 
  </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>DATE Data Type</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>DATE Data Type</H2> -->
      <P>The Teradata <FONT face="courier New, Courier" 
      size=-1><STRONG>DATE</STRONG></FONT> data type is used to store calendar 
      dates representing year, month and day. It is stored internally as a 
      four-byte integer.</P>
      <P>The Teradata database performs basic <FONT face="courier New, Courier" 
      size=-1><STRONG>DATE</STRONG></FONT> handling functions including: </P>
      <UL>
        <LI>Month-to-month conversions. 
        <LI>Year-to-year conversions. 
        <LI>Leap-year conversions. 
        <LI>Dates prior to 1900. 
        <LI>Dates after 2000. </LI></UL>
      <P>The database treats the <FONT face="courier New, Courier" 
      size=-1><STRONG>DATE</STRONG></FONT> data type as an <FONT 
      face="courier New, Courier" size=-1><STRONG>INTEGER</STRONG></FONT> value 
      but does not permit invalid calendar dates. The system encodes dates using 
      the formula: </P>
      <P><FONT face="courier New, Courier" color=#660066 size=-1><B>((YEAR - 
      1900) * 10000) + MONTH * 100) + DAY</B></FONT> </P>
      <P>For March 31, 1997 the calculation is: </P>
      <TABLE cellSpacing=0 cellPadding=2 width="70%" border=1>
        <TBODY>
        <TR vAlign=bottom align=left>
          <TD vAlign=bottom align=left>YEAR =</TD>
          <TD>(1997 - 1900) *&nbsp; 10000 <BR></TD>
          <TD vAlign=bottom align=left>= 970000</TD></TR>
        <TR>
          <TD>MONTH =</TD>
          <TD>(3 * 100)</TD>
          <TD>= 300</TD></TR>
        <TR>
          <TD>DAY =</TD>
          <TD>&nbsp;</TD>
          <TD>= 31</TD></TR>
        <TR>
          <TD>DATE =</TD>
          <TD>&nbsp;</TD>
          <TD>= 970331</TD></TR></TBODY></TABLE>
      <P>For March 31, 2004 the calculation is:</P>
      <TABLE cellSpacing=0 cellPadding=2 width="70%" border=1>
        <TBODY>
        <TR vAlign=bottom align=left>
          <TD vAlign=bottom align=left>YEAR =</TD>
          <TD>(2004 - 1900) *&nbsp; 10000 <BR></TD>
          <TD vAlign=bottom align=left>= 1040000</TD></TR>
        <TR>
          <TD>MONTH =</TD>
          <TD>(3 * 100)</TD>
          <TD>= 300</TD></TR>
        <TR>
          <TD>DAY =</TD>
          <TD>&nbsp;</TD>
          <TD>= 31</TD></TR>
        <TR>
          <TD>DATE =</TD>
          <TD>&nbsp;</TD>
          <TD>= 1040331</TD></TR></TBODY></TABLE>
      <P>For January 1, 1900 the result is 000101. </P>
      <P>For dates before Jan 1, 1900, the integer calculation returns a 
      negative number. Remember, this is only how the date is stored, not how it 
      is represented in a query output.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>DATE Arithmetic</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H4><A NAME="2"></A>DATE Arithmetic</H4> -->
      <P>SQL permits us to perform arithmetic calculations on <FONT 
      face="courier New, Courier" size=-1><STRONG>DATE</STRONG></FONT>. When the 
      <FONT face="courier New, Courier" size=-1><STRONG>DATE</STRONG></FONT> 
      keyword is <FONT face="courier New, Courier" 
      size=-1><B>SELECTed</B></FONT> it is a system variable which represents 
      the current date. (<FONT face="courier New, Courier" 
      size=-1><STRONG>CURRENT_DATE</STRONG></FONT> may also be used and is the 
      preferred ANSI standard). As we saw in the previous example, the <FONT 
      face="courier New, Courier" size=-1><STRONG>DATE</STRONG></FONT> keyword 
      is always replaced with the current system date. </P>
      <TABLE cellSpacing=0 cellPadding=2 width="75%" border=0>
        <TBODY>
        <TR>
          <TD width="56%"><U><B>Find</B></U></TD>
          <TD width="44%"><U><B>Syntax</B></U></TD></TR>
        <TR>
          <TD>The date 30 days from today</TD>
          <TD><FONT face="Courier New, Courier, mono" size=-1>SELECT DATE + 
            30;</FONT></TD></TR></TBODY></TABLE>
      <P>Since days is the basic unit, we need to express a year in terms of the 
      number of days it contains. <FONT face="courier New, Courier" 
      size=-1><STRONG>DATE</STRONG> + 365</FONT> (or in a leap-year, <FONT 
      face="courier New, Courier" size=-1><STRONG>DATE</STRONG> + 366)</FONT>, 
      gives us the date one year from today. </P>
      <TABLE cellSpacing=0 cellPadding=2 width="75%" border=0>
        <TBODY>
        <TR>
          <TD height=19><U><B>Find</B></U></TD>
          <TD height=19><U><B>Syntax</B></U></TD></TR>
        <TR>
          <TD>The date 1 year from now </TD>
          <TD><FONT face="Courier New, Courier, mono" size=-1>SELECT DATE + 
            365;</FONT></TD></TR></TBODY></TABLE>
      <P>How would you find a person's age (in rounded years)?</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>&nbsp;&nbsp;<B>SELECT	(DATE-birthdate)/365
  FROM		employee
  WHERE		last_name = 'Stein';</B>
</PRE></FONT><FONT face="courier New, Courier" color=#660066 size=3><PRE> 
<FONT color=#000000><STRONG>((Date-birthdate)/365)</STRONG>
----------------------
                    45</FONT>
</PRE></FONT>
      <P>This example takes today's date, (encoded as an integer) and 
      "subtracts" John Stein's birth date, (also encoded as an integer) and 
      divides by the number of days in a year (365). </P>
      <P>Suppose today's date is 980826 and John's birth date is 531015. If you 
      did this as a straight integer subtraction, you would find that 980826 - 
      531015 = 449811. 449811 is not a legal date! Because these are <FONT 
      face="courier New, Courier" size=-1><STRONG>DATE</STRONG> </FONT>data 
      types, not <FONT face="courier New, Courier" 
      size=-1><STRONG>INTEGERS</STRONG></FONT>, the subtraction operator 
      actually returns the number of days between the two operands instead of 
      subtracting the <FONT face="courier New, Courier" 
      size=-1><STRONG>INTEGER</STRONG></FONT><STRONG>s</STRONG>.</P>
      <P><FONT face="courier New, Courier" size=-1>(<STRONG>DATE</STRONG></FONT> 
      - birth date) thus provides us with the number of days elapsed between a 
      birth date and today. Dividing that amount by the number of days in a year 
      (365) gives us John's age in years. To account for the leap year, we could 
      divide by 365.25 to get a more precise number of years.</P>
      <P class=TitleProblem>Problem</P>
      <P>Find employees with more than 10 years of service. </P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT    last_name
           ,hire_date
  FROM     employee
  WHERE    (DATE-hire_date)/365 &gt; 10;</B>
</PRE></FONT><FONT face="courier New, Courier" size=3><PRE><STRONG>last_name</STRONG>             <STRONG>hire_date</STRONG>
--------------------  ---------
Ratzlaff               78/07/15
Villegas               77/01/02
Crane                  78/01/15
Machado                79/03/01
Trader                 76/07/31
Runyon                 78/05/01
Rogers                 77/03/01
Brown                  76/07/31
Morrissey              78/10/01
Stein                  76/10/15
Charles                78/10/01
Rogers                 78/03/01
Trainer                73/03/01
Phillips               77/04/01
Ryan                   76/10/15
Wilson                 78/03/01
Lombardo               77/02/01
Short                  79/05/01
Hoover                 76/06/18
Hopkins                77/03/15
Johnson                76/10/15
Rabbit                 79/03/01
Kubic                  78/08/01
Brown                  79/05/01
Kanieski               77/02/01
Daly                   77/03/15
 </PRE></FONT>
      <P>The example shows that operations using <FONT 
      face="courier New, Courier" size=-1><STRONG>DATE</STRONG></FONT> may be 
      included in the <FONT face="courier New, Courier" 
      size=-1><STRONG>WHERE</STRONG></FONT> 
clause.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Date Function ADD_MONTHS</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H4>Date Function ADD_MONTHS</H4> -->The<FONT 
      face="Courier New, Courier, mono" size=-1> <STRONG>ADD_MONTHS</STRONG> 
      </FONT>function allows the addition of a specified number of months to an 
      existing date, resulting in a new date. 
      <P></P>
      <P>The format of the function is:</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <STRONG>ADD_MONTHS (date, n)</STRONG>
</PRE></FONT>
      <P>where <FONT face="Courier New, Courier, mono" 
      size=-1><STRONG>n</STRONG></FONT> is a number or an expression 
      representing the number of months to be added to the date.</P>
      <P>The following examples demonstrate its usage.</P>
      <TABLE cellSpacing=0 cellPadding=2 width="86%" border=0>
        <TBODY>
        <TR>
          <TD width="65%"><U><B>Query</B></U></TD>
          <TD width="35%"><U><B>Results</B></U></TD></TR>
        <TR>
          <TD width="65%"><B><FONT face="Courier New, Courier, mono" 
            size=-1>SELECT DATE; /* March 20, 2001 */</FONT></B></TD>
          <TD width="35%"><FONT face="Courier New, Courier, mono" 
            size=-1>01/03/20</FONT></TD></TR>
        <TR>
          <TD width="65%"><B><FONT face="Courier New, Courier, mono" 
            size=-1>SELECT ADD_MONTHS (DATE, 2)</FONT></B></TD>
          <TD width="35%"><FONT face="Courier New, Courier, mono" 
            size=-1>2001-05-20</FONT></TD></TR>
        <TR>
          <TD width="65%"><B><FONT face="Courier New, Courier, mono" 
            size=-1>SELECT ADD_MONTHS (DATE, 12*14)</FONT></B></TD>
          <TD width="35%"><FONT face="Courier New, Courier, mono" 
            size=-1>2015-03-20</FONT></TD></TR>
        <TR>
          <TD width="65%"><B><FONT face="Courier New, Courier, mono" 
            size=-1>SELECT ADD_MONTHS (DATE, -3)</FONT></B></TD>
          <TD width="35%"><FONT face="Courier New, Courier, mono" 
            size=-1>2000-12-20</FONT></TD></TR></TBODY></TABLE>
      <P><B>Note:</B> The results of the <FONT face="Courier New, Courier, mono" 
      size=-1><STRONG>ADD_MONTH</STRONG></FONT> function are always displayed in 
      <FONT face="Courier New, Courier, mono" size=-1>YYYY-MM-DD</FONT> 
      format.</P>
      <P><FONT face="Courier New, Courier, mono" 
      size=-1><STRONG>ADD_MONTHS</STRONG></FONT> may also be applied to a 
      literal date, which must be specified in the <FONT 
      face="Courier New, Courier, mono" size=-1>YYYY-MM-DD</FONT> format.</P>
      <TABLE cellSpacing=0 cellPadding=4 width="86%" border=0>
        <TBODY>
        <TR>
          <TD width="75%"><U><B>Query</B></U></TD>
          <TD width="25%"><U><B>Results</B></U></TD></TR>
        <TR>
          <TD width="75%"><B><FONT face="Courier New, Courier, mono" 
            size=-1>SELECT ADD_MONTHS ('2004-07-31', 2)</FONT></B></TD>
          <TD width="30%"><FONT face="Courier New, Courier, mono" 
            size=-1>2004-09-30</FONT></TD></TR>
        <TR>
          <TD width="75%"><B><FONT face="Courier New, Courier, mono" 
            size=-1>SELECT ADD_MONTHS ('2003-12-31', 2)</FONT></B></TD>
          <TD width="25%"><FONT face="Courier New, Courier, mono" 
            size=-1>2004-02-29</FONT></TD></TR>
        <TR>
          <TD width="75%"><B><FONT face="Courier New, Courier, mono" 
            size=-1>SELECT ADD_MONTHS ('2003-12-31', 14)</FONT></B></TD>
          <TD width="25%"><FONT face="Courier New, Courier, mono" 
            size=-1>2005-02-28</FONT></TD></TR></TBODY></TABLE>
      <P><FONT face="Courier New, Courier, mono" 
      size=-1><STRONG>ADD_MONTHS</STRONG></FONT> accounts for the Gregorian 
      calendar<FONT color=#000000> and knows how many days are in each month, 
      including leap years such as 2004. </FONT></P>
      <P><B>Comparison of ADD_MONTHS and simple DATE arithmetic</B></P>
      <P><FONT color=#000000>Because of the variable number of days in a month, 
      <FONT size=-1><FONT 
      face="Courier New, Courier, mono"><STRONG>ADD_MONTH</STRONG> 
      </FONT></FONT>provides a much higher degree of accuracy when projecting 
      dates based on month increments.</FONT></P>
      <P class=TitleProblem>Problem</P>
      <P><FONT color=#000000>Show the date two month from today (March 20, 2001) 
      using both <FONT face="Courier New, Courier, mono" 
      size=-1><STRONG>ADD_MONTHS</STRONG></FONT> and simple arithmetic 
      methods.</FONT></P><FONT face="courier New, Courier" color=#660066 size=3><PRE> 
  <B>SELECT   DATE
          ,ADD_MONTHS(DATE, 2)
          ,DATE + 60;</B>
</PRE></FONT><FONT face="courier New, Courier" size=3><PRE> 
<STRONG>Date       ADD_MONTHS (Date, 2)   Date+60)</STRONG>  
---------   --------------------   ---------- 
01/03/20    2001-05-20             01/05/19 
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Time Related Data</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H4>Time Related Data</H4> -->
      <P>Teradata supports two data types for holding time-related data: </P>
      <UL>
        <LI><FONT face="courier New, Courier" size=-1><STRONG>TIME (WITH 
        ZONE)</STRONG></FONT> 
        <LI><FONT face="courier New, Courier" size=-1><STRONG>TIMESTAMP (WITH 
        ZONE)</STRONG></FONT> </LI></UL>
      <P>Time is represented as a <FONT face="courier New, Courier" 
      size=-1><STRONG>TIME</STRONG></FONT> data type which in reality carries 
      three different fields of information: hours, minutes and seconds. It also 
      has 'clock intelligence' in its implementation, just as <FONT 
      face="courier New, Courier" size=-1><STRONG>DATE</STRONG></FONT> has 
      calendar intelligence, thus making possible complex calculations. </P>
      <P><FONT face="courier New, Courier" 
      size=-1><STRONG>TIMESTAMP</STRONG></FONT> is a data type which combines 
      both <FONT face="courier New, Courier" 
      size=-1><STRONG>DATE</STRONG></FONT> and <FONT face="courier New, Courier" 
      size=-1><STRONG>TIME</STRONG></FONT> into a single data type.</P>
      <P>Both <FONT face="courier New, Courier" 
      size=-1><STRONG>TIME</STRONG></FONT> and <FONT face="courier New, Courier" 
      size=-1><STRONG>TIMESTAMP</STRONG></FONT> have a <FONT 
      face="courier New, Courier" size=-1><STRONG>WITH ZONE</STRONG></FONT> 
      option, which allows for time-zone dependent storage and processing of 
      time related information.</P>
      <TABLE cellSpacing=0 cellPadding=2 width="98%" border=3>
        <TBODY>
        <TR>
          <TD width="27%"><B>Time Data</B></TD>
          <TD width="73%"><B>Description</B> </TD></TR>
        <TR vAlign=top>
          <TD width="27%">
            <P><B>TIME</B></P></TD>
          <TD>Single column - representing 3 fields&nbsp; <BR>6 Bytes 
            Length:<BR>- Hour - Byteint<BR>- Min &nbsp;&nbsp;- Byteint<BR>- 
            Secs. - Dec(8,6) </TD></TR>
        <TR vAlign=top>
          <TD width="27%">
            <P><B>TIME WITH ZONE</B></P></TD>
          <TD>Single column - representing 5 fields<BR>6 Bytes TIME:<BR>- Hour 
            - Byteint<BR>- Min &nbsp;&nbsp;- Byteint<BR>- Secs. - Dec(8,6)<BR>2 
            Bytes ZONE:<BR>- Hour - Byteint<BR>- Minute - Byteint 
            <P></P></TD></TR></TBODY></TABLE><BR>
      <TABLE cellSpacing=0 cellPadding=2 width="98%" border=3>
        <TBODY>
        <TR>
          <TD width="27%"><B>Timestamp Data</B></TD>
          <TD width="73%"><B>Description</B></TD></TR>
        <TR vAlign=top>
          <TD width="27%">
            <P><B>TIMESTAMP</B></P></TD>
          <TD>Single column - representing 6 fields&nbsp; <BR>10 Bytes 
            Length:<BR>Date = 4 Bytes<BR>Time = 6 Bytes<BR></TD></TR>
        <TR>
          <TD width="27%"><B>TIMESTAMP WITH ZONE</B></TD>
          <TD width="73%">Single column - representing 8 fields<BR>12 Bytes 
            Length:<BR>- Date = 4 Bytes<BR>- Time = 6 Bytes<BR>- Zone = 2 Bytes 
            <P></P></TD></TR></TBODY></TABLE>
      <P><B>Note:</B> <FONT face="courier New, Courier" 
      size=-1><STRONG>TIME</STRONG></FONT> and <FONT face="courier New, Courier" 
      size=-1><STRONG>TIMESTAMP</STRONG></FONT> data types are<FONT 
      color=#000000> covered in greater detail the</FONT><FONT color=#ff0000> 
      Advanced Teradata SQL </FONT>Web-based training. </P>
      <H4><A name=2></A>Interval Data Types</H4>
      <P><B>Interval data types</B> represent a displacement between two points 
      in time. Intervals are stored internally as one or multiple numeric fields 
      combined into a single data type. </P>
      <P>There are two general categories of <FONT face="courier New, Courier" 
      size=-1><STRONG>INTERVAL</STRONG></FONT> data types: </P>
      <OL>
        <LI>Year-Month Intervals 
        <LI>Day-Time Intervals </LI></OL>
      <P><FONT size=3><B>Year-Month Intervals</B></FONT></P>
      <P>The following Year-Month interval data types are available:<BR></P>
      <UL>
        <LI><FONT face="courier New, Courier" 
        size=-1><STRONG>YEAR</STRONG></FONT> 
        <LI><STRONG><FONT face="courier New, Courier" size=-1>YEAR TO 
        MONTH</FONT></STRONG> 
        <LI><STRONG><FONT face="courier New, Courier" 
        size=-1>MONTH</FONT></STRONG> </LI></UL>
      <P><FONT size=3><B>Day-Time Intervals</B></FONT></P>
      <P>The following Day-Time interval data types are also available:</P>
      <UL>
        <LI><FONT face="courier New, Courier" 
        size=-1><STRONG>DAY</STRONG></FONT> 
        <LI><STRONG><FONT face="courier New, Courier" size=-1>DAY TO 
        HOUR</FONT></STRONG> 
        <LI><STRONG><FONT face="courier New, Courier" size=-1>DAY TO 
        MINUTE</FONT></STRONG> 
        <LI><STRONG><FONT face="courier New, Courier" size=-1>DAY TO 
        SECOND</FONT></STRONG> 
        <LI><STRONG><FONT face="courier New, Courier" 
        size=-1>HOUR</FONT></STRONG> 
        <LI><STRONG><FONT face="courier New, Courier" size=-1>HOUR TO 
        MINUTE</FONT></STRONG> 
        <LI><STRONG><FONT face="courier New, Courier" size=-1>HOUR TO 
        SECOND</FONT></STRONG> 
        <LI><STRONG><FONT face="courier New, Courier" 
        size=-1>MINUTE</FONT></STRONG> 
        <LI><STRONG><FONT face="courier New, Courier" size=-1>MINUTE TO 
        SECOND</FONT></STRONG> 
        <LI><STRONG><FONT face="courier New, Courier" 
        size=-1>SECOND</FONT></STRONG> </LI></UL>
      <P><B>Note:</B> <FONT face="courier New, Courier" 
      size=-1><STRONG>INTERVAL</STRONG></FONT> data types are <FONT 
      color=#000000>covered in greater detail the</FONT><FONT color=#ff0000> 
      Advanced Teradata SQL </FONT>Web-based training. 
</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Data Conversions Using 
CAST</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H4>Data Conversions Using CAST</H4> -->
      <P>The <FONT face="courier New, Courier" 
      size=-1><STRONG>CAST</STRONG></FONT> function allows you to convert a 
      value or expression from one data type to another. For example: </P>
      <H4>Numeric to Numeric Conversion</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>SELECT CAST</B> (50500.75 AS INTEGER);
  <B>Result:</B> 50500  (truncated), 
  
  <B>SELECT CAST</B> (50500.75 AS DEC (6,0));
  <B>Result:</B> 50501.  (rounded). 
</PRE></FONT>
      <P>When you cast from a decimal to an integer, the system discards 
      everything to the right of the decimal point. In our example, even though 
      the decimal portion was .75, making the number closer to 50501 than to 
      50500, the result of the cast is still 50500. </P>
      <H4>Decimal to Decimal Conversions </H4>
      <P>Casting from a decimal at one precision level to a decimal at a lesser 
      precision level causes the system to round the result to the nearest value 
      displayed at the new precision level. </P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT CAST</B>(6.74 AS DEC(2,1));
  <B><I>Result:</I> </B> 6.7 (Drops precision)

  <B>SELECT CAST</B>(6.75 AS DEC(2,1)); 
  <B><I>Result:</I> </B> 6.8 (Rounds up to even number)

  <B>SELECT CAST</B>(6.85 AS DEC(2,1)); 
  <B><I>Result:</I> </B>6.8 (Rounds down to even number)
</PRE></FONT>
      <H4>Character to Character Conversions</H4><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT CAST(last-name AS CHAR (5))
  FROM	employee
  WHERE	department_number = 401;</B>
</PRE></FONT>
      <TABLE cellSpacing=0 cellPadding=2 width="50%" border=0>
        <TBODY>
        <TR>
          <TD><STRONG>last_name</STRONG><BR>------------</TD></TR>
        <TR>
          <TD>Johns<BR>Trade</TD></TR></TBODY></TABLE>
      <P>As you can see from the example above, <FONT 
      face="courier New, Courier" size=-1><STRONG>CAST</STRONG></FONT> can take 
      the <FONT face="courier New, Courier" size=-1><STRONG>CHAR(20)</STRONG> 
      </FONT>last_name data field from the employee table and convert it to a 
      <FONT face="courier New, Courier" size=-1><STRONG>CHAR(5)</STRONG></FONT> 
      data type. The values displayed as a result of this query are truncated to 
      five characters or padded with trailing blanks up to five characters (if 
      there are less than five characters to start with).</P>
      <H4>Alternative Syntax</H4>
      <P>In current and previous versions of Teradata, data type conversions can 
      also be done without the <FONT face="courier New, Courier" 
      size=-1><B>CAST</B></FONT> function as seen here:</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <STRONG>SELECT  last_name (CHAR (5)) FROM employee;</STRONG>
</PRE></FONT>
      <P>This type of conversion syntax is considered shorthand and is not ANSI 
      standard. </P>
      <H4>Casting Attributes</H4>
      <P>In addition to simple <FONT face="courier New, Courier" 
      size=-1><STRONG>CASTing</STRONG></FONT>, Teradata allows you to specify 
      data attributes as well as data types in your <FONT 
      face="courier New, Courier" size=-1><STRONG>CAST</STRONG></FONT>. 
      </P><FONT face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT CAST(last_name AS CHAR(5) UPPERCASE)
  FROM	employee
  WHERE	department_number = 401;</B>
</PRE></FONT>
      <TABLE cellSpacing=0 cellPadding=2 width="50%" border=0>
        <TBODY>
        <TR>
          <TD><STRONG>last_name</STRONG><BR>------------</TD></TR>
        <TR>
          <TD>JOHNS<BR>TRADE</TD></TR></TBODY></TABLE><!-- <p align="center"><img src="6DataTypes/../z-line.gif" width="20" height="8" border="0"> <b><a href="./images/labs/wbt-data_conv_comp_lab.shtm">Lab</a></b> <img src="6DataTypes/../z-line.gif" width="20" height="2" border="0"></p> -->
      <P><B>Things To Notice:</B></P>
      <UL>
        <LI>The preceding example would return an error in an ANSI Mode session. 

        <LI>Truncation of character strings is not permitted in an ANSI Mode 
        CAST expression. </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK href="./././sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>LAB</H2> -->
      <P>
      <TABLE cellSpacing=0 cellPadding=10 width="100%" border=0>
        <TBODY>
        <TR>
          <TD vAlign=top width=106><B><FONT size=-1><A name=LAB>Try 
            It!</A></FONT></B></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc><FONT size=-1>
            <P>For this set of lab questions you will need information from the 
            <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1>Database Info document.</A></P>
            <P>To start the online labs, click on the Telnet button in the lower 
            left hand screen of the course. Two windows will pop-up: a BTEQ 
            Instruction Screen and your Telnet Window. Sometimes the BTEQ 
            Instructions get hidden behind the Telnet Window. You will need 
            these instructions to log on to Teradata.</P>
            <P><B>Be sure to change your default database to the 
            Customer_Service database in order to run these labs.</B> </P>
            <P>Click on the buttons to the left to see the 
        answers.</P></FONT></TD></TR>
        <TR>
          <TD vAlign=top width=106><FONT size=-1>Answers:<BR><A 
            onclick="AnswerWindow('Mod06L01.htm',570,500,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab A</FONT> <BR><A 
            onclick="AnswerWindow('Mod06L02.htm',570,500,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab B</FONT> <BR><A 
            onclick="AnswerWindow('Mod06L03.htm',570,500,circbut03)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut03 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab C</FONT> <BR><A 
            onclick="AnswerWindow('Mod06L05.htm',570,500,circbut04)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut04 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab D</FONT> <BR><A 
            onclick="AnswerWindow('Mod06L06.htm',570,500,circbut05)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut05 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab E</FONT> <BR></FONT></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc>
            <OL type=A>
              <LI>In a single <FONT face="courier New, Courier" 
              size=-1><B>SELECT</B></FONT> statement, display the current <FONT 
              face="courier New, Courier" size=-1><B>DATE, TIME</B></FONT> and 
              <FONT face="courier New, Courier" size=-1><B>USER</B></FONT>. 
              <P></P>Display the date 365 days from today. 
              <P></P>
              <LI>Create a report that gives the literal value "Math Function" 
              as its first column, the numeric value 1 as its second column, and 
              the calculation 2*3+4*5 as its third column. Note the results. 
              Modify this request to include parentheses around the 3+4. 
              <P></P>Resubmit the request. Note the difference in the result. 
              <P></P>
              <LI>Some employees are getting raises. The department 401 manager 
              is interested in what salaries would be if each employee received 
              a 10 percent increase. List the first 10 characters of the last 
              name, current salary, and salary after the raise for the employees 
              in department 401. Rank them in descending order by salary. 
              <P></P>Submit again using <FONT face="courier New, Courier" 
              size=-1><B>EXPLAIN </B></FONT>to look at how Teradata will process 
              this query. 
              <P></P><B>Note:</B> This lab is used again for exercise D. 
              <P></P>
              <LI>Results of exercise C left management a bit shaken. They are 
              considering instead a flat $500.00 per employee raise. Modify lab 
              C to include this new estimated salary as well as the 10% increase 
              for comparison. Include an additional column that tells the net 
              difference in dollars between the two options for each employee. 
              Rename this additional column as "Difference". Take the current 
              salary column out of the report. 
              <P></P>
              <LI>The government has ordered a special employment demographics 
              study. Generate a list of all employees under 50 years old. 
              Include last name (<FONT face="courier New, Courier" 
              size=-1><B>CAST </B></FONT>the first ten characters only), 
              department number and computed age in years. 
              <P></P>Sort so that the youngest employees are listed first. 
            </LI></OL></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT 
      color=#ffffcc>&nbsp;Subqueries</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><FONT face=Verdana 
size=3><B>Subqueries</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H4>Objectives</H4> -->
      <P>Click on the link below to view the presentation on <B>Subqueries</B>. 
      </P>
      <P><B>Please Note:</B> This is a narrated presentation. You may control 
      the pacing of this module by using the <B>Pause button</B> as well as 
      other buttons available on the screen duing the presentation.</P>
      <P align=center><A 
      href="http://www.ncru.courses.ncr.com/learning/td/SQL_MediaFiles/Subqueries.htm" 
      target=_blank>Start Presentation</A></P>
      <P>After viewing the presentation, return to this window and continue to 
      the next lab activity.</P><!-- <p align="center"><img src="7Subqueries/../z-line.gif" width="20" height="2" border="0"> <b><a href="./images/labs/wbt-subqueries_lab.shtm">Lab</a></b> <img src="7Subqueries/../z-line.gif" width="20" height="2" border="0"></p> --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK href="./././sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>
      <TABLE cellSpacing=0 cellPadding=8 width="100%" bgColor=#ffffcc 
        border=0><TBODY>
        <TR>
          <TD vAlign=top width="20%" bgColor=#ffffcc><B><FONT size=-1><A 
            name=LAB>Try It!</A></FONT></B> </TD>
          <TD vAlign=top width="80%" bgColor=#ffffcc><!-- <H2>LAB</H2> -->
            <P>For this set of lab questions you will need information from the 
            <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1>Database Info document.</A></P>
            <P>To start the online labs, click on the Telnet button in the lower 
            left hand screen of the course. Two windows will pop-up: a BTEQ 
            Instruction Screen and your Telnet Window. Sometimes the BTEQ 
            Instructions get hidden behind the Telnet Window. You will need 
            these instructions to log on to Teradata.</P>
            <P><B>Be sure to change your default database to the 
            Customer_Service database in order to run these labs.</B> </P>
            <P>Click on the buttons to the left to see the answers for each lab 
            question.</P></TD></TR>
        <TR>
          <TD vAlign=top width=106>Answers:<BR><A 
            onclick="AnswerWindow('Mod08L01.htm',570,420,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            A<BR><A onclick="AnswerWindow('Mod08L02.htm',570,420,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            B<BR><A onclick="AnswerWindow('Mod08L03.htm',570,500,circbut03)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut03 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            C<BR><A onclick="AnswerWindow('Mod08L04.htm',570,420,circbut04)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut04 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            D<BR><A onclick="AnswerWindow('Mod08L05.htm',570,570,circbut05)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut05 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            E<BR><A onclick="AnswerWindow('Mod08L06.htm',420,500,circbut06)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut06 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            F </FONT></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc>
            <P><FONT size=-1>
            <OL type=A>
              <LI>Use <FONT face="courier New, Courier" 
              size=-1><B>EXISTS</B></FONT> to determine if any job_codes are 
              unassigned to employees. Return <FONT face="courier New, Courier" 
              size=-1><B>TRUE</B></FONT> if there are unassigned job codes. 
              <P></P>
              <LI>List the <FONT face="courier New, Courier" 
              size=-1><B>last_name, first_name</B></FONT>, and job code, for 
              employees with invalid job codes. Use a subquery to establish a 
              referential integrity check. 
              <P><B>Note:</B> You may resolve this problem by using quantifiers 
              or by not using quantifiers. See if you can execute it both ways. 
              </P>
              <LI>Write a query to find employees who have invalid Department 
              Numbers. List the employee number, last name, and the invalid 
              department number. Note that department numbers are valid only if 
              they appear in the department table, or they are <FONT 
              face="courier New, Courier" size=-1><B>NULL</B></FONT>. This query 
              performs a check for referential integrity violations. If no rows 
              are found, what does that tell you? 
              <P></P>
              <LI>List the customer number, customer name, and sales 
              representative's number for customers in California. Sort by sales 
              representative's number. Now do an <FONT 
              face="courier New, Courier" size=-1><B>EXPLAIN</B></FONT> on the 
              request and note the total estimated time. 
              <P><B>Hint: </B>The location table contains both the customer 
              number and the state.</P>
              <P><B>Note:</B> This lab is used again for Lab B in Module 10. 
</P>
              <LI>Find the names of any department manager whose job code is 
              211100. List their employee number, last name, department number, 
              and job code. You will need to use a subquery to identify which 
              employees are department managers. 
              <P><B>Note:</B> This lab is used again for Lab F below.</P>
              <LI>In Lab E, you found information about department managers 
              whose job code is 211100. In this lab, you need to find 
              information about employees who work for the department managers 
              with job code 211100. List the employee's employee number, last 
              name, department number, and job code. To solve this problem, 
              you'll need to use nested subqueries. Try to do it without any 
              <FONT face="courier New, Courier" size=-1><B>AND's</B></FONT>. You 
              may satisfy this request more than one way. 
        </LI></OL></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 5 --><!-- ########## 1 -->
      <TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 
        border=0><TBODY>
        <TR>
          <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;Output 
            Attributes</FONT></B></FONT> </TD></TR></TBODY></TABLE>
      <P><!-- ########## 2 --><!-- ########## 3 --><LINK href="../sqlstyle.css" 
      type=text/css rel=stylesheet><FONT face=Verdana 
      size=3><B>Objectives</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
            <P>After completing this module, you should be able to:</P>
            <UL>
              <LI>Use <FONT face="courier New, Courier" 
              size=-1><STRONG>TITLE</STRONG></FONT> to add a heading to your 
              output that differs from the column or expression name. 
              <LI>Use <FONT face="courier New, Courier" size=-1><B>AS</B></FONT> 
              to specify a name for a column or expression in a <FONT 
              face="courier New, Courier" size=-1><B>SELECT</B></FONT> 
              statement. 
              <LI>Use <FONT face="courier New, Courier" 
              size=-1><STRONG>CHARACTERS</STRONG></FONT> to determine the number 
              of characters in a string. 
              <LI>Use <FONT face="courier New, Courier" 
              size=-1><STRONG>TRIM</STRONG></FONT> to Trim blank characters or 
              binary zeroes from data. 
              <LI>Use <FONT face="courier New, Courier" 
              size=-1><STRONG>FORMAT</STRONG></FONT> to alter the display of a 
              column or expression. </LI></UL></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>Attributes and 
      Functions</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Attributes and Functions</H2> -->
            <P><B>Attributes</B> are characteristics which may be defined for 
            columns, such as titles and formats.</P>
            <P><B>Functions</B> are performed on columns to alter their contents 
            in some way. </P>
            <P><B>Expressions</B> are columns and/or values combined with 
            mathematical operators. (i.e. Col1 + Col2 + 3).</P>
            <P><B>Attributes for columns and expressions include the 
            following:</B> </P>
            <TABLE cellSpacing=0 cellPadding=2 width="90%" border=0>
              <TBODY>
              <TR vAlign=top>
                <TD width="15%"><B><FONT face="courier New, Courier" 
                  size=-1>AS</FONT></B></TD>
                <TD width="59%">Provides a new name for a column.</TD>
                <TD width="26%">ANSI</TD></TR>
              <TR vAlign=top>
                <TD><B><FONT face="courier New, Courier" 
                  size=-1>TITLE</FONT></B></TD>
                <TD>Provides a title for a column.</TD>
                <TD>Teradata Extension</TD></TR>
              <TR vAlign=top>
                <TD><B><FONT face="courier New, Courier" 
                  size=-1>FORMAT</FONT></B></TD>
                <TD>Provides formatting for a column.</TD>
                <TD>Teradata Extension</TD></TR></TBODY></TABLE>
            <P><B><BR>Functions for columns and expressions include the 
            following:</B></P>
            <TABLE cellSpacing=0 cellPadding=2 width="92%" border=0>
              <TBODY>
              <TR vAlign=top>
                <TD width="15%"><B><FONT face="courier New, Courier" 
                  size=-1>CHARACTERS</FONT></B></TD>
                <TD width="58%">Count the number of characters in a column.</TD>
                <TD width="27%">Teradata Extension</TD></TR>
              <TR vAlign=top>
                <TD><B><FONT face="courier New, Courier" 
                  size=-1>TRIM</FONT></B></TD>
                <TD>Trim the trailing or leading blanks or binary zeroes from 
                  a column.</TD>
                <TD>ANSI</TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>AS: Naming A Column or 
      Expression</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H4><A NAME="2"></A>AS: Naming a Column or Expression</H4> -->
            <P>The <FONT face="courier New, Courier" 
            size=-1><STRONG>AS</STRONG></FONT> clause:</P>
            <UL>
              <LI>Assigns a temporary name to a column or expression. 
              <LI>Can be referenced elsewhere in the query. 
              <LI>Will default column headings to the newly assigned name. 
              <LI>Use of Keyword <FONT face="courier New, Courier" 
              size=-1>AS</FONT> is optional and may be omitted. </LI></UL><FONT 
            face="courier New, Courier" color=#660066 size=3><PRE>	<B>SELECT		last_name
			,first_name
			,salary_amount / 12 AS monthly_salary
	FROM		employee
	WHERE		department_number = 401
	ORDER BY	monthly_salary;</B>
</PRE></FONT>
            <TABLE cellSpacing=0 cellPadding=2 width="70%" border=0>
              <TBODY>
              <TR>
                <TD width="30%"><STRONG>last_name</STRONG><BR>-----------</TD>
                <TD width="30%"><STRONG>first_name</STRONG><BR>-----------</TD>
                <TD><STRONG>monthly_salary</STRONG><BR>--------------------</TD></TR>
              <TR>
                <TD>Johnson</TD>
                <TD>Darlene</TD>
                <TD>3025.00</TD></TR>
              <TR>
                <TD>Trader</TD>
                <TD>James</TD>
                <TD>3154.17</TD></TR></TBODY></TABLE>
            <P align=center><IMG height=215 alt="sql0201.gif - 8116 Bytes" 
            src="D:\Work\TeraData Course Contents &amp; PDFs\WBT's\Teradata SQL Introduction_files\sql0201(2).gif" 
            width=611 border=0></P>
            <P><B>Note:</B> Once you have renamed a column with the <FONT 
            face="courier New, Courier" size=-1><B>AS</B></FONT> clause you may 
            re-use that name within your SQL statement. Renaming does not 
            prevent you from using any of the other methods we have discussed in 
            your statement, for example:</P><FONT face="courier New, Courier" 
            size=3><PRE> 
    order by salary_amount/12
    order by salary_amount
    order by 3 (using the positional reference)	
</PRE></FONT>
            <H4>Teradata Extensions</H4>
            <P>The Teradata RDBMS still supports the following form of 
            specifying a name for a column or expression:</P><FONT 
            face="courier New, Courier" color=#660066 size=3><PRE>      <STRONG>&lt;col or expression&gt; (NAMED &lt;name&gt;)</STRONG>
</PRE></FONT>
            <P>This extension was introduced in a previous release.</P>
            <P>The Teradata Equivalent to the previous example is:</P><FONT 
            face="courier New, Courier" color=#660066 size=3><PRE>	<B>SELECT		last_name
			,first_name
			,salary_amount / 12 (NAMED monthly_salary)
	FROM		employee
	WHERE		department_number = 401
	ORDER BY	monthly_salary</B>
</PRE></FONT>
            <P><B>Warning!</B> <FONT face="courier New, Courier" 
            size=-1><STRONG>NAMED</STRONG></FONT> is the old way of renaming a 
            column for output display. <FONT face="courier New, Courier" 
            size=-1>AS</FONT> is the new method. Currently, both attributes 
            work. In the future, support for the <FONT 
            face="courier New, Courier" size=-1><STRONG>NAMED</STRONG></FONT> 
            attribute will disappear. Since the Teradata extension described 
            above provides equivalent functionality to the ANSI compliant 
            version, all existing Teradata SQL applications that use this form 
            to name a column or expression should be updated to use the ANSI 
            compliant form (<FONT face="courier New, Courier" 
            size=-1><B>AS</B></FONT>).</P></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>TITLE Attribute</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>TITLE Attribute</H2> -->
            <P>The <FONT face="courier New, Courier" 
            size=-1><STRONG>TITLE</STRONG></FONT> attribute allows you to rename 
            columns for output with headings that may contain multiple lines 
            and/or blanks. Column headings may stack up to three levels. 
            </P><FONT face="courier New, Courier" color=#660066 size=3><PRE> 
   <B>SELECT      last_name
               ,first_name
               ,salary_amount / 12 (TITLE 'MONTHLY // SALARY')
   FROM        employee
   WHERE       department_number = 401
   ORDER BY    3;</B>
</PRE></FONT>
            <TABLE cellSpacing=0 cellPadding=2 width="60%" border=0>
              <TBODY>
              <TR>
                <TD align=left><STRONG>last_name</STRONG><BR>-----------</TD>
                <TD align=left><STRONG>first_name</STRONG><BR>-----------</TD>
                <TD align=right><STRONG>MONTHLY 
                  SALARY</STRONG><BR>------------------</TD></TR>
              <TR>
                <TD align=left>Johnson</TD>
                <TD align=left>Darlene</TD>
                <TD align=right>3025.00</TD></TR>
              <TR>
                <TD align=left>Trader </TD>
                <TD align=left>James</TD>
                <TD align=right>3154.17</TD></TR></TBODY></TABLE>
            <P>Column heading justification on titles is determined by the data 
            type of the column. In our example, the words <FONT 
            face="courier New, Courier" 
            size=-1>"<STRONG>MONTHLY</STRONG>"</FONT> and <FONT 
            face="courier New, Courier" size=-1>"<STRONG>SALARY</STRONG>"</FONT> 
            are right-justified because that is the default justification for 
            <FONT face="courier New, Courier" 
            size=-1><STRONG>DECIMAL</STRONG></FONT> values contained in that 
            column.</P>
            <P>The new title must appear between single quotes ( ' ) in the 
            <FONT face="courier New, Courier" 
            size=-1><STRONG>TITLE</STRONG></FONT> phrase. The // is used to 
            represent a line break, causing the stacking. You can do the same 
            thing with <FONT face="courier New, Courier" size=-1>AS</FONT>, 
            which is the ANSI standard. Literal strings must be enclosed with 
            double quotes (") when using <FONT face="courier New, Courier" 
            size=-1><STRONG>AS</STRONG></FONT>.</P>
            <P align=center><IMG height=152 alt="sql0301.gif - 14958 Bytes" 
            src="D:\Work\TeraData Course Contents &amp; PDFs\WBT's\Teradata SQL Introduction_files\sql0301(2).gif" 
            width=431 border=0></P><FONT face="courier New, Courier" 
            color=#660066 size=3><PRE>   <B>SELECT      last_name
               ,first_name
               ,salary_amount / 12 AS "MONTHLY // SALARY"
   FROM        employee
   WHERE       department_number = 401
   ORDER BY    3;</B>
</PRE></FONT>
            <TABLE cellSpacing=0 cellPadding=2 width="60%" border=0>
              <TBODY>
              <TR>
                <TD align=left><STRONG>last_name</STRONG><BR>-----------</TD>
                <TD align=left><STRONG>first_name</STRONG><BR>-----------</TD>
                <TD align=right><STRONG>MONTHLY 
                  SALARY</STRONG><BR>------------------</TD></TR>
              <TR>
                <TD align=left>Johnson</TD>
                <TD align=left>Darlene</TD>
                <TD align=right>3025.00</TD></TR>
              <TR>
                <TD align=left>Trader </TD>
                <TD align=left>James</TD>
                <TD 
        align=right>3154.17</TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>CHARACTERS Function</B></FONT> 

      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- 
<H4><A NAME="2"></A>CHARACTERS Function</H4> -->
            <P>The <FONT face="courier New, Courier" 
            size=-1><STRONG>CHARACTERS</STRONG></FONT> function is a 
            Teradata-specific function which counts the number of characters in 
            a string. It is particularly useful for working with <FONT 
            face="courier New, Courier" size=-1><STRONG>VARCHAR</STRONG></FONT> 
            fields where the size of the string can vary from row to row. In the 
            following example, first_name is a <FONT face="courier New, Courier" 
            size=-1><STRONG>VARCHAR</STRONG></FONT> field. In order to determine 
            which employees have more than five characters in their name, we 
            apply the <FONT face="courier New, Courier" 
            size=-1><STRONG>CHARACTERS</STRONG></FONT> function to the 
            first_name column.</P>
            <H4 class=TitleProblem>Problem</H4>
            <P>To find all employees who have more than five characters in their 
            first name. </P>
            <H4 class=TitleSolution>Solution</H4><FONT 
            face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT   first_name
  FROM     employee
  WHERE    CHARACTERS (first_name) &gt; 5;</B>
</PRE></FONT>
            <TABLE cellSpacing=0 cellPadding=2 width="50%" border=0>
              <TBODY>
              <TR>
                <TD><STRONG>first_name</STRONG><BR>------------</TD></TR>
              <TR>
                <TD>Loretta <BR>Darlene <BR>Arnando <BR></TD></TR></TBODY></TABLE>
            <P align=center><IMG height=152 alt="sql0302.gif - 14997 Bytes" 
            src="Teradata SQL Introduction_files/sql0302.gif" width=431 
            border=0> </P>
            <P>Characters also may be abbreviated to <FONT 
            face="courier New, Courier" size=-1><STRONG>CHAR</STRONG> or 
            <STRONG>CHARS</STRONG></FONT> (e.g. "<FONT 
            face="courier New, Courier" size=-1><STRONG>WHERE 
            CHAR</STRONG></FONT><STRONG> (first_name) &gt; 5</STRONG>"). </P>
            <P>The ANSI-standard version of this function (<FONT 
            face="courier New, Courier" 
            size=-1><STRONG>CHARACTER_LENGTH</STRONG></FONT>) may also be used. 
            </P></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>TRIM Function</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>TRIM Function</H2> -->
            <P>Use the <FONT face="Courier New, Courier" 
            size=-1><STRONG>TRIM</STRONG></FONT> function to suppress leading 
            and/or trailing blanks in a <FONT face="Courier New, Courier" 
            size=-1><STRONG>CHAR</STRONG></FONT> column or leading and/or 
            trailing binary zeroes in a <FONT face="Courier New, Courier" 
            size=-1><STRONG>BYTE</STRONG> or <STRONG>VARBYTE</STRONG></FONT> 
            column. <FONT face="Courier New, Courier" 
            size=-1><STRONG>TRIM</STRONG></FONT> is most useful when performing 
            string concatenations. </P>
            <P>There are several variations of the <FONT 
            face="Courier New, Courier" size=-1><STRONG>TRIM</STRONG></FONT> 
            function: </P><FONT face="courier New, Courier" size=3><PRE><B>TRIM ([expression])</B>		 leading and trailing blanks/binary zeroes
<B>TRIM (BOTH FROM [expression]) </B>   leading and trailing blanks/binary zeroes
<B>TRIM (TRAILING FROM[expression])</B> trailing blanks/binary zeroes
<B>TRIM (LEADING FROM[expression])</B>  leading blanks/binary zeroes 
</PRE></FONT>
            <H4 class=TitleProblem>Problem</H4>
            <P>List the employees who have exactly four characters in their last 
            name. The data type of <STRONG>last_name</STRONG> is <FONT 
            face="Courier New, Courier" 
            size=-1><STRONG>CHAR</STRONG>(20)</FONT>. </P>
            <H4><B>Solution 1</B></H4><FONT face="courier New, Courier" 
            color=#660066 size=3><PRE>  <B>SELECT    first_name
            ,last_name (TITLE 'last')
  FROM      employee
  WHERE     CHAR (TRIM (TRAILING FROM last_name)) = 4;</B>
</PRE></FONT>
            <H4><B>Solution 2</B></H4><FONT face="courier New, Courier" 
            color=#660066 size=3><PRE>   <B>SELECT    first_name
             ,last_name(TITLE 'last')
   FROM      employee
   WHERE     CHAR(TRIM(last_name))=4;</B>
</PRE></FONT>
            <P><B>Results of either solution:</B> </P><!-- <font face="courier New, Courier" size="3" color="#660066">
<pre>
    <strong><U>first_name   last</U></strong>
    Loretta      Ryan
    James        Daly
</PRE>
</font> -->
            <TABLE cellSpacing=0 cellPadding=2 width="50%" border=0>
              <TBODY>
              <TR>
                <TD width="30%"><STRONG>first_name</STRONG><BR>-----------</TD>
                <TD 
width="30%"><STRONG>last_name</STRONG><BR>-----------</TD></TR>
              <TR>
                <TD>Loretta</TD>
                <TD>Ryan</TD></TR>
              <TR>
                <TD>James</TD>
                <TD>Daly</TD></TR></TBODY></TABLE>
            <P><B>Note:</B> When <FONT face="Courier New, Courier, mono" 
            size=-1><STRONG>TRIM</STRONG></FONT> is specified with no additional 
            directives, both leading and trailing blanks are trimmed. 
          </P></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>Using TRIM with Concatenation 
      Operator</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H4><A NAME="2">Using TRIM with Concatenation Operator</A></H4> -->
            <P>The <STRONG>||</STRONG> (double pipe) symbol is the concatenation 
            operator that creates a new string from the combination of the first 
            string followed by the second. </P>
            <P><B>Example 1:</B></P>
            <P>Concatenating of literals <B>without</B> the TRIM function:</P>
            <P><FONT face="Courier New, Courier, mono" size=-1><B>SELECT ' 
            &nbsp;&nbsp;Jones&nbsp;&nbsp;&nbsp;' || 
            ','<BR>&nbsp;&nbsp;&nbsp;&nbsp;||&nbsp;'&nbsp;&nbsp;&nbsp;Mary&nbsp;&nbsp;&nbsp;&nbsp;'&nbsp;AS 
            Name;</B></FONT><B><FONT face="courier New, Courier" color=#660066 
            size=3> </FONT></B></P>
            <P>
            <TABLE cellSpacing=0 cellPadding=2 width="50%" border=0>
              <TBODY>
              <TR>
                <TD><STRONG>Name</STRONG><BR>------------------------</TD></TR>
              <TR>
                <TD>&nbsp;&nbsp;&nbsp;Jones&nbsp;&nbsp;&nbsp; , 
                  &nbsp;&nbsp;&nbsp;Mary </TD></TR></TBODY></TABLE>
            <P></P><BR>
            <P><B>Example 2:</B></P>
            <P>Concatenating of literals <B>with</B> the <B>TRIM</B> 
            function:</P>
            <P><FONT face="Courier New, Courier, mono" size=-1><B>SELECT 
            TRIM(BOTH FROM ' &nbsp;&nbsp;Jones&nbsp;&nbsp;&nbsp;')|| 
            ','<BR>&nbsp;&nbsp;&nbsp; || TRIM(BOTH FROM ' 
            &nbsp;&nbsp;Mary&nbsp;&nbsp;&nbsp;&nbsp;')AS Name;</B></FONT></P>
            <P>
            <TABLE cellSpacing=0 cellPadding=2 width="50%" border=0>
              <TBODY>
              <TR>
                <TD><STRONG>Name</STRONG><BR>------------</TD></TR>
              <TR>
                <TD>Jones,Mary </TD></TR></TBODY></TABLE>
            <P></P><FONT face="courier New, Courier" color=#660066 
            size=3></FONT></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>Using TRIM with Other 
      Characters</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
            <H4 align=left><A name=3>Using TRIM with Other Characters</A></H4>
            <P><FONT face="Courier New, Courier, mono" 
            size=-1><STRONG>TRIM</STRONG></FONT> may also be used to remove 
            characters other than blanks and binary zeroes. Using the <FONT 
            face="Courier New, Courier, mono" 
            size=-1><STRONG>TRIM</STRONG></FONT> function format in the 
            following examples, any defined character(s) may be trimmed from a 
            character string. </P>
            <P><B>Example 1:</B></P>
            <P><FONT face="Courier New, Courier, mono" color=#660066 
            size=-1><B>SELECT TRIM(BOTH '?' FROM '??????PAUL??????') AS 
            Trim_String;</B></FONT></P>
            <P><FONT face="Courier New, Courier, mono" 
            size=-1><STRONG>Trim_String</STRONG></FONT><BR><FONT 
            face="Courier New, Courier, mono" 
            size=-1>----------------<BR>PAUL</FONT></P>
            <P><B>Example 2:</B></P>
            <P><FONT face="Courier New, Courier, mono" size=-1><B>SELECT 
            TRIM(LEADING '?' FROM '??????PAUL??????') AS 
            Trim_String;</B></FONT></P>
            <P><FONT face="Courier New, Courier, mono" 
            size=-1><STRONG>Trim_String</STRONG><BR>----------------<BR>PAUL??????</FONT></P>
            <P><B>Example 3:</B></P>
            <P><FONT face="Courier New, Courier, mono" size=-1><B>SELECT 
            TRIM(TRAILING '?' FROM '??????PAUL??????') AS 
            Trim_String;</B></FONT></P>
            <P><FONT face="Courier New, Courier, mono" 
            size=-1><STRONG>Trim_String</STRONG></FONT><BR><FONT 
            face="Courier New, Courier, mono" 
            size=-1>----------------</FONT><BR><FONT 
            face="Courier New, Courier, mono" size=-1>??????PAUL 
            </FONT><BR></P></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>FORMAT Phrase</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>FORMAT Phrase</H2> -->
            <P>The <FONT face="courier New, Courier" 
            size=-1><STRONG>FORMAT</STRONG></FONT> phrase can be used to format 
            column output and override the default format. For example: 
            </P><FONT face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT salary_amount (FORMAT '$$$,$$9.99')
  FROM   employee
  WHERE  employee_number = 1004;</B>
</PRE></FONT>
            <P>salary_amount<BR>---------------<BR>$36,300.00 </P>
            <P>The five dollar signs ($) in front of the <FONT 
            face="courier New, Courier" size=-1><STRONG>FORMAT</STRONG></FONT> 
            operand indicate that we want to float the leading dollar sign until 
            we hit the first significant digit. For example, if the amount had 
            been 6300.00, it would have been displayed as $6,300.00. </P>
            <P>Additional examples using the format &nbsp;<B>(FORMAT 
            '$$$,$$9.99) </B></P>
            <TABLE cellSpacing=2 cellPadding=4 width="70%" border=0>
              <TBODY>
              <TR>
                <TD width="18%">
                  <DIV align=center><B>Amount</B></DIV></TD>
                <TD width="11%"><B>
                  <CENTER>Display </CENTER></B></TD>
                <TD width="71%">
                  <CENTER><B>Notes</B> </CENTER></TD></TR>
              <TR vAlign=top align=left>
                <TD width="18%">100105.25</TD>
                <TD width="11%">*********</TD>
                <TD width="71%">Mask cannot be applied - value covers format 
                  completely.</TD></TR>
              <TR>
                <TD width="18%">6300.00</TD>
                <TD width="11%">$6,300.00</TD>
                <TD width="71%">Dollar sign appears to left of the most 
                  significant digit.</TD></TR>
              <TR vAlign=top align=left>
                <TD width="18%">.63</TD>
                <TD width="11%">$0.63</TD>
                <TD width="71%">Leading zero, because the 9's in the mask 
                  force the display of a digit (or a zero, if there is not 
                one).</TD></TR>
              <TR>
                <TD width="18%">3,336,300.00</TD>
                <TD width="11%">**********</TD>
                <TD width="71%">Fails, because this number is too large for 
                  the mask.</TD></TR></TBODY></TABLE>
            <P><B>Things To Notice</B></P>
            <UL>
              <LI>Formats must provide for enough characters to contain the 
              numeric expression and also the specified format characters. 
              <LI>Overflow conditions are represented by a string of asterisks. 
              <LI>FORMAT is not supported by the ANSI standard.<BR></LI></UL>
            <P><FONT face="courier New, Courier" 
            size=-1><STRONG>FORMAT</STRONG></FONT> allows you to format column 
            output for a calculation. The format character 'Z' is used to 
            represent leading zero suppression. It works similarly to the '$' in 
            that it floats to the first significant digit. 
            <H4 class=TitleProblem>Problem</H4>
            <P>Management has decided to give employee 1004 a $1,000 raise and 
            wants to know what percent the increase will be: 
            <H4>Solution </H4>
            <P>
            <P><FONT face="courier New, Courier" color=#660066 size=2><B>SELECT 
            (1000/salary_amount) * 100 (FORMAT 'ZZ9%') AS "Increase 
            Percentage"<BR>FROM employee <BR>WHERE employee_number = 1004;</B> 
            </FONT></P>
            <TABLE border=0>
              <TBODY>
              <TR>
                <TD width=157>Increase 
              Percentage<BR>----------------------</TD></TR>
              <TR vAlign=bottom align=right>
                <TD>3%&nbsp;</TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>FORMAT Characters</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>FORMAT Characters</H2> -->
            <P>The following <FONT face="courier New, Courier" 
            size=-1><STRONG>FORMAT</STRONG></FONT> characters are available: 
            </P><FONT face="courier New, Courier" size=3><PRE> 
<B> $ </B>  Fixed or floating dollar sign. 
<B> 9 </B>  Decimal digit (no zero suppress). 
<B> Z </B>  Zero-suppressed decimal digit. 
<B> , </B>  Comma.  Inserted where specified. 
<B> . </B>  Decimal point position. 
<B> - </B>  Dash character.  Inserted where specified. 
<B> /  </B> Slash character.  Inserted where specified. 
<B> % </B>  Percent character.  Inserted where specified. 
 <B>X </B>  Character data. Each X represents one character. 
<B> G </B>  Graphic data.  Each G represents one logical (double byte) character.
<B> B</B>   Blank data.  Insert a space at this point. 
</PRE></FONT>
            <H4 class=TitleExample>Examples<FONT face="courier New, Courier" 
            size=3></FONT></H4><FONT face="courier New, Courier" size=3><PRE> 
    <B>FORMAT	'999999'</B>	Data: 08777	Result:	008777
    <B>FORMAT	'ZZZZZ9'</B>	Data: 08777	Result:	8777
   <B> FORMAT 	'999-9999'</B>	Data: 6495252	Result:	649-5252
    <B>FORMAT	'X(3)'</B>		Data: 'Smith'	Result:	Smi
 <B>   FORMAT	'$$9.99'</B>	Data: 85.65	Result: $85.65
    <B>FORMAT	'999.99'</B>	Data: 85.65	Result: 085.65
    <B>FORMAT	'X(3)'</B>		Data: 85.65	Result: Error
</PRE></FONT>
            <P>The final example produces an error because numeric data cannot 
            be formatted using a character string format. It must first be 
            converted or 'cast' to a character string before an 'X' type of 
            format may be applied. </P>
            <P>The $, 9, Z, X, G, and B symbols can be repeated in a <FONT 
            face="courier New, Courier" size=-1><STRONG>FORMAT</STRONG></FONT> 
            phrase either by repeating them (e.g., XXX) or by listing them 
            followed by a repetition number (e.g., (X(3)). </P>
            <P>The <FONT face="courier New, Courier" 
            size=-1><STRONG>FORMAT</STRONG></FONT> mask can contain 
            specifications for up to 18 digits of data plus other insertion 
            characters. If you needed to have 18 zero-suppressed decimal digits, 
            you could note it as Z(18) rather than 
          ZZZZZZZZZZZZZZZZZZ.</P></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>DATE Formats</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>DATE Formats</H2> -->
            <P>When dates are displayed as character strings, appropriate 
            formats are applied.</P>
            <P>The Teradata default format is: <BR>YY/MM/DD</P>
            <P>The ANSI display format is: <BR>YYYY-MM-DD</P>
            <P>The recommended display format eliminates uncertainty about the 
            century. For example, in the case of:</P><FONT 
            face="courier New, Courier" color=#660066 size=3><PRE>    <STRONG>02/04/29</STRONG></PRE></FONT>
            <P>It is unclear whether this format represents</P><FONT 
            face="courier New, Courier" color=#660066 size=3><PRE>    <STRONG>April 29, 1902 or April 29, 2002</STRONG>.</PRE></FONT>
            <P>Let's look at some unambiguous <FONT face="courier New, Courier" 
            size=-1><STRONG>DATE</STRONG></FONT> formats which show all four 
            digits of the year:</P>
            <TABLE cellPadding=2 width="60%">
              <TBODY>
              <TR>
                <TD><B><U>SYNTAX</U></B></TD>
                <TD><B><U>RESULT</U></B></TD></TR>
              <TR>
                <TD>FORMAT 'YYYY/MM/DD</TD>
                <TD>2005/03/27</TD></TR>
              <TR>
                <TD>FORMAT 'DDbMMMbYYYY'</TD>
                <TD>27&nbsp; Mar&nbsp; 2005</TD></TR>
              <TR>
                <TD>FORMAT 'mmmBdd,Byyyy'</TD>
                <TD>Mar&nbsp; 27,&nbsp; 2005</TD></TR>
              <TR>
                <TD>FORMAT 'DD.MM.YYYY'</TD>
                <TD>27.03.2005</TD></TR></TBODY></TABLE>
            <P><FONT face="courier New, Courier" 
            size=-1><STRONG>DATE</STRONG></FONT> format syntax is not 
            case-sensitive. </P>
            <P>The following formats are available for date displays:</P>
            <P><B>Y4:</B> 4-Digit year (Same as YYYY)<BR><B>YY:</B> 2-Digit 
            year<BR><B>M4:</B> Long Month - i.e. fully defined name for month 
            (Same as MMMM)<BR><B>M3:</B> Short Month - i.e., abbreviated name 
            for month (Same as MMM)<BR><B>MM:</B> 2-Digit month <BR><B>DD:</B> 
            2-Digit day of month<BR><B>D3:</B> 3-Digit day of year (Julian date) 
            (Same as DDD)</P>
            <H4>Example</H4><FONT face="Courier New, Courier, mono" 
            color=#660066><B>SELECT CURRENT_DATE (FORMAT 
            'Y4-M3-DD');</B><BR></FONT>
            <P>Date<BR>-------------<BR>2005-Mar-17<BR></P>
            <P>Note: Date formatting options may also use expanded syntax 
            (YYYY-MMM-DD). </P>
            <H4>Example</H4><FONT face="Courier New, Courier, mono" 
            color=#660066><B>SELECT CURRENT_DATE (FORMAT 
            'Y4:M4:D3');</B><BR></FONT>
            <P>Date<BR>------------------<BR>2005:March:076<BR></P>
            <P>Note: The date is the 76th day of the year 2005.<BR></P>
            <P>&nbsp;</P></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>FORMATing DATE in an SQL 
      SELECT Statement</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="3"></A>FORMATing DATE in a SQL <b>SELECT</b> Statement</H2> -->
            <P>Use the <FONT face="courier New, Courier" 
            size=-1><B>FORMAT</B></FONT> phrase within a <FONT 
            face="courier New, Courier" size=-1><B>SELECT</B></FONT> statement 
            as follows:</P><FONT face="courier New, Courier" color=#660066 
            size=3><PRE>  <B>SELECT    last_name
            ,first_name
            ,hire_date (FORMAT 'mmmBdd,Byyyy')
  FROM      employee
  ORDER BY  last_name;</B>

last_name             first_name                         hire_date<BR>--------------------  ------------------------------  ------------<BR>Johnson               Darlene                         Oct 15, 1976<BR>Kanieski              Carol                           Feb 01, 1977<BR>Ryan                  Loretta                         Oct 15, 1976<BR>Stein                 John                            Oct 15, 1976<BR>Trader                James                           Jul 31, 1976<BR>Villegas              Arnando                         Jan 02, 1977</PRE></FONT><!-- <font face="courier New, Courier" size="3" color="#660066">
<PRE>
<strong><U>last_name	first_name	hire_date</U></strong>
Johnson		Darlene		Oct 15, 1976
Kanieski	Carol		Feb 01, 1977
Ryan		Loretta		Oct 15, 1976
Stein		John		Oct 15, 1976
Trader		James		Jul 31, 1976
Villegas	Arnando		Jan 02, 1977
</PRE>
</font> -->
            <P align=center><IMG height=224 alt="sql0601.gif - 8341 Bytes" 
            src="Teradata SQL Introduction_files/sql0601.gif" width=636 
            border=0></P></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>Sorting By Formatted 
      Columns</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Extracting Portions of DATEs</H2> -->
            <H4>Problem </H4>
            <P>A department manager wants to take employees to lunch on their 
            birthdays. We need to know the month and day of each employee's 
            birthday. The manager would like the list sorted in the order in 
            which the birthdays will occur.</P>
            <H4 class=TitleSolution>Solution 1 - Using FORMAT</H4><FONT 
            face="courier New, Courier" color=#660066 size=3><PRE> 
  <B>SELECT last_name 
         ,first_name 
         ,birthdate (FORMAT 'mmdd')  AS birthday 
         ,birthdate                  AS whole_date 
  FROM   employee 
  WHERE  department_number = 401 
  ORDER BY 3; </B>

last_name             first_name                      birthday  whole_date<BR>--------------------  ------------------------------  --------  ----------<BR>Rogers                Frank                               0423    35/04/23<BR>Brown                 Alan                                0809    44/08/09<BR>Johnson               Darlene                             0423    46/04/23<BR>Trader                James                               0619    47/06/19<BR>Hoover                William                             0114    50/01/14<BR>Machado               Albert                              0714    57/07/14<BR>Phillips              Charles                             0810    63/08/10</PRE></FONT>
            <P>This solution does not produce the desired sorted result. Note 
            that Brown's birthday sorts between Rogers and Johnson whereas 
            ideally, it should follow them. The <FONT 
            face="courier New, Courier" size=-1><B>ORDER BY 3</B></FONT> sorts 
            on the full internal representation of the birthdate column (i.e., 
            year, month and day). The <FONT face="courier New, Courier" 
            size=-1><B>FORMAT</B></FONT> specification suppresses the year in 
            the viewable output but not in the sort<FONT 
            color=#000000>.</FONT></P><FONT color=#000000>
            <H4 class=TitleSolution>Solution 2 - Using MODULO</H4></FONT>
            <P><FONT color=#000000>The MODULO function<FONT color=#660066> works 
            similarly to long division. Just as when we divide 7 by 3, we get a 
            quotient of 2 and a remainder of 1. MODULO does exactly the 
            opposite. 7 MOD 3 discards the quotient and keeps only the 
            remainder. Thus, 7 MOD 3 = 1.</FONT><FONT 
            face="courier New, Courier" color=#660066 
            size=3><BR></FONT></FONT></P><FONT color=#000000><FONT 
            face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT  last_name 
        ,first_name 
        ,birthdate MOD 10000 (FORMAT '9999') 
                                AS birthday 
        ,birthdate              AS whole_date 
  FROM  employee 
  WHERE   department_number = 401 
  ORDER BY 3; </B> 

last_name             first_name                      birthday  whole_date<BR>--------------------  ------------------------------  --------  ----------<BR>Hoover                William                             0114    50/01/14<BR>Johnson               Darlene                             0423    46/04/23<BR>Rogers                Frank                               0423    35/04/23<BR>Trader                James                               0619    47/06/19<BR>Machado               Albert                              0714    57/07/14<BR>Brown                 Alan                                0809    44/08/09<BR>Phillips              Charles                             0810    63/08/10</PRE></FONT>
            <P>Why do we see different results in ordering the results? FORMAT 
            is a mask which does not convert the underlying data. MOD is an 
            arithmetic function which does convert the data before the FORMAT is 
            applied. Here we get the desired sorted output. This is because when 
            we <STRONG>MOD</STRONG> 440809 BY 10000, the result is a new 
            integer: 0809. The sort happens on these four digits only. 
            </P></FONT></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>Using FORMAT With ODBC-based 
      Applications</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Extracting Portions of DATEs</H2> -->
            <P>The <B>FORMAT</B> option, when used, must be applied to data 
            represented as character strings. Thus, when numerics or dates are 
            concerned, the formatting only takes place if the data is first 
            converted to character. Because this happens automatically in BTEQ, 
            it can be surprising when using <B>ODBC</B>-based applications when 
            a FORMAT appears to be not working. The conversion to character data 
            must be explicitly done when using ODBC-based applications like 
            <B>SQL Assistant</B>. </P>
            <H4 class=TitleSolution>Using FORMAT With SQL Assistant</H4><FONT 
            color=#000000>
            <H4 class=TitleSolution><IMG height=416 
            src="Teradata SQL Introduction_files/ODBC_Format.jpg" 
            width=679></H4></FONT>
            <H4><FONT color=#000000>Things To Notice:</FONT></H4>
            <UL>
              <LI>Any specified FORMAT must always be applied to a character 
              string. 
              <LI>Thus, a conversion from any numeric to character is required. 
              <LI>BTEQ does automatic character conversion prior to applying a 
              format. 
              <LI>ODBC does not do it automatically, thus the user must 
              explicitly request the conversion. 
              <LI>If the column is not a character data type, the FORMAT will be 
              ignored. 
              <LI>FORMAT syntax must precede the specified conversion data type 
              syntax.<BR><BR></LI></UL></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>Using the EXTRACT 
      Function</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Using the EXTRACT Function</H2> -->
            <H4>Extracting From Current Date</H4>
            <P>The <FONT face="Courier New, Courier" 
            size=-1><STRONG>EXTRACT</STRONG></FONT> function allows for easy 
            extraction of year, month and day from any <FONT 
            face="Courier New, Courier" size=-1><STRONG>DATE</STRONG></FONT> 
            data type. The following examples demonstrate its usage.</P>
            <TABLE cellSpacing=0 cellPadding=2 width="90%" align=center 
border=0>
              <TBODY>
              <TR>
                <TD width="60%">
                  <DIV align=left><B>Query</B></DIV></TD>
                <TD width="40%">
                  <DIV align=left><B>Result</B></DIV></TD></TR>
              <TR>
                <TD width="60%">
                  <P><FONT face="Courier New, Courier" size=-1>SELECT DATE; /* 
                  March 20,2001 */</FONT></P></TD>
                <TD width="40%">01/03/20 (Default format)</TD></TR>
              <TR>
                <TD width="60%"><FONT face="Courier New, Courier" 
                  size=-1>SELECT EXTRACT(YEAR FROM DATE);</FONT></TD>
                <TD width="40%">2001</TD></TR>
              <TR>
                <TD width="60%"><FONT face="Courier New, Courier" 
                  size=-1>SELECT EXTRACT(MONTH FROM DATE);</FONT></TD>
                <TD width="40%">03</TD></TR>
              <TR>
                <TD width="60%"><FONT face="Courier New, Courier" 
                  size=-1>SELECT EXTRACT(DAY FROM DATE);</FONT></TD>
                <TD width="40%">20</TD></TR></TBODY></TABLE>
            <P>Date arithmetic may be applied to the date prior to the 
            extraction. Added values always represent days.</P>
            <TABLE cellSpacing=0 cellPadding=2 width="90%" align=center 
border=0>
              <TBODY>
              <TR>
                <TD width="60%">
                  <DIV align=left><B>Query</B></DIV></TD>
                <TD width="40%">
                  <DIV align=left><B>Result</B></DIV></TD></TR>
              <TR>
                <TD width="60%"><FONT face="Courier New, Courier" 
                  size=-1>SELECT EXTRACT(YEAR FROM DATE + 365);</FONT></TD>
                <TD width="40%">2002</TD></TR>
              <TR>
                <TD width="60%"><FONT face="Courier New, Courier" 
                  size=-1>SELECT EXTRACT(MONTH FROM DATE + 30);</FONT></TD>
                <TD width="40%">04</TD></TR>
              <TR>
                <TD width="60%"><FONT face="Courier New, Courier" 
                  size=-1>SELECT EXTRACT(DAY FROM DATE + 12);</FONT></TD>
                <TD width="40%">01</TD></TR></TBODY></TABLE>
            <P><B>Note: </B><FONT face="Courier New, Courier" 
            size=-1><STRONG>CURRENT_DATE</STRONG></FONT> is the ANSI standard 
            for today's date and may be used in place of <FONT 
            face="Courier New, Courier" size=-1><STRONG>DATE</STRONG></FONT>, 
            which is Teradata specific.</P>
            <H4>Extracting From Current Time</H4>
            <P>The <FONT face="Courier New, Courier" 
            size=-1><STRONG>EXTRACT</STRONG></FONT> function may also be applied 
            against the current time. It permits extraction of hours, minutes 
            and seconds. The following examples demonstrate its usage.</P>
            <TABLE cellSpacing=0 cellPadding=2 width="90%" align=center 
border=0>
              <TBODY>
              <TR>
                <TD width="60%">
                  <DIV align=left><B>Query</B></DIV></TD>
                <TD width="40%">
                  <DIV align=left><B>Result</B></DIV></TD></TR>
              <TR>
                <TD width="60%">
                  <P><FONT face="Courier New, Courier" size=-1>SELECT TIME; /* 
                  2:42 PM */</FONT></P></TD>
                <TD width="40%">14:42:32 (Default format)</TD></TR>
              <TR>
                <TD width="60%"><FONT face="Courier New, Courier" 
                  size=-1>SELECT EXTRACT(HOUR FROM TIME);</FONT></TD>
                <TD width="40%">14</TD></TR>
              <TR>
                <TD width="60%"><FONT face="Courier New, Courier" 
                  size=-1>SELECT EXTRACT(MINUTE FROM TIME);</FONT></TD>
                <TD width="40%">42</TD></TR>
              <TR>
                <TD width="60%"><FONT face="Courier New, Courier" 
                  size=-1>SELECT EXTRACT(SECOND FROM TIME);</FONT></TD>
                <TD width="40%">32</TD></TR></TBODY></TABLE>
            <P><FONT color=#000000>Time arithmetic may be applied prior to the 
            extraction. Added values always represent seconds. </FONT></P><FONT 
            color=#000000>
            <TABLE cellSpacing=0 cellPadding=2 width="90%" align=center 
border=0>
              <TBODY>
              <TR>
                <TD width="60%">
                  <DIV align=left><B>Query</B></DIV></TD>
                <TD width="40%">
                  <DIV align=left><B>Result</B></DIV></TD></TR>
              <TR>
                <TD width="60%"><FONT face="Courier New, Courier" 
                  size=-1>SELECT EXTRACT(HOUR FROM TIME + 20);</FONT></TD>
                <TD width="40%">14</TD></TR>
              <TR>
                <TD width="60%"><FONT face="Courier New, Courier" 
                  size=-1>SELECT EXTRACT(MINUTE FROM TIME + 20);</FONT></TD>
                <TD width="40%">42</TD></TR>
              <TR>
                <TD width="60%"><FONT face="Courier New, Courier" 
                  size=-1>SELECT EXTRACT(SECOND FROM TIME + 20);</FONT></TD>
                <TD width="40%">52</TD></TR>
              <TR>
                <TD width="60%"><FONT face="Courier New, Courier" 
                  size=-1>SELECT EXTRACT(SECOND FROM TIME + 30);</FONT></TD>
                <TD width="40%">Invalid Time</TD></TR></TBODY></TABLE>
            <P><B>Note:</B> <FONT face="Courier New, Courier" 
            size=-1><STRONG>CURRENT_TIME</STRONG></FONT> is the ANSI standard 
            for current time and may be used in place of <FONT 
            face="Courier New, Courier" size=-1><STRONG>TIME</STRONG></FONT>, 
            which is Teradata specific. <FONT color=#000000>While <FONT 
            face="Courier New, Courier" size=-1><STRONG>TIME</STRONG></FONT> is 
            a Teradata function, it does not have the intelligence of the <FONT 
            face="Courier New, Courier" size=-1><STRONG>DATE</STRONG></FONT> 
            data type, thus adding 30 seconds to 32 seconds produces an invalid 
            62 for the seconds portion. For true time and timestamp arithmetic, 
            the<FONT face="Courier New, Courier" size=-1> 
            <STRONG>TIME</STRONG></FONT> and <FONT face="Courier New, Courier" 
            size=-1><STRONG>TIMESTAMP</STRONG> </FONT>data types are needed. 
            These capabilities are covered in the Advanced SQL 
            course.</FONT></P></FONT></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>Truncating CHARACTER 
      Columns</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Truncating CHARACTER Columns</H2> -->
            <P>The <FONT face="courier New, Courier" 
            size=-1><STRONG>FORMAT</STRONG></FONT> phrase can create the 
            appearance of truncating a character column or expression. </P>
            <P>The <FONT face="courier New, Courier" 
            size=-1><STRONG>FORMAT</STRONG></FONT> phrase controls the display 
            of the result but does not change the underlying data in any 
way.</P>
            <H4 class=TitleExample>Example</H4><FONT face="courier New, Courier" 
            color=#660066 size=3><PRE>  <B>SELECT    last_name
            ,first_name
            ,first_name (FORMAT 'X')
  FROM      employee
  WHERE     last_name = 'Brown'
  ORDER BY  3;  </B>      
</PRE></FONT>
            <TABLE cellSpacing=0 cellPadding=2 width="80%" border=0>
              <TBODY>
              <TR>
                <TD width="33%"><STRONG>last_name</STRONG><BR>-----------</TD>
                <TD width="33%"><STRONG>first_name</STRONG><BR>-----------</TD>
                <TD 
              width="33%"><STRONG>first_name</STRONG><BR>-----------</TD></TR>
              <TR>
                <TD>Brown </TD>
                <TD>Alan</TD>
                <TD>A</TD></TR>
              <TR>
                <TD>Brown </TD>
                <TD>Allen</TD>
                <TD>A</TD></TR></TBODY></TABLE>
            <H4><B>Question</B> </H4>
            <P>Does this method sort on just the first initial? </P>
            <H4><B>Answer</B> </H4>
            <P>No, it sorts on the full first name value.</P>
            <H4 class=TitleProblem>Problem</H4>
            <P>Show the last name, first name, and first initial of all 
            employees named Brown. Sequence by the first initial. </P><FONT 
            face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT    last_name
            ,first_name
            ,CAST (first_name AS CHAR(1))
  FROM      employee
  WHERE     last_name = 'Brown'
  ORDER BY  3;  </B>      
</PRE></FONT>
            <TABLE cellSpacing=0 cellPadding=2 width="80%" border=0>
              <TBODY>
              <TR>
                <TD width="33%"><STRONG>last_name</STRONG><BR>-----------</TD>
                <TD width="33%"><STRONG>first_name</STRONG><BR>-----------</TD>
                <TD 
              width="33%"><STRONG>first_name</STRONG><BR>-----------</TD></TR>
              <TR>
                <TD>Brown </TD>
                <TD>Allen</TD>
                <TD>A</TD></TR>
              <TR>
                <TD>Brown </TD>
                <TD>Alan</TD>
                <TD>A</TD></TR></TBODY></TABLE>
            <H4><B>Question</B> </H4>
            <P>Does this method sort on the first initial only? </P>
            <H4><B>Answer</B></H4>
            <P>Yes, because we have actually <FONT face="courier New, Courier" 
            size=-1><STRONG>CAST</STRONG></FONT> the first_name to a new data 
            type of <FONT face="courier New, Courier" 
            size=-1><STRONG>CHAR(1)</STRONG></FONT>. </P>
            <P><B>Note: </B>Both of the above examples would return an error if 
            run in an ANSI mode session. This is because ANSI mode does not 
            support character truncation as part of a CAST 
          operation.</P></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>Attribute Functions</B></FONT> 

      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Attribute Functions</H2> -->
            <P>Attribute functions are Teradata extensions which return 
            descriptive information about the operand, which may be either a 
            column reference or general expression. </P>
            <P>The functions available for attribute information are the 
            following:</P>
            <UL>
              <LI><STRONG><FONT face="Courier New, Courier" 
              size=-1>TYPE</FONT></STRONG> 
              <LI><STRONG><FONT face="Courier New, Courier" 
              size=-1>TITLE</FONT></STRONG> 
              <LI><STRONG><FONT face="Courier New, Courier" 
              size=-1>FORMAT</FONT></STRONG> 
              <LI><STRONG><FONT face="Courier New, Courier" 
              size=-1>NAMED</FONT></STRONG> 
              <LI><STRONG><FONT face="Courier New, Courier" 
              size=-1>CHARACTERS</FONT></STRONG> </LI></UL>
            <P>Here are some examples of how these functions work:</P>
            <TABLE cellSpacing=0 cellPadding=4 width="90%" border=0>
              <TBODY>
              <TR vAlign=top align=middle>
                <TD width="70%"><B>Query</B></TD>
                <TD width="30%"><B>Results</B></TD></TR>
              <TR vAlign=bottom>
                <TD><FONT face="Courier New, Courier" size=-1>SELECT DISTINCT 
                  TYPE (job_code) FROM job; </FONT></TD>
                <TD vAlign=bottom align=middle>
                  <P><FONT face="Courier New, Courier" 
                size=-1>INTEGER</FONT></P></TD></TR>
              <TR>
                <TD><FONT face="Courier New, Courier" size=-1>SELECT DISTINCT 
                  TITLE (job_code)FROM job; </FONT></TD>
                <TD vAlign=top align=middle><FONT face="Courier New, Courier" 
                  size=-1>job_code</FONT></TD></TR>
              <TR>
                <TD><FONT face="Courier New, Courier" size=-1>SELECT DISTINCT 
                  FORMAT (job_code)FROM job; </FONT></TD>
                <TD vAlign=top align=middle><FONT face="Courier New, Courier" 
                  size=-1>(10)9</FONT></TD></TR>
              <TR>
                <TD><FONT face="Courier New, Courier" size=-1>SELECT DISTINCT 
                  NAMED (job_code)FROM job; </FONT></TD>
                <TD vAlign=top align=middle><FONT face="Courier New, Courier" 
                  size=-1>job_code</FONT></TD></TR>
              <TR>
                <TD>
                  <P><FONT face="Courier New, Courier" size=-1>SELECT DISTINCT 
                  CHARACTERS(last_name) FROM employee;</FONT></P></TD>
                <TD vAlign=top align=middle><FONT face="Courier New, Courier" 
                  size=-1>20</FONT></TD></TR></TBODY></TABLE>
            <P><B>Note:</B> <FONT face="Courier New, Courier" 
            size=-1><STRONG>DISTINCT</STRONG></FONT> is used in these queries to 
            reduce output to a single row of information per query. If <FONT 
            face="Courier New, Courier" size=-1><STRONG>DISTINCT</STRONG></FONT> 
            is not used, the information is repeated once for each row in the 
            table.</P><!-- <p align="center"><img src="8OutputAttr/../z-line.gif" width="20" height="2" border="0"> <b><a href="./images/labs/wbt-attrib_funct_lab.shtm">Lab</a></b> <img src="8OutputAttr/../z-line.gif" width="20" height="2" border="0"></p> --></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 -->
      <SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
      <LINK href="./././sqlstyle.css" type=text/css rel=stylesheet><FONT 
      face=Verdana size=3><B>Lab</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>LAB</H2> -->
            <P>
            <TABLE cellSpacing=0 cellPadding=10 width="100%" border=0>
              <TBODY>
              <TR>
                <TD vAlign=top width=106><B><A name=LAB>Try It!</A></B><BR></TD>
                <TD vAlign=top width="82%" bgColor=#ffffcc>
                  <P>For this set of lab questions you will need information 
                  from the <A 
                  href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
                  target=POPUP1>Database Info document.</A></P>
                  <P>To start the online labs, click on the Telnet button in the 
                  lower left hand screen of the course. Two windows will pop-up: 
                  a BTEQ Instruction Screen and your Telnet Window. Sometimes 
                  the BTEQ Instructions get hidden behind the Telnet Window. You 
                  will need these instructions to log on to Teradata.</P>
                  <P><B>Be sure to change your default database to the 
                  Customer_Service database in order to run these labs.</B> </P>
                  <P>Click on the buttons to the left to see the 
                  answers.</P></FONT></TD></TR>
              <TR>
                <TD vAlign=top width=106><FONT size=-1>Answers:<BR><A 
                  onclick="AnswerWindow('Mod09L01.htm',650,620,circbut01)" 
                  href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
                  id=circbut01 height=15 
                  src="Teradata SQL Introduction_files/circbut.gif" width=15 
                  align=top border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
                  size=-1>Lab A</FONT> <BR><A 
                  onclick="AnswerWindow('Mod09L02.htm',550,670,circbut02)" 
                  href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
                  id=circbut02 height=15 
                  src="Teradata SQL Introduction_files/circbut.gif" width=15 
                  align=top border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
                  size=-1>Lab B</FONT> <BR><A 
                  onclick="AnswerWindow('Mod09L03.htm',580,580,circbut03)" 
                  href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
                  id=circbut03 height=15 
                  src="Teradata SQL Introduction_files/circbut.gif" width=15 
                  align=top border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
                  size=-1>Lab C</FONT> <BR><A 
                  onclick="AnswerWindow('Mod09L04.htm',600,600,circbut04)" 
                  href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
                  id=circbut04 height=15 
                  src="Teradata SQL Introduction_files/circbut.gif" width=15 
                  align=top border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
                  size=-1>Lab D</FONT> <BR><A 
                  onclick="AnswerWindow('Mod09L05.htm',620,500,circbut05)" 
                  href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
                  id=circbut05 height=15 
                  src="Teradata SQL Introduction_files/circbut.gif" width=15 
                  align=top border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
                  size=-1>Lab E</FONT> <BR><A 
                  onclick="AnswerWindow('Mod09L06.htm',600,500,circbut06)" 
                  href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
                  id=circbut06 height=15 
                  src="Teradata SQL Introduction_files/circbut.gif" width=15 
                  align=top border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
                  size=-1>Lab F</FONT> </FONT></TD>
                <TD vAlign=top width="82%" bgColor=#ffffcc>
                  <P>
                  <OL type=A>
                    <LI>The manager of department 401 needs a list of employees 
                    for the department that includes last name, hire date and 
                    bi-weekly salary (26 pay periods per year) sorted descending 
                    by salary. Title the computed salary as "Salary Amount". 
                    Format hire date as an English abbreviation, followed by day 
                    and a four-digit year. Show salary with floating dollar 
                    signs, commas, and two decimal positions. Remember: The 
                    salary column in the employee table is the annual salary. 
                    <P>If you get ****** for salary amount, it indicates an 
                    insufficient format for the size of the result. Be sure to 
                    provide enough places to the left of the decimal point. </P>
                    <LI>Select employee number and phone number from the 
                    employee phone table. Edit phone number with a hyphen 
                    between the third and fourth digits. Sort by employee 
                    number. Use column titles "Employee" and "Phone". 
                    <P></P>
                    <LI>Print the employee number, names and ages of department 
                    301 employees. Name the computed column "Age" and title the 
                    last name and first name columns "Last Name" and "First 
                    Name". Sequence ascending by age. Format first name as nine 
                    characters. 
                    <P></P>
                    <LI>Show the first 10 characters of the last name and show 
                    the department number and hire date. Order results by hire 
                    date. 
                    <P><B>Option 1: </B>(Do if the current month is NOT 
                    September, November, or December.) Find only employees whose 
                    date-of-hire anniversary is this month, regardless of what 
                    year they were hired. </P>
                    <P><B>Option 2:</B> (Do if the current month IS September, 
                    November or December. Find out which employees had an 
                    anniversary month four months ago.</P>
                    <LI>Modify Lab D to include an additional column on the 
                    report containing the three-lettered English abbreviation 
                    for the month. Title this column "month". Notice that the 
                    month column is right-justified even though it appears 
                    alphabetic. With <B>FORMAT</B>, underlying data controls 
                    alignment. 
                    <P></P>
                    <LI>Select all employees who work in department 501. Show 
                    last and first names (both formatted as 8 positions), and 
                    three date columns: one for month of hire as a computed 
                    value titled "month"; another for English abbreviation of 
                    hire month without a title; and a third for year-of-hire as 
                    a 4-digit value with a title of "year". 
                    <P>Sort using numeric designators from the <FONT 
                    face="courier New, Courier" size=-1><B>SELECT</B></FONT> 
                    clause. Do it twice. Note sort results. Submit with sort on 
                    the extracted month column. Sort again on the full 
                    date.</P></LI></OL></FONT></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 5 --><!-- ########## 1 -->
      <TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 
        border=0><TBODY>
        <TR>
          <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;Inner 
            Joins</FONT></B></FONT> </TD></TR></TBODY></TABLE>
      <P><!-- ########## 2 --><!-- ########## 3 --><FONT face=Verdana 
      size=3><B>Objectives</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
            <P>After completing this module, you should be able to:</P>
            <UL>
              <LI>Perform an Inner Join on two or more tables. 
              <LI>Perform two special cases of an Inner Join: 
              <UL>
                <LI>A Cartesian product join. 
                <LI>A Self join. </LI></UL>
              <LI>Use an alias as a temporary name for a Table or View. 
              <LI>Determine when to use a subquery versus a Join. 
          </LI></UL></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><FONT face=Verdana size=3><B>Join</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Join</H2> -->
            <P>A <B>join</B> is a technique for accessing data from more than 
            one table in an answer set. Tables are joined according to columns 
            they have in common. A join between the employee table and the 
            department table could be done according to department number. An 
            example of an inner join will be seen on the next screen:</P>
            <P>Joins may access data from tables, views or a combination of the 
            two.</P></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>Types of Joins</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>Types of Joins</H2> -->
            <TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
              <TBODY>
              <TR>
                <TD><B>Inner</B></TD>
                <TD>Rows which match based on join criteria.</TD></TR>
              <TR>
                <TD><B>Outer*</B></TD>
                <TD>Rows which match and those which do not.</TD></TR>
              <TR vAlign=top align=left>
                <TD><B>Cross</B></TD>
                <TD>Each row of one table matched with each row of 
              another.</TD></TR>
              <TR>
                <TD><B>Self</B></TD>
                <TD>Rows matching other rows within the same 
              table.</TD></TR></TBODY></TABLE>
            <P>* Outer Joins are discussed in a separate section of the SQL 
            WBT.</P>
            <P>Our main focus in this module will be Inner 
        Joins.</P></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><FONT face=Verdana size=3><B>Inner Join 
      Problem</B></FONT> 
      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Inner Join Problem</H2> -->
            <P>To get a report that includes employee number, last name, and 
            department name, join the employee table and the department 
            table.</P>
            <P>Department number is the common column that determines the way 
            data in these two tables will be joined. Most often joined columns 
            are related to each other as primary and foreign keys.</P>
            <P align=center><IMG height=642 alt="sql0301.gif - 15362 Bytes" 
            src="D:\Work\TeraData Course Contents &amp; PDFs\WBT's\Teradata SQL Introduction_files\sql0301(3).gif" 
            width=612 border=0></P></FONT></TD></TR></TBODY></TABLE>
      <P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
      rel=stylesheet><FONT face=Verdana size=3><B>Inner Join Solution</B></FONT> 

      <P>
      <TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width=27>&nbsp;<BR></TD>
          <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana 
            size=2></FONT>
        <TR>
          <TD><STRONG>employee_number</STRONG><BR>--------------------</TD>
          <TD><STRONG>last_name</STRONG><BR>-----------</TD>
          <TD><STRONG>department_name</STRONG><BR>--------------------</TD></TR>
        <TR>
          <TD>1006 </TD>
          <TD>Stein</TD>
          <TD>research and development</TD></TR>
        <TR>
          <TD>1008 </TD>
          <TD>Kanieski</TD>
          <TD>research and development</TD></TR>
        <TR>
          <TD>1005</TD>
          <TD>Ryan</TD>
          <TD>education</TD></TR>
        <TR>
          <TD>1004</TD>
          <TD>Johnson</TD>
          <TD>customer support</TD></TR>
        <TR>
          <TD>1007</TD>
          <TD>Villegas</TD>
          <TD>education</TD></TR>
        <TR>
          <TD>1003</TD>
          <TD>Trader</TD>
          <TD>customer support</TD></TR>
        <TR>
          <TD><B>.</B></TD>
          <TD><B>.</B></TD>
          <TD><B>.</B></TD></TR>
        <TR>
          <TD><B>.</B></TD>
          <TD><B>.</B></TD>
          <TD><B>.</B></TD></TR>
        <TR>
          <TD><B>.</B></TD>
          <TD><B>.</B></TD>
          <TD><B>.</B></TD></TR></TBODY></TABLE>
      <P>We fully qualified every column referenced in our <FONT 
      face="courier New, Courier" size=-1><B>SELECT</B></FONT> statement to 
      include the table that the column is in ( e.g., <FONT 
      face="courier New, Courier" 
      size=-1><STRONG>employee.employer_number</STRONG></FONT>). It is only 
      necessary to qualify columns that have identical names in both tables 
      (i.e., <FONT face="courier New, Courier" 
      size=-1><STRONG>department_number</STRONG></FONT>).</P>
      <P>The <STRONG><FONT face="Courier New, Courier" 
      size=-1>ON</FONT></STRONG> clause is used to define the join condition 
      used to link the two tables.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Defining and Using Alias 
Names</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Defining and Using Alias Names</H2> -->
      <P>An alias is a temporary name for a <FONT face="courier New, Courier" 
      size=-1><STRONG>TABLE</STRONG></FONT> or <FONT face="courier New, Courier" 
      size=-1><STRONG>VIEW</STRONG></FONT> defined in the <FONT 
      face="courier New, Courier" size=-1><STRONG>FROM</STRONG></FONT> clause. 
      It can be useful for abbreviating long table names and is required to join 
      a table to itself. </P>
      <P>Once the alias name is defined, it <U>must</U> be used throughout the 
      SQL statement.</P><FONT face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT   e.employee_number
           ,e.last_name
           ,d.department_name
  FROM     employee  e  INNER JOIN
           department d
  ON       e.department_number = d.department_number;</B>
</PRE></FONT>
      <TABLE cellSpacing=0 cellPadding=2 width="80%" border=0>
        <TBODY>
        <TR>
          <TD 
            width="34%"><STRONG>employee_number</STRONG><BR>-------------------</TD>
          <TD width="22%"><STRONG>last_name</STRONG><BR>----------</TD>
          <TD 
            width="44%"><STRONG>department_name</STRONG><BR>--------------------</TD></TR>
        <TR>
          <TD>1006</TD>
          <TD>Stein</TD>
          <TD>research and development</TD></TR>
        <TR>
          <TD>1008</TD>
          <TD>Kanieski</TD>
          <TD>research and development</TD></TR>
        <TR>
          <TD>1005</TD>
          <TD>Ryan</TD>
          <TD>education</TD></TR>
        <TR>
          <TD>1004</TD>
          <TD>Johnson</TD>
          <TD>customer support</TD></TR>
        <TR>
          <TD>1007</TD>
          <TD>Villegas</TD>
          <TD>education</TD></TR>
        <TR>
          <TD>1003</TD>
          <TD>Trader</TD>
          <TD>customer support</TD></TR></TBODY></TABLE>
      <P><B>Note</B>: The "e" in the <FONT face="courier New, Courier" 
      size=-1><STRONG>FROM</STRONG></FONT> clause is what sets up "e" as the 
      employee table alias. Similarly, the "d" sets up the department table 
      alias. Alias names can be up to 30 characters. </P>
      <P>Aliases can be used in the <FONT face="courier New, Courier" 
      size=-1><B>SELECT</B></FONT> part of the statement even though <FONT 
      face="courier New, Courier" size=-1><B>SELECT</B></FONT> appears before 
      <FONT face="courier New, Courier" size=-1><STRONG>FROM</STRONG></FONT> in 
      a statement. Once an alias has been established, it should be used 
      consistently thoughout the query. Using the original table name as a 
      qualifier instead of the alias may produce unexpected results as we shall 
      see in a later example. </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Cross Joins</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>Cross Joins</H2> -->A Cross Join is a join 
      that requires no join condition (Cross Join syntax does not allow an <FONT 
      face="courier New, Courier" size=-1><B>ON</B></FONT> clause). Each 
      participating row of one table is joined with each participating row of 
      another table. The <FONT face="courier New, Courier" 
      size=-1><B>WHERE</B></FONT> clause restricts which rows participate from 
      either table. <FONT face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT   e.employee_number
           ,d.department_number
  FROM     employee e CROSS JOIN
           department d
  WHERE    e.employee_number = 1008;</B>
</PRE></FONT>
      <TABLE cellSpacing=0 cellPadding=2 width="70%" border=0>
        <TBODY>
        <TR>
          <TD><STRONG>employee_number</STRONG><BR>--------------------</TD>
          <TD><STRONG>department_number</STRONG><BR>----------------------</TD></TR>
        <TR>
          <TD>1008</TD>
          <TD>301</TD></TR>
        <TR>
          <TD>1008</TD>
          <TD>501</TD></TR>
        <TR>
          <TD>1008</TD>
          <TD>402</TD></TR>
        <TR>
          <TD>1008</TD>
          <TD>201</TD></TR>
        <TR>
          <TD>1008</TD>
          <TD>302</TD></TR>
        <TR>
          <TD>1008</TD>
          <TD>600</TD></TR>
        <TR>
          <TD>1008</TD>
          <TD>401</TD></TR>
        <TR>
          <TD>1008</TD>
          <TD>100</TD></TR>
        <TR>
          <TD>1008</TD>
          <TD>403</TD></TR></TBODY></TABLE>
      <P>The employee table has 26 rows. The department table has 9 rows. 
      Without the <FONT face="courier New, Courier" 
      size=-1><STRONG>WHERE</STRONG></FONT> clause, we would expect that 26 x 9 
      = 234 rows in our result set. With the constraint that the employee_number 
      must equal 1008 (which only matches one row in the employee table), we now 
      get 1 x 9 = 9 rows in our result set.</P>
      <P>Cross Joins by themselves often do not produce meaningful results. This 
      result shows employee 1008 associated with each department. This is not 
      meaningful output.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Cartesian Product</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Cartesian Product</H2> -->
      <P>A completely unconstrained Cross Join is called a Cartesian product. 
      Each row of one table is joined to each row of another table. A Cartesian 
      product results when a <FONT face="courier New, Courier" 
      size=-1><STRONG>CROSS JOIN</STRONG></FONT> is issued without a <FONT 
      face="courier New, Courier" size=-1><STRONG>WHERE</STRONG></FONT> clause. 
      </P><FONT face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT   employee.employee_number
           ,employee.department_number
  FROM     employee CROSS JOIN
           department;</B>
</PRE></FONT>
      <P>Each employee row (26) matched with each department row (9) yields 234 
      rows of output. An 8,000,000 row table and a 50,000 row table would yield 
      a 400,000,000,000 row answer set. The output of a Cartesian product is 
      often not meaningful however they do have useful application as we shall 
      see.</P>
      <P>Cartesian products may also result accidentally from an <FONT 
      face="courier New, Courier" size=-1><STRONG>INNER JOIN</STRONG></FONT> 
      with improper aliasing or improper join conditions. 
  </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Useful Cartesian Products</B></FONT> 

<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>Useful Cartesian Products</H2> -->
      <P>There are some real-world uses for Cartesian product joins. One 
      important use is to benchmark system performance with large data 
      throughputs. Cartesian products make it easy to generate very large answer 
      sets.</P>
      <P class=TitleExample>Example</P>
      <P align=center><IMG height=224 alt="sql0601.GIF - 7397 Bytes" 
      src="D:\Work\TeraData Course Contents &amp; PDFs\WBT's\Teradata SQL Introduction_files\sql0601(1).gif" 
      width=316 border=0></P>
      <P>Any query requiring all elements of one table to be compared to all 
      elements of another is a candidate for a Cartesian product using the <FONT 
      face="courier New, Courier" size=-1><STRONG>CROSS JOIN</STRONG></FONT> 
      syntax.</P>
      <P>As demonstrated in the above diagram, a <FONT 
      face="courier New, Courier" size=-1><STRONG>CROSS JOIN</STRONG></FONT> can 
      be useful to an airline for comparing all possible combinations of cities 
      in order to evaluate:</P>
      <UL>
        <BLOCKQUOTE>
          <LI>flight plan information, 
          <LI>passenger rate structures, 
          <LI>mileage awards </LI></BLOCKQUOTE></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Inner Joins on Multiple 
Tables</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Inner Joins on Multiple Tables</H2> -->
      <P>Historically, a join could have up to 16 participating Tables or Views. 
      Since Teradata V2R2.1, the join limit has been increased to 64 
      participating Tables or Views. The number of participating Tables/Views 
      determines the number of required join conditions. An n-table join 
      requires n-1 join conditions. In this example, three tables are joined, 
      thus requiring two join conditions (two <FONT face="courier New, Courier" 
      size=-1><STRONG>ON</STRONG> </FONT>clauses). Omitting any join condition 
      will result in a Cartesian product join.</P>
      <P class=TitleExample>Example</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>SELECT  e.last_name
          ,d.department_name
          ,j.description
  FROM    employee e  INNER JOIN
          department d
  ON      e.department_number = d.department_number
          INNER JOIN
          job j
  ON      e.job_code = j.job_code;</B>
</PRE></FONT>
      <TABLE cellSpacing=0 cellPadding=2 width="90%" border=0>
        <TBODY>
        <TR>
          <TD><STRONG>last_name</STRONG><BR>-----------</TD>
          <TD><STRONG>department_name</STRONG><BR>--------------------</TD>
          <TD><STRONG>description</STRONG><BR>------------</TD></TR>
        <TR>
          <TD>Daly</TD>
          <TD>software support</TD>
          <TD>Manager - Software Supp</TD></TR>
        <TR>
          <TD>Runyon</TD>
          <TD>marketing sales</TD>
          <TD>Manager - Marketing Sales</TD></TR>
        <TR>
          <TD>Trainer</TD>
          <TD>president</TD>
          <TD>Corporate President</TD></TR>
        <TR>
          <TD>Brown</TD>
          <TD>customer support</TD>
          <TD>Dispatcher</TD></TR>
        <TR>
          <TD></TD>
          <TD></TD>
          <TD></TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Accidental Cartesian 
Products</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Accidental Cartesian Products</H2> -->
      <P>An accidental Cartesian product can result from an Inner Join with 
      improper aliasing:</P><FONT face="courier New, Courier" color=#660066 
      size=3><PRE>  <B>SELECT   employee.employee_number
           ,d.department_name
  FROM     employee e INNER JOIN
           department d
  ON       e.department_number = d.department_number;</B>
</PRE></FONT>
      <P>We forgot to use the "e" alias in the <FONT face="courier New, Courier" 
      size=-1><B>SELECT</B> </FONT>statement. The parser sees that "e" needs to 
      be joined with "d". That's two tables and one join. So far, so good. Then 
      the parser sees a reference to employee and views it as a third table. We 
      now have three tables and only one join, resulting in an unintended 
      Cartesian product.</P>
      <P>A Cartesian product also may result from an Inner Join with an improper 
      join condition:</P><FONT face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT  e.employee_number
          ,d.department_name
  FROM    employee e INNER JOIN
          department d
  ON      3 = 3;</B>
</PRE></FONT>
      <P>In the above example, since 3 = 3 is always true, every row meets this 
      condition. <U>Every</U> row in the department table is joined with 
      <U>every</U> row in the employee table. We probably do not want this 
      result.</P>
      <P><FONT face="courier New, Courier" 
      size=-1><STRONG>EXPLAIN</STRONG></FONT> all queries before allowing them 
      to run in a production environment! Please see the section on <FONT 
      face="courier New, Courier" size=-1><STRONG>EXPLAIN</STRONG></FONT> at the 
      end of this module.</P>
      <P>If your <FONT face="courier New, Courier" 
      size=-1><STRONG>EXPLAIN</STRONG></FONT> statement estimates a huge number 
      of rows or hours to complete, it could mean that your query will 
      unintentionally produce a Cartesian 
product.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Self Joins</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!--  <H2><A NAME="2"></A>Self Joins</H2> -->
      <P>A self join occurs when a table is joined to itself. Which employees 
      share the same surname Brown and to whom do they report? </P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT  emp.first_name   (TITLE 'Emp//First Name')
          ,emp.last_name   (TITLE 'Emp//Last Name')
          ,mgr.first_name  (TITLE 'Mgr//First Name')
          ,mgr.last_name   (TITLE 'Mgr//Last Name')
  FROM    employee     emp     INNER JOIN
          employee     mgr
  ON      emp.manager_employee_number   =   mgr.employee_number
  WHERE   emp.last_name  =  'Brown';</B>
</PRE></FONT>
      <P class=TitleResult>Result</P>
      <TABLE cellSpacing=0 cellPadding=2 width="90%" border=0>
        <TBODY>
        <TR borderColor=#cccccc>
          <TD>
            <P><STRONG>Emp<BR><U>First Name</U></STRONG></P></TD>
          <TD>
            <P><STRONG>Emp<BR><U>Last Name</U></STRONG></P></TD>
          <TD>
            <P><STRONG>Mgr<BR><U>First Name</U></STRONG></P></TD>
          <TD>
            <P><STRONG>Mgr<BR><U>Last Name</U></STRONG></P></TD></TR>
        <TR borderColor=#cccccc>
          <TD>Allen</TD>
          <TD>Brown</TD>
          <TD>Loretta</TD>
          <TD>Ryan</TD></TR>
        <TR borderColor=#cccccc>
          <TD>Alan</TD>
          <TD>Brown</TD>
          <TD>James</TD>
          <TD>Trader</TD></TR></TBODY></TABLE>
      <P>Would the results differ if the last condition was: </P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>    <STRONG>WHERE   employee.last_name = 'Brown' ? </STRONG>
</PRE></FONT>
      <UL>
        <LI>Next time you log on for Lab, try it and see. 
  </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Determining Whether to Use Subquery 
or Join</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Determining Whether to Use Subquery or Join</H2> -->
      <P>A Subquery qualifies which rows selected in the main query will be in 
      the answer set. Data selected in the subquery will not be included in the 
      answer set.</P>
      <P align=center><IMG height=181 alt="sql1001.GIF - 2895 Bytes" 
      src="Teradata SQL Introduction_files/sql1001.gif" width=180 border=0></P>
      <P>A Join qualifies which rows from two or more tables will be matched to 
      create rows of an answer set. The answer set can include data from one or 
      more of the joined tables.</P>
      <P align=center><IMG height=181 alt="sql1002.GIF - 2734 Bytes" 
      src="Teradata SQL Introduction_files/sql1002.gif" width=180 border=0></P>
      <P>List the first name, last name and department number of all employees 
      who work in research departments.</P>
      <H4>Using a JOIN</H4><FONT face="courier New, Courier" color=#660066 
      size=3><PRE>  <B>SELECT   employee.first_name
           ,employee.last_name
           ,employee.department_number
  FROM     employee  INNER JOIN
           department
  ON       employee.department_number = department.department_number
  WHERE    department.department_name LIKE '%Research%';</B>
</PRE></FONT>
      <H4>Using a SUBQUERY</H4><FONT face="courier New, Courier" color=#660066 
      size=3><PRE>  <B>SELECT    first_name
            ,last_name
            ,department_number
  FROM      employee
  WHERE     department_number IN
            (<B>SELECT</B> department_number FROM department
            WHERE department_name LIKE '%Research%');</B>
</PRE></FONT>
      <P class=TitleResult>Result</P>
      <TABLE cellSpacing=0 cellPadding=2 width="80%" border=0>
        <TBODY>
        <TR>
          <TD><STRONG>first_name</STRONG><BR>------------</TD>
          <TD><STRONG>last_name</STRONG><BR>-----------</TD>
          <TD><STRONG>department_number</STRONG><BR>---------------------</TD></TR>
        <TR>
          <TD>Carol</TD>
          <TD>Kanieski</TD>
          <TD>301</TD></TR>
        <TR>
          <TD>John</TD>
          <TD>Stein</TD>
          <TD>301</TD></TR>
        <TR>
          <TD>Ron</TD>
          <TD>Kubic</TD>
          <TD>301</TD></TR></TBODY></TABLE>
      <P>Note that in some cases, either a join or a subquery may be used to 
      produce the same result.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Use EXPLAIN to Understand a 
Join</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Use EXPLAIN to Understand a Join</H2> -->
      <P>Use <FONT face="courier New, Courier" size=-1><STRONG>EXPLAIN</STRONG> 
      </FONT>to see how the database will execute your query. <FONT 
      face="courier New, Courier" size=-1><STRONG>EXPLAIN</STRONG> </FONT>is 
      especially useful for checking to see that you are not creating an 
      unintended Cartesian product.</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>EXPLAIN	
  SELECT    employee.first_name
            ,employee.last_name
            ,employee.department_number
  FROM      employee INNER JOIN
            department
  ON        employee.department_number  = department.department_number
  WHERE     department.department_name LIKE '%Research%';</B>
</PRE></FONT>
      <P><U><B>Explanation</B></U></P>
      <OL>
        <LI>First, we lock a distinct <FONT face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE."pseudo table"</STRONG></FONT> for read 
        on a RowHash to prevent global deadlock for <FONT 
        face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE.employee</STRONG></FONT>. 
        <LI>Next, we lock a distinct <FONT face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE."pseudo table"</STRONG> </FONT>for read 
        on a RowHash to prevent global deadlock for <FONT 
        face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE.department</STRONG></FONT>. 
        <LI>We lock <FONT face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE.employee</STRONG></FONT> for read, and 
        we lock <FONT face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE.department</STRONG></FONT> for read. 
        <LI>We do an <FONT face="courier New, Courier" size=-1><STRONG>all-AMPs 
        RETRIEVE</STRONG></FONT> step from <FONT face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE.employee</STRONG></FONT> by way of an 
        all-rows scan with no residual conditions into Spool 2, which is 
        redistributed by hash code to all <FONT face="courier New, Courier" 
        size=-1><STRONG>AMPs</STRONG></FONT>. Then we do a <FONT 
        face="courier New, Courier" size=-1><STRONG>SORT</STRONG></FONT> to 
        order Spool 2 by row hash. The size of Spool 2 is estimated with low 
        confidence to be 24 rows. The estimated time for this step is 0.05 
        seconds. 
        <LI>We do an <FONT face="courier New, Courier" size=-1><STRONG>all-AMPs 
        JOIN</STRONG></FONT> step from Spool 2 (Last Use) by way of an all-rows 
        scan, which is joined to <FONT face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE.departmen</STRONG>t</FONT> with a 
        condition of (-1 ). Spool 2 and <FONT face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE.department</STRONG></FONT> are joined 
        using a merge join, with a join condition of (<FONT 
        face="courier New, Courier" 
        size=-1><STRONG>"Spool_2.department_number=CUSTOMER_SERVICE.department.department_number"</STRONG></FONT>). 
        The result goes into Spool 1, which is built locally on the <FONT 
        face="courier New, Courier" size=-1><STRONG>AMPs</STRONG></FONT>. The 
        size of Spool 1 is estimated with no confidence to be 24 rows. The 
        estimated time for this step is 0.18 seconds. 
        <LI>Finally, we send out an <FONT face="courier New, Courier" 
        size=-1><STRONG>END TRANSACTION</STRONG></FONT> step to all <FONT 
        face="courier New, Courier" size=-1><STRONG>AMPs</STRONG> 
        </FONT>involved in processing the request. -&gt; The contents of Spool 1 
        are sent back to the user as the result of statement 1. The total 
        estimated time is 0 hours and 0.23 seconds. 
</LI></OL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>EXPLAIN a Subquery</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>EXPLAIN a Subquery</H2> -->
      <P>You can also use <FONT face="courier New, Courier" 
      size=-1><STRONG>EXPLAIN</STRONG></FONT> against your subqueries.</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <B>EXPLAIN
  SELECT    first_name
            ,last_name
            ,department_number
  FROM      employee
  WHERE     department_number IN
                     (<B>SELECT</B> department_number
                     FROM	department
                     WHERE department_name LIKE '%Research%');</B>
</PRE></FONT>
      <P><U><B>Explanation</B></U></P>
      <OL>
        <LI>First, we lock a distinct <FONT face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE."pseudo table"</STRONG></FONT> for read 
        on a RowHash to prevent global deadlock for <FONT 
        face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE.employee</STRONG></FONT>. </B>
        <LI>Next, we lock a distinct <FONT face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE."pseudo table"</STRONG></FONT> for read 
        on a RowHash to prevent global deadlock for <FONT 
        face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE.department</STRONG></FONT>. 
        <LI>We lock <FONT face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE.employee</STRONG></FONT> for read and 
        lock <FONT face="Courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE</STRONG></FONT>.department for read. 
        <LI>We do an <FONT face="courier New, Courier" size=-1><STRONG>all-AMPs 
        RETRIEVE</STRONG></FONT> step from <FONT face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE.employee</STRONG></FONT> by way of an 
        all-rows scan with no residual conditions into Spool 2, which is 
        redistributed by hash code to all <FONT face="courier New, Courier" 
        size=-1>AMPs</FONT>. Then we do a <STRONG><FONT 
        face="Courier New, Courier" size=-1>SORT</FONT></STRONG> to order Spool 
        2 by row hash. The size of Spool 2 is estimated with low confidence. The 
        estimated time for this step is 0.03 seconds. 
        <LI>We do an <FONT face="courier New, Courier" size=-1><STRONG>all-AMPs 
        JOIN</STRONG></FONT> step from Spool 2 (Last Use) by way of an all-rows 
        scan, which is joined to <FONT face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE.department</STRONG></FONT> with a 
        condition of (<FONT face="courier New, Courier" 
        size=-1><STRONG>"CUSTOMER_SERVICE.department.department_name LIKE 
        '%Research%'"</STRONG></FONT>). Spool 2 and <FONT 
        face="courier New, Courier" 
        size=-1><STRONG>CUSTOMER_SERVICE.department</STRONG></FONT> are joined 
        using an inclusion merge join, with a join condition of (<FONT 
        face="courier New, Courier" 
        size=-1><STRONG>"Spool_2.department_number=CUSTOMER_SERVICE.department.department_number"</STRONG></FONT>). 
        The result goes into Spool 1, which is built locally on the <FONT 
        face="courier New, Courier" size=-1>AMPs</FONT>. The size of Spool 1 is 
        estimated with index join confidence to be 22 to 24 rows. Estimated time 
        for this step is to 0.21 seconds. The contents of Spool 1 are sent back 
        to the user as the result of statement 1. The total estimated time is 0 
        hours and 0.23 seconds. </LI></OL>
      <P><B>Question</B></P>
      <P>The query on this page and the one from the Join on the previous page 
      produce equivalent results. How could you compare their expected 
      performance on the system?</P>
      <P>One way is to compare some of the basic characteristics divulged by the 
      <FONT face="courier New, Courier" size=-1><STRONG>EXPLAIN</STRONG> 
      </FONT>.The Join query took six steps and estimated that it would return 
      24 rows and take approximately 0.23 seconds to complete.</P>
      <P>In comparison, the Subquery took five steps, estimated that it would 
      return 28 rows and take approximately 0.24 seconds to complete.</P>
      <P>The two implementations of this query are roughly equivalent from a 
      performance standpoint.</P><!-- <p align="center"><img src="9InnerJoin/../z-line.gif" width="20" height="8" border="0"> <b><a href="./images/labs/wbt-inner_join_lab.shtm">Lab</a></b> <img src="9InnerJoin/../z-line.gif" width="20" height="2" border="0"></p> --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK href="./././sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>LAB</H2> -->
      <TABLE cellSpacing=0 cellPadding=10 width="100%" border=0>
        <TBODY>
        <TR>
          <TD vAlign=top width=106><B><FONT size=-1><A name=LAB>Try 
            It!</A></FONT></B></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc>
            <P>For this set of lab questions you will need information from the 
            &nbsp; <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1>Database Info document.</A></P>
            <P>To start the online labs, click on the Telnet button in the lower 
            left hand screen of the course. Two windows will pop-up: a BTEQ 
            Instruction Screen and your Telnet Window. Sometimes the BTEQ 
            Instructions get hidden behind the Telnet Window. You will need 
            these instructions to log on to Teradata.</P><B>Be sure to change 
            your default database to the Customer_Service database in order to 
            run these labs.</B> 
            <P>Click on the buttons to the left to see the answers.</P></TD></TR>
        <TR>
          <TD vAlign=top width=106><FONT size=-1>Answers:<BR><A 
            onclick="AnswerWindow('Mod10L01.htm',600,500,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab A</FONT> <BR><A 
            onclick="AnswerWindow('Mod10L02.htm',600,500,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab B</FONT> <BR><A 
            onclick="AnswerWindow('Mod10L03.htm',670,500,circbut03)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut03 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab C</FONT> <BR><A 
            onclick="AnswerWindow('Mod10L04.htm',450,400,circbut04)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut04 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab D</FONT> <BR><A 
            onclick="AnswerWindow('Mod10L05.htm',640,660,circbut05)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut05 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab E</FONT> </FONT></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc>
            <P>
            <OL type=A>
              <LI>List the employee number, last name, salary, and job 
              description of all employees except the President. (The President 
              is the only employee assigned to Department 100.) Format last name 
              as 9 characters and description as 20 characters. Sort by employee 
              number within job description. 
              <P></P>
              <LI>Modify Lab D from Module 8 to use a join instead of the 
              subquery to select information about California customers. <FONT 
              face="courier New, Courier" size=-1><B>EXPLAIN </B></FONT>the 
              request and note the total estimated time. Compare with the total 
              estimated time from Lab D in Module 9. Which is more efficient: 
              the join or the subquery? 
              <P></P>
              <LI>Produce a report showing employee number, department number 
              and managers last name for all employees hired before Jan 1, 
              1978. Sort by department number. 
              <P></P>
              <LI>Do an <FONT face="courier New, Courier" 
              size=-1><B>EXPLAIN</B></FONT> statement using <FONT 
              face="courier New, Courier" size=-1><B>CROSS JOIN</B></FONT> on 
              the employee and job tables. Select job code, job description and 
              employee last name. 
              <P></P>
              <LI>Management has a request. They need the last name, department 
              name, job description, and phone number of all employees in the 
              213 area code with job code 412101. Use table name aliases for 
              your joins. Order by last name. 
              <P>You might want to use <FONT face="courier New, Courier" 
              size=-1><B>EXPLAIN </B></FONT>with this exercise, to see what 
              processing takes place.</P>
              <P><B>Note:</B> Check your quick reference page to be sure you are 
              accessing the correct 
      tables.</P></LI></OL></FONT></TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;Outer 
      Joins</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><LINK href="../sqlstyle.css" 
type=text/css rel=stylesheet><FONT face=Verdana size=3><B>Outer Joins</B></FONT> 

<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H4>Objectives</H4> -->
      <P>Click on the link below to view the presentation on<B> Outer Joins</B>. 
      </P>
      <P><B>PPlease Note:</B> This is a narrated presentation. You may control 
      the pacing of this module by using the <B>Pause button</B> as well as 
      other buttons available on the screen duing the presentation.</P>
      <P align=center><A 
      href="http://www.ncru.courses.ncr.com/learning/td/SQL_MediaFiles/outerjoins.htm" 
      target=_blank>Start Presentation</A></P>
      <P>After viewing the presentation, return to this window and continue to 
      the next lab activity.</P>
      <P>&nbsp;</P>
      <P>&nbsp;</P><!-- 
<p align="center"><img src="10OuterJoin/../z-line.gif" width="20" height="2" border="0"> <b><a href="./images/labs/wbt-outer_join_lab.shtm">Lab</a></b> <img src="10OuterJoin/../z-line.gif" width="20" height="2" border="0"></p> --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK href="./././sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>
      <TABLE cellSpacing=0 cellPadding=8 width="100%" bgColor=#ffffcc 
        border=0><TBODY>
        <TR>
          <TD vAlign=top width="20%" bgColor=#ffffcc><B><FONT size=-1><A 
            name=LAB>Try It!</A></FONT></B> </TD>
          <TD vAlign=top width="80%" bgColor=#ffffcc><!-- <H2>LAB</H2> -->
            <P>For this set of lab questions you will need information from the 
            <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1>Database Info document.</A> </P>
            <P>To start the online labs, click on the Telnet button in the lower 
            left hand screen of the course. Two windows will pop-up: a BTEQ 
            Instruction Screen and your Telnet Window. Sometimes the BTEQ 
            Instructions get hidden behind the Telnet Window. You will need 
            these instructions to log on to Teradata. </P>
            <P><B>Be sure to change your default database to the 
            Customer_Service database in order to run these labs.</B> </P>
            <P>Click on the buttons to the left to see the 
        answers.</P></FONT></TD></TR>
        <TR>
          <TD vAlign=top width=106><FONT size=-1>Answers:<BR><A 
            onclick="AnswerWindow('Mod11L01.htm',650,630,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            A<BR><A onclick="AnswerWindow('Mod11L02.htm',650,630,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            B<BR><A onclick="AnswerWindow('Mod11L03.htm',650,630,circbut03)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut03 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            C<BR><A onclick="AnswerWindow('Mod11L04.htm',650,630,circbut04)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut04 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            D </FONT></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc>
            <OL type=A>
              <LI>List the last name, job code and job description of all 
              employees. Cast last name as 9 characters, and job description as 
              20 characters. Sort by last name. Also, include employees who have 
              an invalid or null job_codes. Use outer join syntax to accomplish 
              this. 
              <P></P>
              <LI>Show the last name, job description and department name of all 
              employees with valid departments and valid job codes. Order by 
              last name. Format last name as 9 characters, job description as 20 
              characters and the department name as 13 characters. 
              <P></P>
              <LI>Modify exercise B to include employees with valid departments 
              but without valid job codes. 
              <P></P>
              <LI>Modify exercise B to include unassigned job codes. 
            </LI></OL></FONT></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;Set 
      Operations</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><LINK href="../sqlstyle.css" 
type=text/css rel=stylesheet><FONT face=Verdana size=3><B>Objectives</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>After completing this module, you should be able to:</P>
      <UL>
        <LI>Use the <FONT face="Courier New, Courier, mono" 
        size=-1><B>UNION</B></FONT> operator. 
        <LI>Use the <FONT face="Courier New, Courier, mono" 
        size=-1><B>INTERSECT</B></FONT> operator.</FONT> 
        <LI>Use the <FONT face="Courier New, Courier, mono" 
        size=-1><B>EXCEPT</B></FONT>operator. </LI></UL></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Set Operators</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Set Operators</H2> -->The following are graphic 
      representations of the three set operators, <FONT 
      face="courier New, Courier" size=-1><B>INTERSECT, UNION</B></FONT> and 
      <FONT face="courier New, Courier" size=-1><B>EXCEPT</B></FONT>. All are 
      ANSI-compliant operators. 
      <P align=center><IMG height=72 
      src="Teradata SQL Introduction_files/intersect.gif" 
      width=120><BR>INTERSECT</P>
      <P>The <FONT face="courier New, Courier" size=-1><B>INTERSECT</B></FONT> 
      operator returns rows from multiple sets which share some criteria in 
      common.</P>
      <P align=center><IMG height=72 
      src="Teradata SQL Introduction_files/union.gif" width=120><BR>UNION </P>
      <P>The <FONT face="courier New, Courier" size=-1><B>UNION</B></FONT> 
      operator returns all rows from multiple sets, displaying duplicate rows 
      only once.</P>
      <P align=center><IMG height=72 
      src="Teradata SQL Introduction_files/except.gif" width=120><BR>EXCEPT </P>
      <P>The <FONT face="courier New, Courier" size=-1><B>EXCEPT 
      </B></FONT>operator subtracts the contents of one set from the contents of 
      another.</P>
      <P><B>Note:</B> Using the Teradata keyword <FONT 
      face="Courier New, Courier, mono" size=-1><B>ALL</B></FONT> in conjuction 
      with the <FONT face="courier New, Courier" size=-1><B>UNION</B></FONT> 
      operator allows duplicate rows to remain in the result 
  set.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>UNION Operator</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>UNION Operator</H2> -->
      <P align=center><IMG height=72 
      src="Teradata SQL Introduction_files/union.gif" width=120 border=0></P>
      <P>Before the introduction of the <FONT face="courier New, Courier" 
      size=-1><B>OUTER JOIN</B></FONT> feature, <FONT 
      face="Courier New, Courier, mono" size=-1>The <B>UNION</B></FONT> operator 
      provides functionality similar to the <FONT face="courier New, Courier" 
      size=-1><B>OUTER JOIN</B></FONT> feature. <FONT 
      face="Courier New, Courier, mono" size=-1><B>UNION</B></FONT> is still a 
      viable feature, however. Here are some rules for its usage: </P>
      <P>All<FONT face="Courier New, Courier, mono" size=-1><B> 
      SELECT</B></FONT> clauses: </P>
      <UL>
        <LI>Must have the same number of expressions. 
        <LI>Corresponding expressions must have compatible data types. </LI></UL>
      <P>The first <FONT face="Courier New, Courier, mono" 
      size=-1><B>SELECT</B></FONT> statement: </P>
      <UL>
        <LI>Determines output <FONT face="Courier New, Courier, mono" 
        size=-1><B>FORMAT</B></FONT>. 
        <LI>Determines output <FONT face="Courier New, Courier, mono" 
        size=-1><B>TITLE</B></FONT>. </LI></UL>
      <P>The last <FONT face="Courier New, Courier, mono" 
      size=-1><B>SELECT</B></FONT> statement:</P>
      <UL>
        <LI>Contains the <FONT face="Courier New, Courier, mono" 
        size=-1><B>ORDER BY</B></FONT> clause for the entire result when 
        applicable. 
        <LI>Uses numeric designators for the <FONT 
        face="Courier New, Courier, mono" size=-1><B>ORDER BY</B></FONT> 
        columns. </LI></UL>
      <H4 class=TitleProblem>Problem</H4>
      <P>Show manager 1019 identifying him as the manager, show his employees 
      and identify each of them as an employee.</P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>
   SELECT        first_name
                 ,last_name
                 ,'employee' (TITLE 'employee//type')
   FROM     employee
   WHERE    manager_employee_number = 1019
   UNION
   SELECT        first_name
                 ,last_name
                 ,' manager '
   FROM     employee
   WHERE    employee_number = 1019
   ORDER BY 2
   ;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4><FONT face="courier New, Courier" size=3><PRE>				<B>employee</B>
<U><B>first_name</B></U>	<U><B>last_name</B></U>	<U><B>type&nbsp;&nbsp;&nbsp;&nbsp;</B></U>	        
Carol		Kanieski	employee
Ron		Kubic		manager
John		Stein		employee
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>INTERSECT Operator</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>INTERSECT Operator</H2> --><!-- <P ALIGN="center"><IMG SRC="11SetOper/file:///C|/COURSES/SQL/Devzone%20Files/Level_2/mod06/intersect.gif" WIDTH="120" HEIGHT="72"></P> -->
      <P align=center><IMG height=72 
      src="Teradata SQL Introduction_files/intersect.gif" width=120 
border=0></P>
      <H4 class=TitleProblem>Problem</H4>
      <P>Create a list of all department managers who are assigned subordinate 
      employees. Note that not all department managers have subordinates and not 
      all managers with subordinates are department managers.</P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B> SELECT     manager_employee_number
   FROM       employee
   INTERSECT
   SELECT     manager_employee_number
   FROM       department
   ORDER BY 1
   ;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4><FONT face="Courier New, Courier, mono" 
      size=3><PRE><U><B>manager_employee_number</B></U>
		801
		1003
		1005
		1011
		1017
		1019
		1025
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>EXCEPT Operator</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>EXCEPT Operator</H2> -->
      <P align=center><IMG height=72 
      src="Teradata SQL Introduction_files/except.gif" width=120></P>
      <P>The <FONT face="Courier New, Courier, mono" 
      size=-1><B>EXCEPT</B></FONT> operator is ANSI intermediate compliant. It 
      will be flagged as non-entry level by the SQL flagger:</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>*** SQL warning 5811  MINUS of queries is not in entry level ANSI.</B>
</PRE></FONT>
      <P>This flagged message refers to "<FONT face="Courier New, Courier, mono" 
      size=-1><B>MINUS</B></FONT>" because the Teradata-compatible synonym for 
      <FONT face="Courier New, Courier, mono" size=-1><B>EXCEPT</B></FONT> is 
      <FONT face="Courier New, Courier, mono" size=-1><B>MINUS</B></FONT>. Use 
      the <FONT face="Courier New, Courier, mono" size=-1><B>EXCEPT</B></FONT> 
      operator rather than <FONT face="Courier New, Courier, mono" 
      size=-1><B>MINUS</B></FONT> because although both provide the same 
      functionality, <FONT face="Courier New, Courier, mono" 
      size=-1><B>EXCEPT</B></FONT> is ANSI compliant.</P>
      <H4 class=TitleProblem>Problem</H4>
      <P>To list all department managers who do not have subordinates.</P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>SELECT   manager_employee_number
  FROM     department
  EXCEPT
  SELECT   manager_employee_number
  FROM     employee
  ORDER BY 1
  ;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4>
      <TABLE cellPadding=0 width="28%" border=0>
        <TBODY>
        <TR>
          <TD><FONT face="Courier New, Courier, mono" 
            size=-1><U><B>manager_employee_number</B></U></FONT></TD></TR>
        <TR>
          <TD>
            <DIV align=right>1016</DIV></TD></TR>
        <TR>
          <TD>
            <DIV 
align=right>1099</DIV></TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>SET Operators - Additional 
Rules</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>SET Operators -- Additional Rules</H2> -->
      <P>Set operators may be used in most SQL constructs but cannot contain a 
      <FONT face="Courier New, Courier, mono" size=-1><B>WITH</B></FONT> or 
      <FONT face="Courier New, Courier, mono" size=-1><B>WITH...BY</B></FONT> 
      clause. Set operators are evaluated in order of precedence, as 
follows:</P>
      <UL>
        <LI><FONT face="Courier New, Courier, mono" 
        size=-1><B>INTERSECT</B></FONT> 
        <LI><FONT face="Courier New, Courier, mono" size=-1><B>UNION</B></FONT> 
        <LI><FONT face="Courier New, Courier, mono" size=-1><B>EXCEPT</B></FONT> 
        from left to right </LI></UL>
      <P>Evaluation order may be manipulated with parentheses.</P>
      <UL>
        <LI>Each <FONT face="courier New, Courier" size=-1><B>SELECT</B></FONT> 
        statement must have a <FONT face="courier New, Courier" 
        size=-1><B>FROM</B></FONT> table_name. 
        <LI>The <FONT face="courier New, Courier" size=-1><B>GROUP BY</B></FONT> 
        clause does not apply to the result set as a whole. 
        <LI>Duplicates are eliminated unless the <FONT 
        face="courier New, Courier" size=-1><B>ALL</B></FONT> option is used. 
        </LI></UL><!-- <p align="center"><img src="11SetOper/../z-line.gif" width="20" height="2" border="0"> <b><a href="./images/labs/wbt-set_ops_lab.shtm">Lab</a></b> <img src="11SetOper/../z-line.gif" width="20" height="2" border="0"></p>
 --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK href="./././sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>
      <TABLE cellSpacing=0 cellPadding=8 width="100%" bgColor=#ffffcc 
        border=0><TBODY>
        <TR>
          <TD vAlign=top width="20%" bgColor=#ffffcc><B><FONT size=-1><A 
            name=LAB>Try It!</A></FONT></B> </TD>
          <TD vAlign=top width="80%" bgColor=#ffffcc><!-- <H2>LAB</H2> -->
            <P>For this set of lab questions you will need information from the 
            <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1>Database Info document.</A> </P>
            <P>To start the online labs, click on the Telnet button in the lower 
            left hand screen of the course. Two windows will pop-up: a BTEQ 
            Instruction Screen and your Telnet Window.</P>
            <P>Sometimes the BTEQ Instructions get hidden behind the Telnet 
            Window. You will need these instructions to log on to Teradata.</P>
            <P><B>Be sure to change your default database to the 
            Customer_Service database in order to run these labs.</B></P>
            <P>Click on the buttons to the left to see the answers. 
          </P></FONT></TD></TR>
        <TR>
          <TD vAlign=top width=106><FONT size=-1>Answers:<BR><A 
            onclick="AnswerWindow('Mod18L01.htm',600,420,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            A<BR><A onclick="AnswerWindow('Mod18L02.htm',600,420,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            B<BR><A onclick="AnswerWindow('Mod18L03.htm',600,500,circbut03)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut03 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            C </FONT></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc>
            <P>
            <OL type=A>
              <LI>Use the <FONT face="Courier New, Courier" size=-1><B>UNION 
              </B></FONT>operator to generate a complete list of all phone 
              numbers belonging to a location or to an employee in the 415 area 
              code. Designate a category to which each row belongs. Entitle this 
              literal column "owner". Sort the report by phone number. Hyphenate 
              all phone numbers. 
              <P></P>
              <LI>Find the valid employee numbers for department level managers. 
              You will be doing a referential integrity check between department 
              and employee tables. Accomplish this using a subquery, then again 
              using the <FONT face="Courier New, Courier" size=-1><B>INTERSECT 
              </B></FONT>operator. Use <FONT face="Courier New, Courier" 
              size=-1><B>EXPLAIN </B></FONT>to compare efficiency and 
              optimization choices. Which is better? 
              <P></P>
              <LI>Produce a list of all job codes which are currently assigned 
              to employees but which are invalid. Title the column <FONT 
              face="courier New, Courier" size=-1><B>'INVALID JOB 
              CODES'</B></FONT> and use the <FONT face="courier New, Courier" 
              size=-1><B>EXCEPT </B></FONT>operator to solve the problem. 
              </FONT></LI></OL></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;Creating Tables 
      and Indexes</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><FONT face=Verdana 
size=3><B>Objectives</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>After completing this module, you should be able to:</P>
      <UL>
        <LI><FONT face="Courier New, Courier, mono" size=-1><B>CREATE, DROP,</B> 
        or <B>ALTER</B></FONT> a table. 
        <LI><FONT face="Courier New, Courier, mono" size=-1><B>CREATE, DROP,</B> 
        or <B>ALTER</B></FONT> an index. 
        <LI><FONT face="Courier New, Courier, mono" size=-1><B>CREATE, DROP,</B> 
        or <B>ALTER</B></FONT> table attributes. 
</LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Data Definition Language</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Data Definition Language</H2> -->
      <P>Data Definition Language (DDL) is used by SQL to create, modify, and 
      remove object definitions:</P>
      <P>The Teradata Database implements separate DDL statements for different 
      objects.</P>
      <TABLE cellPadding=4 width="70%" align=center border=1>
        <TBODY>
        <TR>
          <TD width="35%">
            <CENTER>Object: </CENTER></TD>
          <TD width="65%">
            <CENTER>DDL Statements: </CENTER></TD></TR>
        <TR>
          <TD vAlign=top>Databases</TD>
          <TD><FONT face="Courier New, Courier" size=-1>CREATE 
            DATABASE<BR>MODIFY DATABASE<BR>DROP DATABASE</FONT></TD></TR>
        <TR>
          <TD vAlign=top>Users</TD>
          <TD><FONT face="Courier New, Courier" size=-1>CREATE USER<BR>MODIFY 
            USER<BR>DROP USER</FONT></TD></TR>
        <TR>
          <TD vAlign=top>Tables</TD>
          <TD><FONT face="Courier New, Courier" size=-1>CREATE TABLE<BR>ALTER 
            TABLE<BR>DROP TABLE</FONT></TD></TR>
        <TR>
          <TD vAlign=top>Views</TD>
          <TD><FONT face="Courier New, Courier" size=-1>CREATE VIEW<BR>REPLACE 
            VIEW<BR>DROP VIEW</FONT></TD></TR>
        <TR>
          <TD vAlign=top>Macros</TD>
          <TD><FONT face="Courier New, Courier" size=-1>CREATE 
            MACRO<BR>REPLACE MACRO<BR>DROP MACRO</FONT></TD></TR>
        <TR>
          <TD vAlign=top>Indexes</TD>
          <TD><FONT face="Courier New, Courier" size=-1>CREATE INDEX<BR>DROP 
            INDEX</FONT></TD></TR>
        <TR>
          <TD vAlign=top height=45>Join Indexes</TD>
          <TD height=45>
            <P><FONT face="Courier New, Courier" size=-1>CREATE JOIN 
            INDEX</FONT><BR><FONT face="Courier New, Courier, mono" size=-1>DROP 
            JOIN INDEX</FONT></P></TD></TR>
        <TR>
          <TD vAlign=top>Triggers</TD>
          <TD><FONT face="Courier New, Courier" size=-1>CREATE 
            TRIGGER<BR>ALTER TRIGGER<BR>DROP TRIGGER</FONT></TD></TR>
        <TR>
          <TD vAlign=top>Stored Procedures</TD>
          <TD>
            <P><FONT face="Courier New, Courier" size=-1>CREATE 
            PROCEDURE<BR>REPLACE PROCEDURE</FONT><FONT 
            face="Courier New, Courier" size=-1><BR>DROP 
        PROCEDURE</FONT></P></TD></TR></TBODY></TABLE>
      <P>In this module we will look at creating tables and indexes 
      only.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>CREATE TABLE Elements</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>CREATE TABLE Elements</H2> -->
      <P>When executed, the <FONT face="Courier New, Courier" size=-1><B>CREATE 
      TABLE</B></FONT> statement creates and stores the table structure 
      definition in the Data Dictionary (DD).</P>
      <P>The <FONT face="Courier New, Courier" size=-1><B>CREATE 
      TABLE</B></FONT> statement allows you to create:</P>
      <UL>
        <LI><FONT face="Courier New, Courier" size=-1><B>TABLE</B></FONT> 
        options. 
        <LI><FONT face="Courier New, Courier" size=-1><B>COLUMN</B></FONT> 
        definitions. 
        <LI><FONT face="Courier New, Courier" size=-1><B>TABLE </B></FONT>level 
        constraints. 
        <LI><FONT face="Courier New, Courier" size=-1><B>INDEX</B></FONT> 
        definitions. </LI></UL>
      <P><B>Note:</B> We cover Table level constraints in the Advanced SQL 
      course. Our discussion here will focus on table options, column 
      definitions, and index definitions. </P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>CREATE &lt;SET/MULTISET&gt; TABLE employee
  &lt;Create Table Options&gt;
  &lt;Column Definitions&gt;
  &lt;Index Definitions&gt;;</B>
</PRE></FONT><!-- <TABLE BORDER="0" WIDTH="100%" CELLPADDING="4">
<TR><TD><font face="courier New, Courier" size="-1">CREATE &lt;SET/MULTISET&gt; TABLE employee<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Create Table Options&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Column Definitions&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Index Definitions&gt;;</FONT></TD>
</TR>
</TABLE> -->
      <TABLE cellPadding=5 width=100 align=center border=1>
        <TBODY>
        <TR>
          <TH>Element</TH>
          <TH>Definition</TH></TR>
        <TR>
          <TD vAlign=top noWrap>Create Table Options</TD>
          <TD noWrap>Specify physical attributes of table to include:<BR>
            <UL>
              <LI>Fallback. 
              <LI>Journaling.</LI></UL></TD></TR>
        <TR>
          <TD vAlign=top>Column Definitions</TD>
          <TD>Define each column in the table.</TD></TR>
        <TR>
          <TD vAlign=top>Index Definitions</TD>
          <TD>Specify indexes for physical access to data.</TD></TR></TBODY></TABLE><!-- <BR>
</TD>
</TR>
</TABLE>
 --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>CREATE TABLE Options</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!--<H2><A NAME="2"></A>CREATE TABLE Options</H2> -->
      <H4>Teradata Extensions</H4>
      <P>Teradata DDL allows you to specify physical implementation options such 
      as fallback and permanent journal protection, datablocksize, and cylinder 
      freespace factor. You may define a primary index (different than the 
      primary key) as well as secondary indexes to improve physical access to 
      data in the table. </P>
      <TABLE cellPadding=4 width="100%" border=1>
        <TBODY>
        <TR>
          <TD>Duplicate row options<BR>&nbsp;&nbsp;&nbsp;-&nbsp;<B>&nbsp;<FONT 
            face="Courier New, Courier" size=-1>SET</FONT> 
            </B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no duplicate rows 
            allowed (Default)<BR>&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;<FONT 
            face="Courier New, Courier" size=-1><B>MULTISET</B></FONT>&nbsp; 
            duplicate rows allowed<BR>
            <P>Table protection options (Underlines indicate 
            defaults)<BR>&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;<FONT 
            face="Courier New, Courier" size=-1><B>FALLBACK</B></FONT> or <FONT 
            face="Courier New, Courier" size=-1><U><B>NO FALLBACK</B></U><B> 
            PROTECTION</B></FONT><BR>&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;<FONT 
            face="Courier New, Courier" size=-1><B>BEFORE JOURNAL 
            (<U>NO</U></B></FONT><B>, <FONT face="Courier New, Courier" 
            size=-1>SINGLE </FONT></B><FONT face="Courier New, Courier" 
            size=-1>or</FONT><B><FONT face="Courier New, Courier" size=-1> 
            DUAL</FONT>)</B><BR>&nbsp;&nbsp;&nbsp;-&nbsp;<B>&nbsp;<FONT 
            face="Courier New, Courier" size=-1>AFTER JOURNAL (<U>NO</U></FONT>, 
            <FONT face="Courier New, Courier" size=-1>SINGLE (LOCAL</FONT></B> 
            or <FONT face="Courier New, Courier" size=-1><B>NOT 
            LOCAL</B></FONT>) or <FONT face="Courier New, Courier" 
            size=-1><B>DUAL</B></FONT><B>)</B><BR>&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;<FONT 
            face="Courier New, Courier" size=-1><B>WITH JOURNAL TABLE 
            </B>(tablename)</FONT> </P></TD></TR></TBODY></TABLE>
      <P><FONT face="Courier New, Courier" size=-1><B>FALLBACK</B></FONT> 
      specifies that the system builds a duplicate copy of each row of the table 
      and stores it on a different (<FONT face="Courier New, Courier" 
      size=-1><B>FALLBACK</B></FONT>) <FONT face="Courier New, Courier" 
      size=-1>AMP</FONT> within the cluster.</P>
      <P><FONT face="Courier New, Courier" size=-1><B>JOURNAL</B></FONT> 
      specifies that the system stores <FONT face="Courier New, Courier" 
      size=-1><B>BEFORE</B> </FONT>and /or <FONT face="Courier New, Courier" 
      size=-1><B>AFTER</B></FONT> images for each changed row of the table in 
      the specified permanent journal, providing disaster recovery 
      capability.</P>
      <TABLE cellPadding=4 width="100%" border=1>
        <TBODY>
        <TR vAlign=top>
          <TD height=104>
            <P>Space Management Options (Defaults are provided if not specified) 
            </P>
            <UL>
              <LI><B><FONT face="Courier New, Courier" size=-1>FREESPACE</FONT> 
              </B>-&nbsp;% cylinder freespace to maintain during loading 
              operation 
              <LI><B><FONT face="Courier New, Courier" 
              size=-1>DATABLOCKSIZE</FONT></B> -&nbsp;maximum block size for 
              multi-row data blocks </LI></UL></TD></TR></TBODY></TABLE>
      <P class=TitleExample>Example</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>CREATE TABLE table_1
  ,FALLBACK, NO JOURNAL        
  (field1 INTEGER
  , field2 CHAR(10)
  , field3 DEC(8,2))
  ;</B>
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>COLUMN Definitions</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="1"></A>COLUMN Definitions</H2> -->
      <P>Up to 2,048 columns may be defined in a single <FONT 
      face="Courier New, Courier" size=-1><B>CREATE TABLE</B></FONT> 
      statement.</P>
      <P>You may define the following aspects of each column:</P>
      <TABLE cellPadding=4 width="100%" border=1>
        <TBODY>
        <TR>
          <TD vAlign=top width=150><B><FONT size=4>Aspect</FONT></B></TD>
          <TD width=318><B><FONT size=4>Meaning </FONT></B></TD></TR>
        <TR>
          <TD vAlign=top width=150>Column Name</TD>
          <TD width=318>Name of the column</TD></TR>
        <TR>
          <TD vAlign=top width=150 height=42>Data Type</TD>
          <TD width=318 height=42>Column data type (<FONT 
            face="Courier New, Courier" size=-1>INTEGER, CHAR</FONT>, 
etc.)</TD></TR>
        <TR>
          <TD vAlign=top width=150>Data Type Attributes</TD>
          <TD width=318>Column attributes such as:<FONT 
            face="Courier New, Courier" size=-1> <BR>DEFAULT, FORMAT, TITLE, 
            NULL, CASESPECIFIC, UPPERCASE</FONT></TD></TR>
        <TR>
          <TD vAlign=top width=150>Column Storage Attributes</TD>
          <TD width=318>Column compression for nulls or for specific 
        values</TD></TR>
        <TR>
          <TD vAlign=top width=150>Column-Level Constraint Attributes</TD>
          <TD width=318>Column range of possible values, uniqueness, use as a 
            primary or foreign key </TD></TR></TBODY></TABLE>
      <P>We will discuss each in detail in the following sections. 
  </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>COLUMN Name &amp; Data Type 
Choices</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>COLUMN Name & Data Type Choices</H2> -->
      <H4>Column Data Types</H4>
      <TABLE cellPadding=4 width="69%" border=1>
        <TBODY>
        <TR>
          <TD vAlign=top>Character</TD>
          <TD vAlign=top><B>CHAR, VARCHAR,<BR>CHAR VARYING,<BR>LONG 
          VARCHAR</B></TD></TR>
        <TR>
          <TD vAlign=top>Numeric</TD>
          <TD vAlign=top><B>INTEGER, SMALLINT, BIGINT, <BR>REAL, FLOAT, 
            DOUBLE<BR>PRECISION NUMERIC,<BR>DECIMAL, BYTEINT,<BR>DATE</B></TD></TR>
        <TR>
          <TD vAlign=top>Byte</TD>
          <TD vAlign=top><B>BYTE, VARBYTE</B></TD></TR></TBODY></TABLE>
      <H4 class=TitleExample>Example</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>CREATE TABLE        emp_data
  (employee_number    INTEGER
  ,department_number  SMALLINT
  ,job_code           INTEGER
  ,last_name          CHAR (20)
  ,first_name         VARCHAR (20)
        .			     
        .			     
        .
  ,birthdate          DATE
  ,salary_amount      DECIMAL (10,2)
	    .			     
	    .           );	</B>     
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet>
<STYLE type=text/css>
<!--
.style1 {color: #000000}
-->
</STYLE>
<FONT face=Verdana size=3><B>COLUMN Data Type Attributes</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <H4>&nbsp;</H4>
      <TABLE cellPadding=4 width="90%" border=0>
        <TBODY>
        <TR>
          <TD vAlign=top width="25%"><B>DEFAULT</B></TD>
          <TD vAlign=top width="75%">Specify default value in place of 
        null</TD></TR>
        <TR>
          <TD vAlign=top width="25%"><B>WITH DEFAULT</B></TD>
          <TD vAlign=top width="75%">Specify use of system default value in 
            place of null</TD></TR>
        <TR>
          <TD vAlign=top width="25%"><B>FORMAT</B></TD>
          <TD vAlign=top width="75%">Default display format</TD></TR>
        <TR>
          <TD vAlign=top width="25%"><B>TITLE</B></TD>
          <TD vAlign=top width="75%">Default column title</TD></TR>
        <TR>
          <TD vAlign=top width="25%"><B>NOT NULL</B></TD>
          <TD vAlign=top width="75%">Disallow nulls, value required</TD></TR>
        <TR>
          <TD vAlign=top width="25%"><B>CASESPECIFIC</B></TD>
          <TD vAlign=top width="75%">Treat as case-specific for 
        comparisons</TD></TR>
        <TR>
          <TD vAlign=top width="25%"><B>UPPERCASE</B></TD>
          <TD vAlign=top width="75%">Shift to uppercase for 
        storage</TD></TR></TBODY></TABLE>
      <H4 class=TitleExample>Example</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>CREATE TABLE emp_data  
  (employee_number   INTEGER      NOT NULL 
  ,last_name         CHAR(20)     NOT NULL 
                                  WITH DEFAULT 
  ,street_address    VARCHAR(30)  TITLE'Address' 
  ,city              CHAR(15)     DEFAULT'Boise' 
  ,state             CHAR(2)      WITH DEFAULT 
  ,birthdate         DATE         FORMAT 
                                   'mm/dd/yyyy' 
  ,salary_amount     DEC(10,2)  
  ,sex               CHAR(1)      UPPERCASE 
  ); </B>
</PRE></FONT>
      <P><SPAN class=style1>The <B>WITH DEFAULT</B> option is a special case of 
      the <B>DEFAULT</B> option. The <B>WITH DEFAULT</B> phrase is converted by 
      the Teradata database to a <B>DEFAULT</B> option in which the <EM>default 
      system value</EM> for that data type becomes the value to use in place of 
      null. For example, character strings will be defaulted to spaces and 
      numeric columns will default to zeroes.</SPAN> <!-- <TABLE BORDER="0" CELLPADDING="3"><TR><TD>
            <TABLE>
              <TR> 
                <TD VALIGN=TOP COLSPAN=2><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>CREATE 
                  TABLE emp_data</FONT></TD>
                <TD> </TD>
              </TR>
              <TR> 
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>(employee_number&nbsp;&nbsp;&nbsp;</FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>INTEGER</FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>NOT 
                  NULL</FONT></TD>
              </TR>
              <TR> 
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>,last_name</FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>CHAR(20)</FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>NOT 
                  NULL</FONT></TD>
              </TR>
              <TR> 
                <TD VALIGN=TOP>&nbsp;</TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1> 
                  </FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>WITH 
                  DEFAULT</FONT></TD>
              </TR>
              <TR> 
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>,street_address</FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>VARCHAR(30)&nbsp;</FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>TITLE'Address'</FONT></TD>
              </TR>
              <TR> 
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>,city</FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>CHAR(15)</FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>DEFAULT'Boise'</FONT></TD>
              </TR>
              <TR> 
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>,state</FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>CHAR(2)</FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>WITH 
                  DEFAULT</FONT></TD>
              </TR>
              <TR> 
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>,birthdate</FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>DATE</FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>FORMAT</FONT></TD>
              </TR>
              <TR> 
                <TD VALIGN=TOP>&nbsp;</TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1> 
                  </FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>&nbsp;&nbsp;&nbsp;'mm/dd/yyyy'</FONT></TD>
              </TR>
              <TR> 
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>,salary_amount</FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>DEC(10,2)</FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1></FONT></TD>
              </TR>
              <TR> 
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>,sex</FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>CHAR(1)</FONT></TD>
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>UPPERCASE</FONT></TD>
              </TR>
              <TR> 
                <TD VALIGN=TOP><FONT FACE="Arial,Helvetica,sans-serif" SIZE=-1>);</FONT></TD>
                <TD> </TD>
                <TD> </TD>
              </TR>
            </TABLE> --></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Retrieving Default Values</B></FONT> 

<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>A <FONT face="Courier New, Courier" size=3><B>DEFAULT</B></FONT> 
      function exists which permits the retrieval of the default value assigned 
      to a particular column. For example, assume we define a table as 
      follows:</P><FONT face="Courier New, Courier, mono" color=#660066 
      size=3><B><PRE>CREATE TABLE TableX
 (Col1 INTEGER,
  Col2 INTEGER DEFAULT 10, 
  Col3 INTEGER DEFAULT 20, 
  Col4 CHAR(60)); 
</PRE></B></FONT>
      <P>We may retrieve the default values for any column by using the <FONT 
      face="Courier New, Courier" size=3><B>DEFAULT</B></FONT> function as 
      follows:</P><FONT face="Courier New, Courier, mono" color=#660066 
      size=3><B><PRE>SELECT DEFAULT(Col2), DEFAULT(Col3) FROM TableX; </PRE></B></FONT><FONT 
      face="Courier New, Courier, mono" color=#000000 size=3><PRE>Default(Col2) Default(Col3)
------------- -------------
           10 		20
           10 		20</PRE></FONT>
      <P>Default values are returned in place of the normal column values. Note 
      that two rows are returned. This is because there are currently two rows 
      in the table. One row of output is returned for each existing row in the 
      table. You may return a single row by using the following syntax:</P><FONT 
      face="Courier New, Courier, mono" color=#660066 size=3><B><PRE>SELECT DISTINCT DEFAULT(Col2), DEFAULT(Col3) FROM TableX;
</PRE></B></FONT><FONT face="Courier New, Courier, mono" color=#000000 
      size=3><PRE><BR>Default(Col2) Default(Col3)
------------- -------------
           10 		20  </PRE></FONT>
      <P>If there are no rows in the table, no default values will be returned. 
      </P>
      <P>If no default values are assigned to the specified column, then a null 
      is returned. </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>COLUMN Storage Attributes</B></FONT> 

<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>COLUMN Storage Attributes</H2> -->
      <H4>Teradata Extensions</H4>
      <P>The <FONT face="Courier New, Courier" 
      size=-1><B>COMPRESS</B></FONT>phrase allows values in one or more columns 
      of a permanent table to be compressed to zero space, thus reducing the 
      physical storage space required for a table. </P>
      <P>The <FONT face="Courier New, Courier" size=-1><B>COMPRESS 
      </B></FONT>phrase has three variations:</P>
      <TABLE cellPadding=4 width="100%" border=1>
        <TBODY>
        <TR>
          <TH><B><U>Variation:</U></B></TH>
          <TH><U>What happens:</U></TH></TR>
        <TR>
          <TD vAlign=top><B>COMPRESS</B></TD>
          <TD vAlign=top>Nulls are compressed.</TD></TR>
        <TR>
          <TD vAlign=top><B>COMPRESS NULL</B></TD>
          <TD vAlign=top>Nulls are compressed.</TD></TR>
        <TR>
          <TD vAlign=top><B>COMPRESS &lt;constant&gt;</B></TD>
          <TD vAlign=top>Nulls and the specified &lt;constant&gt; value are 
            compressed.</TD></TR></TBODY></TABLE>
      <P><B>Note:</B> <FONT face="Courier New, Courier" size=-1><B>COMPRESS</B> 
      &amp; <B>COMPRESS NULL</B></FONT> mean the same thing. </P>
      <P><B>Examples</B></P><FONT face="courier New, Courier" color=#660066 
      size=3><PRE>  <B>CREATE TABLE emp_data  
  (employee_number     INTEGER 
  ,department_number   INTEGER COMPRESS       
  .  
  .  
  . </B>
</PRE></FONT><!-- <TABLE>
<TR><TD VALIGN=TOP COLSPAN=2>CREATE TABLE emp_data</FONT></TD>
<TD> </TD>
</TR>
<TR><TD VALIGN=TOP>(employee_number&nbsp;&nbsp;&nbsp;
	&nbsp;&nbsp;&nbsp;</FONT></TD>
	<TD VALIGN=TOP>INTEGER</FONT></TD>
</TR>
<TR><TD VALIGN=TOP>,department_number</FONT></TD>
	<TD VALIGN=TOP>INTEGER COMPRESS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
</TR>
<TR><TD VALIGN=TOP>&nbsp;&nbsp;&nbsp; .</FONT></TD>
	<TD VALIGN=TOP> </FONT></TD>
</TR>
<TR><TD VALIGN=TOP>&nbsp;&nbsp;&nbsp; .</FONT></TD>
	<TD VALIGN=TOP> </FONT></TD>
</TR>
<TR><TD VALIGN=TOP>&nbsp;&nbsp;&nbsp; .</FONT></TD>
	<TD VALIGN=TOP> </FONT></TD>
</TR>
</TABLE> --><FONT face="courier New, Courier" color=#660066 size=3><PRE>  <B>CREATE TABLE bank_account_data  
  (customer_id    INTEGER 
  ,account_type   CHAR(10) COMPRESS 'SAVINGS' 
  .  
  .  
  . </B>
</PRE></FONT><!-- <TABLE>
<TR><TD VALIGN=TOP COLSPAN=2>CREATE TABLE bank_account_data</FONT></TD>
	<TD> </TD>
</TR>
<TR><TD VALIGN=TOP>(customer_id&nbsp;&nbsp;&nbsp;
	&nbsp;&nbsp;</FONT></TD>
	<TD VALIGN=TOP>INTEGER</FONT></TD>
</TR>
<TR><TD VALIGN=TOP>,account_type</FONT></TD>
	<TD VALIGN=TOP>CHAR(10) COMPRESS 'SAVINGS'</FONT></TD>
</TR>
<TR><TD VALIGN=TOP>&nbsp;&nbsp;&nbsp; .</FONT></TD>
	<TD VALIGN=TOP> </FONT></TD>
</TR>
<TR><TD VALIGN=TOP>&nbsp;&nbsp;&nbsp; .</FONT></TD>
	<TD VALIGN=TOP> </FONT></TD>
</TR>
<TR><TD VALIGN=TOP>&nbsp;&nbsp;&nbsp; .</FONT></TD>
	<TD VALIGN=TOP> </FONT></TD>
</TR>
</TABLE> -->
      <P>In the first example, null department numbers will be compressed.</P>
      <P>In the second example, both null and 'Savings' account types will be 
      suppressed. The value of 'Savings' is written in the table header for 
      <B>bank_account_data</B> on each <FONT face="courier New, Courier" 
      size=-1><B>AMP</B> </FONT>in the system.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Primary Key vs Primary 
Index</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>Primary Key vs. Primary Index</H2> -->
      <P><B>Primary Key (PK)</B> - is defined as one or more columns used to 
      uniquely identify each row in a table. PKs are used in conjunction with 
      foreign keys to define the important column relationships in a database. 
      PKs are always unique and cannot be null. PKs are not known to the 
      Teradata RDBMS as such. The Teradata RDBMS implements a primary key as a 
      unique index.</P>
      <P><B>Primary Index</B> - is defined as one or more columns used to 
      distribute and locate rows in a table. Choice of primary index will affect 
      distribution, access and performance. Oftentimes, but not always, the 
      Primary Index and Primary Key are the same. Indexes (primary or secondary) 
      may be used to enforce uniqueness (as in a PK) or to improve access. They 
      may be unique or non-unique. Uniqueness and primary key constraints will 
      be discussed in more detail in Level 3.</P>
      <P>Indexes may be any combination as seen in the following table: </P>
      <TABLE cellPadding=4 border=1>
        <TBODY>
        <TR>
          <TD vAlign=top>&nbsp;</TD>
          <TD vAlign=top><B>Primary&nbsp;</B></TD>
          <TD vAlign=top><B>Secondary&nbsp;</B></TD></TR>
        <TR>
          <TD vAlign=top><B>UNIQUE</B></TD>
          <TD vAlign=top>UPI</TD>
          <TD vAlign=top>USI</TD></TR>
        <TR>
          <TD vAlign=top><B>NON-UNIQUE</B></TD>
          <TD vAlign=top>NUPI</TD>
          <TD vAlign=top>NUSI</TD></TR></TBODY></TABLE>
      <P>Every table must have exactly one primary index.</P>
      <P>The following table illustrates performance characteristics for SQL 
      operations that use indices.</P>
      <P>Entries are listed in order from most desirable to least desirable in 
      terms of system resource use. They show the number of <FONT 
      face="courier New, Courier" size=-1><B>AMPs</B> </FONT>involved in each 
      operation and number of rows that could be returned.</P>
      <TABLE cellPadding=4 border=1>
        <TBODY>
        <TR>
          <TD vAlign=top><B></B></TD>
          <TD vAlign=top><B>&nbsp;#AMPS&nbsp;</B></TD>
          <TD vAlign=top>
            <CENTER><B>#ROWS</B> </CENTER></TD></TR>
        <TR>
          <TD vAlign=top><B>UPI</B></TD>
          <TD vAlign=top>
            <CENTER>1 </CENTER></TD>
          <TD vAlign=top>
            <CENTER>
            <CENTER>0 or 1 </CENTER></CENTER></TD></TR>
        <TR>
          <TD vAlign=top><B>NUPI</B></TD>
          <TD vAlign=top>
            <CENTER>1 </CENTER></TD>
          <TD vAlign=top>
            <CENTER>&nbsp;Between 0-N&nbsp; <BR>&nbsp;where N = any number &gt; 
            0&nbsp; </CENTER></TD></TR>
        <TR>
          <TD vAlign=top><B>USI</B></TD>
          <TD vAlign=top>
            <CENTER>2 </CENTER></TD>
          <TD vAlign=top>
            <CENTER>Between 0-1 </CENTER></TD></TR>
        <TR>
          <TD vAlign=top><B>NUSI</B></TD>
          <TD vAlign=top>
            <CENTER>All </CENTER></TD>
          <TD vAlign=top>
            <CENTER>Between 0-N </CENTER></TD></TR>
        <TR>
          <TD vAlign=top><B>Full table scan&nbsp;</B></TD>
          <TD vAlign=top>
            <CENTER>All </CENTER></TD>
          <TD vAlign=top>
            <CENTER>Between 0-N 
  </CENTER></TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>CREATE TABLE Example</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="1"></A>CREATE TABLE Example</H2> -->
      <P>The following example shows everything we have learned up to this point 
      about the <B><FONT face="Courier New, Courier" size=-1>CREATE 
      TABLE</FONT></B> statement. </P>
      <TABLE cellPadding=8 width=538 border=1>
        <TBODY>
        <TR>
          <TD><B><FONT face="Courier New, Courier, mono" color=#660066>CREATE 
            TABLE MJ1.emp_data,FALLBACK,<BR>&nbsp;&nbsp;&nbsp;&nbsp;NO BEFORE 
            JOURNAL,<BR>&nbsp;&nbsp;&nbsp;&nbsp;NO AFTER 
            JOURNAL<BR>&nbsp;&nbsp;&nbsp;&nbsp;(<BR>&nbsp;&nbsp;&nbsp;&nbsp;employee_number 
            INTEGER NOT NULL,<BR>&nbsp;&nbsp;&nbsp;&nbsp;department_number 
            SMALLINT,<BR>&nbsp;&nbsp;&nbsp;&nbsp;job_code INTEGER COMPRESS 
            ,<BR>&nbsp;&nbsp;&nbsp;&nbsp;last_name CHAR(20) NOT CASESPECIFIC NOT 
            NULL,<BR>&nbsp;&nbsp;&nbsp;&nbsp;first_name VARCHAR(20) NOT 
            CASESPECIFIC,<BR>&nbsp;&nbsp;&nbsp;&nbsp;street_address VARCHAR(30) 
            NOT CASESPECIFIC TITLE 'Address',<BR>&nbsp;&nbsp;&nbsp;&nbsp;city 
            CHAR(15) NOT CASESPECIFIC DEFAULT 
            'Boise'<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;COMPRESS 
            'Boise',<BR>&nbsp;&nbsp;&nbsp;&nbsp;state CHAR(2) NOT CASESPECIFIC 
            DEFAULT ' ',<BR>&nbsp;&nbsp;&nbsp;&nbsp;birthdate DATE FORMAT 
            'mm/dd/yyyy',<BR>&nbsp;&nbsp;&nbsp;&nbsp;salary_amount 
            DECIMAL(10,2),<BR>&nbsp;&nbsp;&nbsp;&nbsp;sex CHAR(1) UPPERCASE NOT 
            CASESPECIFIC)<BR><BR>UNIQUE PRIMARY INDEX ( employee_number 
            )<BR>INDEX ( department_number );</FONT></B></FONT> 
      </TD></TR></TBODY></TABLE><!-- <H4> <B>Note:</B> </H4> -->
      <P><B>Note:</B> Employee number is a Unique Primary Index (UPI). The 
      department number is a Non-Unique Secondary Index (NUSI). 
  </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><FONT face=Verdana size=3><B>CREATE TABLE 
Rules</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>General Rules</H2> -->
      <P>Any user may create a table in a given database, provided that they 
      have the <B><FONT face="courier New, Courier" size=-1>'CREATE 
      TABLE'</FONT></B> privilege for that database.</P>
      <P>For <B><FONT face="courier New, Courier" size=-1>INDEX 
      </FONT></B>definition, if <B><FONT face="courier New, Courier" 
      size=-1>UNIQUE </FONT></B>is not explicit, then the default is a 
      non-unique index. Similarly, if <B><FONT face="courier New, Courier" 
      size=-1>PRIMARY </FONT></B>is not explicit, then the default is a 
      secondary index.</P>
      <H4><U>Examples:</U></H4>
      <P><FONT face="Courier New, Courier, mono" size=-1><B>UNIQUE PRIMARY 
      INDEX</B></FONT> &nbsp;&nbsp;&nbsp;- UPI created<BR><B><FONT 
      face="Courier New, Courier, mono" size=-1>PRIMARY INDEX</FONT></B> 
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 
      NUPI created<BR><B><FONT face="Courier New, Courier, mono" size=-1>UNIQUE 
      INDEX 
      &nbsp;</FONT></B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 
      USI created<BR><B><FONT face="Courier New, Courier, mono" size=-1>INDEX 
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- 
      NUSI created</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>DROP TABLE</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="1"></A>DROP TABLE</H2> -->To remove all data 
      associated with a table, as well as the table structure definition from 
      the Data Dictionary, use the <FONT face="Courier New, Courier" 
      size=-1><B>DROP TABLE</B> </FONT>statement. 
      <P class=TitleExample>Example</P>
      <P>Drop the employee data table created in the previous example. </P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>	<B>DROP TABLE emp_data; </B>
</PRE></FONT>
      <UL>
        <LI>Deletes all data in emp_data. 
        <LI>Removes the emp_data definition from the Data Dictionary. You must 
        recreate the table if you wish to use it again. 
        <LI>Removes all explicit access rights on the table. </LI></UL>
      <HR>

      <P>To remove all data associated with a table, without dropping the table 
      definition from the Data Dictionary, use the <FONT 
      face="Courier New, Courier" size=-1><B>DELETE</B></FONT> statement.</P>
      <P class=TitleExample>Example</P>
      <P>Delete the employee data from the emp_date table in the previous 
      example without dropping the table.</P>
      <P>(All three examples are valid syntax which perform the 
      operation.)</P><FONT face="courier New, Courier" color=#660066 size=3><PRE> 
	<B>DELETE FROM emp_data ALL;


	DELETE FROM emp_data;
 

	DELETE emp_data;</B>
	
</PRE></FONT>
      <UL>
        <LI>Deletes all data in emp_data. 
        <LI>Table definition remains in the Data Dictionary, so you can 
        repopulate it. 
        <LI>Access rights to the table remain unchanged. 
  </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>ALTER TABLE</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="1"></A>ALTER TABLE</H2> -->
      <P>Once a table has been created, certain characteristics are not 
      alterable, such as the Primary Index choice. To change them you must 
      <B><FONT face="courier New, Courier" size=-1>CREATE </FONT></B>a new table 
      which includes the new characteristics, then populate that table.</P>
      <P>Other characteristics are alterable. You can use the <B><FONT 
      face="courier New, Courier" size=-1>ALTER TABLE</FONT></B> statement to 
      modify these characteristics.</P>
      <H4>ALTER TABLE</H4>
      <OL>
        <LI>ADDs and/or DROPs columns from an empty or populated table: <FONT 
        face="courier New, Courier" color=#660066 size=3><PRE>  
   <B>ALTER TABLE emp_data
   ADD educ_level CHAR(1), ADD insure_type SMALLINT
   ;

   ALTER TABLE emp_data
   DROP educ_level, DROP insure_type</B>
</PRE></FONT><!-- <P><font face="courier New, Courier" size="-1" color="#660066">
<UL>ALTER TABLE emp_data<BR>
&nbsp;&nbsp;&nbsp;&nbsp;ADD educ_level CHAR(1), ADD insure_type SMALLINT<BR>
;<P>
ALTER TABLE emp_data<BR>
&nbsp;&nbsp;&nbsp;&nbsp;DROP educ_level, DROP insure_type<BR>
;</FONT><BR>
</UL> -->
        <P></P>
        <LI>Changes the attribute options on existing columns: 
        <P>
        <UL>
          <P><STRONG><FONT face="Courier New, Courier, mono" color=#660066 
          size=2>ALTER TABLE emp_data<BR>&nbsp;&nbsp;&nbsp;&nbsp;ADD birthdate 
          FORMAT 'mmmBdd,Byyy"<BR>;</FONT> </STRONG></P>
          <P><B>Note:</B> In this example, the birthday column already exists. 
          We are adding <FONT face="Courier New, Courier" 
          size=-1><B>FORMAT</B></FONT> to the birthday column.</P></UL>
        <LI>Makes a <FONT face="Courier New, Courier, mono" size=-1><B>NO 
        FALLBACK</B></FONT><B></B><FONT face="Courier New, Courier" 
        size=-1></FONT> table into a <FONT face="Courier New, Courier" 
        size=-1></FONT><FONT face="Courier New, Courier, mono" 
        size=-1><B>FALLBACK</B></FONT><B></B> table, or vice versa: 
        <UL>
          <P><STRONG><FONT face="Courier New, Courier, mono" color=#660066 
          size=2>ALTER TABLE 
          emp_data<BR>&nbsp;&nbsp;&nbsp;&nbsp;,FALLBACK<BR>;</FONT></STRONG></P></UL>
        <LI>Combines various changes to the table structure and protection: 
        <UL><STRONG><FONT face="Courier New, Courier, mono" color=#660066 
          size=2>ALTER TABLE emp_data<BR>&nbsp;&nbsp;&nbsp;&nbsp;,NO 
          FALLBACK<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DROP 
          insure_type<BR>&nbsp;&nbsp;&nbsp;&nbsp;,ADD educ_level 
          CHAR(1)<BR>;</FONT></STRONG> </UL>
        <P><B>Note:</B> Switching a table from <FONT face="Courier New, Courier" 
        size=-1><B>FALLBACK</B></FONT> to <FONT face="Courier New, Courier" 
        size=-1><B>NO FALLBACK</B></FONT> can be used to reclaim database space 
        when needed.</P></LI></OL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>CREATE a Secondary Index</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="1"></A>CREATE a Secondary Index</H2> -->
      <P>Indexes may be defined when creating a table with the <FONT 
      face="Courier New, Courier" size=-1><B>CREATE TABLE</B> </FONT>statement, 
      or alternatively, they may be created after the fact using the <FONT 
      face="Courier New, Courier" size=-1><B>CREATE INDEX</B> </FONT>statement. 
      </P>
      <P>Primary indexes are always created at table creation time. Secondary 
      indexes may be created at table creation or after the fact.</P>
      <P>The <FONT face="Courier New, Courier" size=-1><B>CREATE INDEX</B> 
      </FONT>statement is used to create secondary indexes on an existing table. 
      Primary indexes must be created when you create the table and cannot be 
      changed without dropping and re-creating the table (and specifying a new 
      Primary Index). </P>
      <P>Secondary indexes may be created with or without an identifying name. 
      </P>
      <P class=TitleExample>Example</P>
      <P>Create two secondary indexes on the employee table:</P>
      <UL>
        <LI>A unique secondary index (USI) on employee name (named) . 
        <LI>A non-unique secondary index (NUSI) on job code (unnamed). </LI></UL>
      <P><B>USI (named)</B></P><FONT face="courier New, Courier" color=#660066 
      size=3><PRE><B>CREATE UNIQUE INDEX fullname
      (last_name, first_name)
ON emp_data; 
</B></PRE></FONT>
      <P><B>Note:</B> We know this is a USI because primary indexes can't be 
      created (except when the table is created). This index is named 
      'fullname'. </P>
      <P><B>NUSI (unnamed)</B></P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>CREATE INDEX
      (job_code)
ON emp_data; 
</B></PRE></FONT>
      <P><B>Note:</B> Assigning names to indexes is optional. It has some 
      advantages in terms of simplifying the syntax used to identify the index 
      in subsequent SQL commands.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>HELP INDEX</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>HELP INDEX</H2> -->
      <P><FONT face="courier New, Courier" size=-1><B>HELP INDEX</B></FONT> 
      &lt;tablename&gt; displays index definitions for the specified table. If 
      the index is unnamed, the "Index Name" will display as <FONT 
      face="courier New, Courier" size=-1><B>NULL</B></FONT>. Naming indexes is 
      optional, however named indexes provide more ease of use in SQL commands 
      we shall see later. </P>
      <P><B>Note:</B> <FONT face="Courier New, Courier" size=-1><B>HELP 
      INDEX</B></FONT> may sometimes produce a very wide report. In this case, 
      the best way to view the output is to use the <FONT 
      face="Courier New, Courier" size=-1><B>.SET FOLDLINE</B></FONT> and <FONT 
      face="Courier New, Courier" size=-1><B>.SET SIDETITLES</B></FONT> features 
      of <FONT face="Courier New, Courier" size=-1>BTEQ</FONT>. </P>
      <P>What are the indexes on the emp_data table? </P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>.SET FOLDLINE ON;
.SET SIDETITLES ON;</B></PRE></FONT>
      <TABLE cellPadding=4 width=300 border=1>
        <TBODY>
        <TR>
          <TD>HELP INDEX emp_data; </TD></TR></TBODY></TABLE>
      <P>
      <TABLE width=480>
        <TBODY>
        <TR>
          <TD align=right width=212>Unique?:&nbsp;</TD>
          <TD width=248>Y<FONT face=Times size=-1>&nbsp;&nbsp;&nbsp;<IMG 
            height=11 src="Teradata SQL Introduction_files/arrleft.gif" width=15 
            border=0> U<FONT color=#ff0000>PI on 
employee_number</FONT></FONT></TD>
          <TD width=4>&nbsp;</TD></TR>
        <TR>
          <TD align=right width=212>Primary//or//Secondary?:</TD>
          <TD width=248>P</TD>
          <TD width=4></TD></TR>
        <TR>
          <TD align=right width=212>Column Names:</TD>
          <TD width=248>employee_number</TD>
          <TD width=4></TD></TR>
        <TR>
          <TD align=right width=212>Index Id:&nbsp;</TD>
          <TD align=middle width=248>
            <DIV align=left>1</DIV></TD>
          <TD width=4></TD></TR>
        <TR>
          <TD align=right width=212>Approximate Count:&nbsp;</TD>
          <TD align=middle width=248>
            <DIV align=left>0</DIV></TD>
          <TD width=4></TD></TR>
        <TR>
          <TD align=right width=212>Index Name:&nbsp;</TD>
          <TD align=middle width=248>
            <DIV align=left>?</DIV></TD>
          <TD width=4>&nbsp;</TD></TR></TBODY></TABLE>
      <P>
      <TABLE width=470>
        <TBODY>
        <TR>
          <TD align=right>Unique?:&nbsp;</TD>
          <TD>N<FONT face=Times 
            size=-1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<IMG height=11 
            src="Teradata SQL Introduction_files/arrleft.gif" width=15 
            border=0><FONT color=#ff0000> NUSI on 
          department_number</FONT></FONT></TD>
          <TD>&nbsp; </TD></TR>
        <TR>
          <TD align=right>Primary//or//Secondary?:&nbsp;</TD>
          <TD>S</TD>
          <TD></TD></TR>
        <TR>
          <TD align=right>Column Name:s&nbsp;</TD>
          <TD>department_number</TD>
          <TD></TD></TR>
        <TR>
          <TD align=right>Index Id:&nbsp;</TD>
          <TD align=middle>
            <DIV align=left>4</DIV></TD>
          <TD></TD></TR>
        <TR>
          <TD align=right>Approximate Count:&nbsp;</TD>
          <TD align=middle>
            <DIV align=left>0</DIV></TD>
          <TD></TD></TR>
        <TR>
          <TD align=right>Index Name:&nbsp;</TD>
          <TD align=middle>
            <DIV align=left>?</DIV></TD>
          <TD>&nbsp;</TD></TR></TBODY></TABLE><BR>
      <TABLE cellSpacing=0 cellPadding=2 width="68%" border=0>
        <TBODY>
        <TR>
          <TD align=right width="42%">Unique?:&nbsp;</TD>
          <TD width="58%">
            <DIV align=left>Y &nbsp;<FONT face=Times size=-1><IMG height=11 
            src="Teradata SQL Introduction_files/arrleft.gif" width=15 border=0> 
            <FONT color=#ff0000>USI on last_name,first_name 
            combined</FONT></FONT> </DIV></TD></TR>
        <TR>
          <TD align=right width="42%">Primary//or//Secondary?:&nbsp;</TD>
          <TD width="58%">
            <DIV align=left>S</DIV></TD></TR>
        <TR>
          <TD align=right width="42%">Column Names:&nbsp;</TD>
          <TD width="58%">
            <DIV align=left>last_name,first_name</DIV></TD></TR>
        <TR>
          <TD align=right width="42%">Index Id:&nbsp;</TD>
          <TD align=middle width="58%">
            <DIV align=left>8</DIV></TD></TR>
        <TR>
          <TD align=right width="42%">Approximate Count:&nbsp;</TD>
          <TD align=middle width="58%">
            <DIV align=left>0</DIV></TD></TR>
        <TR>
          <TD align=right width="42%">Index Name:&nbsp;</TD>
          <TD align=middle width="58%">
            <DIV align=left>fullname<FONT face=Times 
            size=-1>&nbsp;&nbsp;&nbsp;<IMG height=11 
            src="Teradata SQL Introduction_files/arrleft.gif" width=15 border=0> 
            <FONT color=#ff0000>The name we gave to the 
          index</FONT></FONT></DIV></TD></TR></TBODY></TABLE><BR>
      <TABLE width=490>
        <TBODY>
        <TR>
          <TD align=right width=206>Unique?:&nbsp;</TD>
          <TD width=272>N&nbsp;&nbsp;&nbsp;<FONT face=Times size=-1><IMG 
            height=11 src="Teradata SQL Introduction_files/arrleft.gif" width=15 
            border=0> <FONT color=#ff0000>NUSI on job_code</FONT></FONT> </TD></TR>
        <TR>
          <TD align=right width=206>Primary//or//Secondary?:&nbsp;</TD>
          <TD width=272>S</TD></TR>
        <TR>
          <TD align=right width=206>Column Names:&nbsp;</TD>
          <TD width=272>job_code</TD></TR>
        <TR>
          <TD align=right width=206>Index Id:&nbsp;</TD>
          <TD align=middle width=272>
            <DIV align=left>12</DIV></TD></TR>
        <TR>
          <TD align=right width=206>Approximate Count:&nbsp;</TD>
          <TD align=middle width=272>
            <DIV align=left>0</DIV></TD></TR>
        <TR>
          <TD align=right width=206>Index Name:&nbsp;</TD>
          <TD align=middle width=272>
            <DIV align=left>?</DIV></TD></TR></TBODY></TABLE><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>.SET FOLDLINE OFF;
.SET SIDETITLES OFF;</B></PRE></FONT>
      <P>The values in the Index Id column correlate to the index numbers 
      referenced in <B>EXPLAIN </B>text. The Primary index always has an Index 
      ID of 1; Secondary indices have Index IDs in multiples of 4. 
  </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>DROP INDEX</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="1"></A>DROP INDEX</H2> -->
      <P>If you are dropping a named index, you can specify the index by either 
      the index name or its column definition. </P>
      <P>If you are dropping an unnamed index, you must specify the index by 
      naming the columns which are associated with it. </P>
      <H4 class=TitleExample>Example</H4>
      <P>Delete both secondary indexes from the employee table.</P>
      <TABLE cellPadding=4 width=320 border=0>
        <TBODY>
        <TR>
          <TD><B>DROP INDEX &nbsp;&nbsp;FullName&nbsp;&nbsp; 
            ON&nbsp;&nbsp;emp_data; </B></TD></TR></TBODY></TABLE>
      <TABLE cellPadding=4 width=320 border=0>
        <TBODY>
        <TR>
          <TD><B>DROP INDEX &nbsp;&nbsp;(job_code) ON&nbsp;&nbsp;emp_data; 
          </B></TD></TR></TBODY></TABLE>
      <P><B>Note:</B> Only one secondary index may be dropped per <FONT 
      face="courier New, Courier" size=-1><B>DROP </B></FONT>statement.</P><!-- <p align="center"><img src="12CreateTbl/../z-line.gif" width="20" height="2" border="0"> <b><a href="./images/labs/wbt-data_def_lab.shtm">Lab</a></b> <img src="12CreateTbl/../z-line.gif" width="20" height="2" border="0"></p>
 --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK href="./././sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>
      <TABLE cellSpacing=0 cellPadding=8 width="100%" bgColor=#ffffcc 
        border=0><TBODY>
        <TR>
          <TD vAlign=top width="20%" bgColor=#ffffcc><B><FONT size=-1><A 
            name=LAB>Try It!</A></FONT></B> </TD>
          <TD vAlign=top width="80%" bgColor=#ffffcc><!-- <H2>LAB</H2> -->
            <P>For this set of lab questions you will need information from the 
            <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1>Database Info document.</A></P>
            <P>To start the online labs, click on the Telnet button in the lower 
            left hand screen of the course. Two windows will pop-up: a BTEQ 
            Instruction Screen and your Telnet Window. Sometimes the BTEQ 
            Instructions get hidden behind the Telnet Window. You will need 
            these instructions to log on to Teradata.</P>
            <P><B>Hint: Prior to doing these labs, it will be helpful to reset 
            your default database to your own user id (i.e. DATABASE 
            tdxxx;).</B> </P>
            <P>Click on the buttons to the left to see the answers. </P></TD></TR>
        <TR>
          <TD vAlign=top width=106><FONT size=-1>Answers:<BR><A 
            onclick="AnswerWindow('Mod13L01.htm',600,570,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            A<BR><A onclick="AnswerWindow('Mod13L04.htm',550,540,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            B <BR><A onclick="AnswerWindow('Mod13L05.htm',400,480,circbut03)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut03 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            C <BR><A onclick="AnswerWindow('Mod13L06.htm',400,510,circbut04)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut04 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            D </FONT></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc>
            <OL type=A>
              <LI><FONT face="courier New, Courier" size=-1><B>CREATE 
              </B></FONT>an employee table in your own database identical to the 
              employee table in the Customer_Service database. Use the following 
              command to assist you in creating the new table in your own 
              database. <FONT face="courier New, Courier" color=#660066 size=3><PRE><B>  SHOW TABLE CUSTOMER_SERVICE.EMPLOYEE;  
</B></PRE></FONT>
              <P><B>Note:</B> This table is used in many subsequent labs.</P>
              <LI>Modify the emp_new table created in Lab A to: 
              <BLOCKQUOTE>Remove fallback protection.<BR>Add a numeric column 
                called 'salary_level' as a <FONT face="courier New, Courier" 
                size=-1><B>BYTEINT</B></FONT>.<BR>Add a unique secondary index 
                on the salary_level column. </BLOCKQUOTE>
              <LI>Do a <FONT face="courier New, Courier" size=-1><B>HELP 
              INDEX</B></FONT> to display the indexes for your table. 
              <P></P>
              <LI>If you have completed Labs B and C, <FONT 
              face="courier New, Courier" size=-1><B>ALTER </B></FONT>the table 
              to reverse Lab B. (i.e., <FONT face="courier New, Courier" 
              size=-1><B>DROP </B></FONT>the index; <FONT 
              face="courier New, Courier" size=-1><B>DROP </B></FONT>the column; 
              Return table to <FONT face="courier New, Courier" 
              size=-1><B>FALLBACK</B></FONT>) </LI></OL>
            <P></P></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;Data 
      Manipulation</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><LINK href="../sqlstyle.css" 
type=text/css rel=stylesheet><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Objectives</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>After completing this module, you should be able to:</P>
      <UL>
        <LI>Insert data rows into a table. 
        <LI>Update existing rows in a table. 
        <LI>Delete rows from a table. </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><LINK href="../sqlstyle.css" type=text/css rel=stylesheet><FONT 
face=Verdana size=3><B>Data Manipulation</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Data Manipulation</H2> -->
      <P>Data Manipulation consists of four commands:</P>
      <UL>
        <LI><FONT face="Courier New, Courier, mono" 
        size=-1><STRONG>INSERT</STRONG></FONT><BR>&nbsp;&nbsp;&nbsp;-Add a row 
        to a table. 
        <LI><FONT face="Courier New, Courier, mono" size=-1><STRONG>INSERT 
        SELECT</STRONG></FONT> <BR>&nbsp;&nbsp;&nbsp;-Add rows to a table from 
        another table. 
        <LI><FONT face="Courier New, Courier, mono" 
        size=-1><STRONG>UPDATE</STRONG></FONT> <BR>&nbsp;&nbsp;&nbsp;-Change 
        column values in existing rows of a table. 
        <LI><FONT face="Courier New, Courier, mono" 
        size=-1><STRONG>DELETE</STRONG></FONT> <BR>&nbsp;&nbsp;&nbsp;-Remove 
        rows from a table.</FONT> </LI></UL></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>INSERT</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>INSERT</H2> -->
      <P><FONT face="Courier New, Courier, mono" 
      size=-1><STRONG>INSERT</STRONG></FONT> allows you to add a new row to a 
      table.</P>
      <H4 class=TitleExample>Example</H4>
      <P>There are two types of insert:</P>
      <UL>
        <P>1) Insert a new employee into the employee table:</P><!--------------First Insert------------->
        <TABLE cellPadding=6 width=400 border=1>
          <TBODY>
          <TR>
            <TD><FONT face="Courier New, Courier, mono" size=-1><B>INSERT INTO 
              employee<BR>VALUES (1210, NULL, 401, 412101, 'Smith', 'James', 
              890303, 460421, 41000);</B></FONT></TD></TR></TBODY></TABLE><!--------------First Table------------->
        <P><FONT face="Courier New, Courier, mono" 
        size=-1><STRONG>EMPLOYEE</STRONG></FONT> (Before Inserts)</P>
        <TABLE cellSpacing=-1 cellPadding=2 border=1>
          <TBODY>
          <TR>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>EMPLOYEE<BR>NUMBER</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>MANAGER<BR>EMPLOYEE<BR>NUMBER</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>DEPARTMENT<BR>NUMBER</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>JOB<BR>CODE</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>LAST<BR>NAME</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>FIRST<BR>NAME</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>HIRE<BR>DATE</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>BIRTH<BR>DATE</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>SALARY<BR>AMOUNT</FONT></TD></TR>
          <TR>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>PK</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>FK</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>FK</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>FK</FONT></TD>
            <TD>&nbsp;</TD>
            <TD>&nbsp;</TD>
            <TD>&nbsp;</TD>
            <TD>&nbsp;</TD>
            <TD>&nbsp;</TD></TR>
          <TR>
            <TD align=right><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1006&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1019</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>301</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>312101</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Stein</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>John</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>761015</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>531015</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>2945000</FONT></TD></TR>
          <TR>
            <TD align=right><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1008&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1019</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>301</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>312102</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Kanieski</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Carol</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>770201</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>580517</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>2925000</FONT></TD></TR>
          <TR>
            <TD align=right><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1005&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>0801</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>403</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>431100</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Ryan</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Loretta</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>761015</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>550910</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>3120000</FONT></TD></TR>
          <TR>
            <TD align=right><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1004&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1003</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>401</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>412101</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Johnson</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Darlene</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>761015</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>460423</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>3630000</FONT></TD></TR>
          <TR>
            <TD align=right><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1007&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1005</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>403</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>432101</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Villegas</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Arnando</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>770102</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>370131</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>4970000</FONT></TD></TR>
          <TR>
            <TD align=right><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1003&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>0801</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>401</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>411100</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Trader</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>James</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>760731</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>470619</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>3785000</FONT></TD></TR></TBODY></TABLE><BR><!--------------Second Insert------------->
        <P>
        <P>2) Insert a new employee with only partial data:</P>
        <TABLE cellPadding=6 width=400 border=1>
          <TBODY>
          <TR>
            <TD><FONT face="Courier New, Courier, mono" size=-1><B>INSERT INTO 
              employee<BR>&nbsp;&nbsp;&nbsp;&nbsp;(last_name, first_name, 
              hire_date, 
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;birthday,&nbsp;salary_amount, 
              employee_number)<BR>VALUES ('Garcia', 'Maria', 861027, 
              541110,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;76500.00, 
              1291); </B></FONT></TD></TR></TBODY></TABLE><!--------------Second Table------------->
        <P><FONT face="Courier New, Courier, mono" 
        size=-1><STRONG>EMPLOYEE</STRONG></FONT><FONT size=-1> (After Inserts) 
        </FONT></P>
        <TABLE cellSpacing=-1 cellPadding=2 border=1>
          <TBODY>
          <TR>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>EMPLOYEE<BR>NUMBER</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>MANAGER<BR>EMPLOYEE<BR>NUMBER</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>DEPARTMENT<BR>NUMBER</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>JOB<BR>CODE</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>LAST<BR>NAME</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>FIRST<BR>NAME</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>HIRE<BR>DATE</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>BIRTH<BR>DATE</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>SALARY<BR>AMOUNT</FONT></TD></TR>
          <TR>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>PK</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>FK</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>FK</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>FK</FONT></TD>
            <TD>&nbsp;</TD>
            <TD>&nbsp;</TD>
            <TD>&nbsp;</TD>
            <TD>&nbsp;</TD>
            <TD>&nbsp;</TD></TR>
          <TR>
            <TD align=right><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1006&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1019</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>301</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>312101</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Stein</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>John</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>761015</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>531015</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>2945000</FONT></TD></TR>
          <TR>
            <TD align=right><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1008&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1019</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>301</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>312102</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Kanieski</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Carol</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>770201</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>580517</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>2925000</FONT></TD></TR>
          <TR>
            <TD align=right><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1005&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>0801</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>403</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>431100</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Ryan</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Loretta</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>761015</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>550910</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>3120000</FONT></TD></TR>
          <TR>
            <TD align=right><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1004&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1003</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>401</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>412101</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Johnson</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Darlene</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>761015</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>460423</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>3630000</FONT></TD></TR>
          <TR>
            <TD align=right><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1007&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1005</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>403</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>432101</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Villegas</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Arnando</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>770102</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>370131</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>4970000</FONT></TD></TR>
          <TR>
            <TD align=right><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1003&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>0801</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>401</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>411100</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Trader</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>James</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>760731</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>470619</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>3785000</FONT></TD></TR>
          <TR>
            <TD align=right><IMG height=11 
              src="Teradata SQL Introduction_files/arrright.gif" width=15 
              border=0><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1210&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>&nbsp;</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>401</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>412101</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Smith</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>James</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>890303</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>460421</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>4100000</FONT></TD></TR>
          <TR>
            <TD align=right><IMG height=11 
              src="Teradata SQL Introduction_files/arrright.gif" width=15 
              border=0><FONT face=Arial,Helvetica,sans-serif 
              size=-3>1291&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>&nbsp;</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>&nbsp;</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>&nbsp;</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Garcia</FONT></TD>
            <TD align=left><FONT face=Arial,Helvetica,sans-serif 
              size=-3>Maria</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>861027</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>541110</FONT></TD>
            <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
              size=-3>7650000</FONT></TD></TR></TBODY></TABLE><!--------------End of Second Table------------->
        <P><B>Note: </B>Columns for which no values are inserted, will receive 
        either their assigned default value (as provided by the <FONT 
        face="Courier New, Courier, mono" 
        size=-1><STRONG>DEFAULT</STRONG></FONT> or <FONT 
        face="Courier New, Courier, mono" size=-1><STRONG>WITH 
        DEFAULT</STRONG></FONT> options in the <FONT 
        face="Courier New, Courier, mono" size=-1><STRONG>CREATE 
        TABLE</STRONG></FONT> statement), or a <FONT 
        face="Courier New, Courier, mono" size=-1><STRONG>NULL</STRONG></FONT> 
        value if no default is specified but nulls are allowed. 
      <BR></P></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>INSERT SELECT</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>INSERT SELECT</H2> -->
      <P>Use <FONT face="Courier New, Courier" size=-1><STRONG>INSERT 
      SELECT</STRONG></FONT> to copy rows from one table to another. </P>
      <P>The syntax is as follows:</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <STRONG>INSERT INTO target_table SELECT * FROM source_table;</STRONG>   
</PRE></FONT>
      <P>The <FONT face="Courier New, Courier" 
      size=-1><STRONG>SELECT</STRONG></FONT> portion of the statement may be 
      used to define a subset of rows and/or a subset of columns to be inserted 
      to the target table. </P>
      <H4 class=TitleProblem>Problem</H4>
      <P>To create a duplicate of the 'emp' table called 'emp_copy'. </P>
      <H4>Solution</H4>
      <P>First create the table 'emp_copy' with the same table definition as 
      'emp', then do a simple <FONT face="Courier New, Courier" 
      size=-1><STRONG>INSERT SELECT</STRONG></FONT>. </P><!--------------First Example-------------><BR><BR>
      <TABLE cellSpacing=-1 cellPadding=6 width=300 border=1>
        <TBODY>
        <TR>
          <TD align=left><FONT face="Courier New, Courier, mono" 
            size=-1><B>INSERT INTO 
            emp_copy<BR>SELECT&nbsp;&nbsp;*&nbsp;&nbsp;FROM 
        emp;</B></FONT></TD></TR></TBODY></TABLE><BR>
      <P>Assumes:</P>
      <UL>
        <LI>emp and emp_copy have same definition. 
        <LI>a complete replica of emp is desired. </LI></UL>
      <H4 class=TitleProblem>Problem</H4>
      <P>Create a table for tracking birthdays and populate it with data from 
      the employee table. </P><!--------------Second Example------------->
      <H4>Solution</H4>
      <P>First, create a table which will contain the required rows and 
      columns.</P>
      <TABLE cellSpacing=0 cellPadding=2 width="60%" border=1>
        <TBODY>
        <TR>
          <TD>
            <TABLE>
              <TBODY>
              <TR>
                <TD align=left colSpan=4><B><FONT 
                  face="Courier New, Courier, mono" size=-1>CREATE TABLE 
                  birthdays</FONT></B></TD></TR>
              <TR>
                <TD align=left width=24><B><FONT 
                  face="Courier New, Courier, mono" 
                  size=-1>&nbsp;&nbsp;&nbsp;</FONT></B></TD>
                <TD align=left width=65><B><FONT 
                  face="Courier New, Courier, mono" 
                  size=-1>(empno&nbsp;&nbsp;</FONT></B></TD>
                <TD align=left width=98><B><FONT 
                  face="Courier New, Courier, mono" 
size=-1>INTEGER</FONT></B></TD>
                <TD align=left width=82><B><FONT 
                  face="Courier New, Courier, mono" size=-1>NOT 
                NULL</FONT></B></TD></TR>
              <TR>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;&nbsp;&nbsp;</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>,lname</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>CHAR(20)</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>NOT NULL</FONT></B></TD></TR>
              <TR>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;&nbsp;&nbsp;</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>,fname</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>VARCHAR(30)</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;</FONT></B></TD></TR>
              <TR>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;&nbsp;&nbsp;</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>,birth</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>DATE)</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;</FONT></B></TD></TR>
              <TR>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;&nbsp;&nbsp;</FONT></B></TD>
                <TD align=left colSpan=3><B><FONT 
                  face="Courier New, Courier, mono" size=-1>UNIQUE PRIMARY INDEX 
                  (empno);</FONT></B></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><BR><!--------------Third Example------------->
      <P><FONT face=Arial,Helvetica,sans-serif size=-1>Then, use<B><FONT 
      face="Courier New, Courier, mono"> INSERT SELECT</FONT></B> to populate 
      the new table. Only the required columns are selected for insertion. All 
      rows are included.</FONT></P>
      <TABLE cellSpacing=0 cellPadding=2 width="60%" border=1>
        <TBODY>
        <TR>
          <TD width=266>
            <TABLE>
              <TBODY>
              <TR>
                <TD align=left colSpan=2><B><FONT 
                  face="Courier New, Courier, mono" size=-1>INSERT INTO 
                  birthdays</FONT></B></TD></TR>
              <TR>
                <TD align=left width=72><B><FONT 
                  face="Courier New, Courier, mono" 
                  size=-1>SELECT&nbsp;&nbsp;&nbsp;</FONT></B></TD>
                <TD align=left width=143><B><FONT 
                  face="Courier New, Courier, mono" 
                  size=-1>employee_number</FONT></B></TD></TR>
              <TR>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>,last_name</FONT></B></TD></TR>
              <TR>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>,first_name</FONT></B></TD></TR>
              <TR>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>,birthdate</FONT></B></TD></TR>
              <TR>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>FROM</FONT></B></TD>
                <TD align=left colSpan=3><B><FONT 
                  face="Courier New, Courier, mono" 
                size=-1>employee;</FONT></B></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>&nbsp; 
<!--------------First Table------------->
      <P><FONT face="Courier New, Courier, mono" 
      size=-1><STRONG>BIRTHDAYS</STRONG></FONT></P>
      <TABLE cellSpacing=0 cellPadding=2 width="70%" border=1>
        <TBODY>
        <TR>
          <TD align=middle><B><FONT face=Arial,Helvetica,sans-serif 
            size=1>EMPNO</FONT></B></TD>
          <TD align=middle><B><FONT face=Arial,Helvetica,sans-serif 
            size=1>LNAME</FONT></B></TD>
          <TD align=middle><B><FONT face=Arial,Helvetica,sans-serif 
            size=1>FNAME</FONT></B></TD>
          <TD align=middle><B><FONT face=Arial,Helvetica,sans-serif 
            size=1>BIRTH<BR>DATE</FONT></B></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>PK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>&nbsp;</FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1006</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Stein</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>John</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>531015</FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1008</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Kanieski</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Carol</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>580517</FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1005</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Ryan</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Loretta</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>550910</FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1004</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Johnson</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Darlene</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>460423</FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1007</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Villegas</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Arnando</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>370131</FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1003</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Trader</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>James</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>470619</FONT></TD></TR></TBODY></TABLE><!--------------End First Table-------------><BR><!--------------Second Table------------->
      <P><FONT face="Courier New, Courier, mono" 
      size=-1><STRONG>EMPLOYEE</STRONG></FONT></P>
      <TABLE cellSpacing=-1 cellPadding=2 border=1>
        <TBODY>
        <TR>
          <TD align=middle><B><FONT face=Arial,Helvetica,sans-serif 
            size=-2>EMPLOYEE<BR>NUMBER</FONT></B></TD>
          <TD align=middle><B><FONT face=Arial,Helvetica,sans-serif 
            size=-2>MANAGER<BR>EMPLOYEE<BR>NUMBER</FONT></B></TD>
          <TD align=middle><B><FONT face=Arial,Helvetica,sans-serif 
            size=-2>DEPARTMENT<BR>NUMBER</FONT></B></TD>
          <TD align=middle><B><FONT face=Arial,Helvetica,sans-serif 
            size=-2>JOB<BR>CODE</FONT></B></TD>
          <TD align=middle><B><FONT face=Arial,Helvetica,sans-serif 
            size=-2>LAST<BR>NAME</FONT></B></TD>
          <TD align=middle><B><FONT face=Arial,Helvetica,sans-serif 
            size=-2>FIRST<BR>NAME</FONT></B></TD>
          <TD align=middle><B><FONT face=Arial,Helvetica,sans-serif 
            size=-2>HIRE<BR>DATE</FONT></B></TD>
          <TD align=middle><B><FONT face=Arial,Helvetica,sans-serif 
            size=-2>BIRTH<BR>DATE</FONT></B></TD>
          <TD align=middle><B><FONT face=Arial,Helvetica,sans-serif 
            size=-2>SALARY<BR>AMOUNT</FONT></B></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>PK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1006</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1019</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>301</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>312101</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Stein</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>John</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>761015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>531015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>2945000</FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1008</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1019</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>301</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>312102</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Kanieski</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Carol</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>770201</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>580517</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>2925000</FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1005</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>0801</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>403</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>431100</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Ryan</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Loretta</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>761015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>550910</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>3120000</FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1004</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1003</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>401</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>412101</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Johnson</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Darlene</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>761015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>460423</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>3630000</FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1007</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1005</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>403</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>432101</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Villegas</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Arnando</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>770102</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>370131</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>4970000</FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1003</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>0801</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>401</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>411100</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Trader</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>James</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>760731</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>470619</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>3785000</FONT></TD></TR></TBODY></TABLE><!--------------End of Second Table------------->
      <P><STRONG>Note:</STRONG> <FONT color=#ff0000>.</FONT></P>
      <P><FONT color=#000000>In the</FONT><FONT color=#333333><FONT 
      color=#ff0000> </FONT></FONT><FONT color=#ff0000><B><FONT 
      color=#333333>Advanced Teradata SQL</FONT></B> </FONT>course we will see a 
      feature of SQL which permits the <FONT face="Courier New, Courier, mono" 
      size=-1><STRONG>CREATE TABLE</STRONG></FONT> statement and the <FONT 
      face="Courier New, Courier, mono" size=-1><STRONG>INSERT 
      SELECT</STRONG></FONT> statement to be combined into a single statement 
      called <FONT face="Courier New, Courier, mono" size=-1><STRONG>CREATE 
      TABLE WITH DATA</STRONG></FONT>.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>UPDATE</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>UPDATE</H2> -->
      <P><FONT face="Courier New, Courier, mono" size=-1><B>UPDATE</B></FONT> 
      allows you to modify one or many columns of one or many rows in a single 
      table. </P>
      <P>The <FONT face="Courier New, Courier, mono" size=-1><B>WHERE</B></FONT> 
      condition can include:</P>
      <UL>
        <LI>Columns from the table being updated. 
        <LI>Joins with columns from other tables. 
        <LI>Subqueries. </LI></UL><!--------------Start of First Table------------->
      <P><B>EMPLOYEE (Before modification)</B></P>
      <TABLE cellSpacing=-1 cellPadding=2 border=1>
        <TBODY>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>EMPLOYEE<BR>NUMBER</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>MANAGER<BR>EMPLOYEE<BR>NUMBER</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>DEPARTMENT<BR>NUMBER</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>JOB<BR>CODE</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>LAST<BR>NAME</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FIRST<BR>NAME</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>HIRE<BR>DATE</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>BIRTH<BR>DATE</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>SALARY<BR>AMOUNT</FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>PK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1006&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1019</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>301</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>312101</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Stein</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>John</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>761015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>531015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>2945000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1008&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1019</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>301</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>312102</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Kanieski</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Carol</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>770201</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>580517</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>2925000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1005&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>0801</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>403</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>431100</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Ryan</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Loretta</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>761015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>550910</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>3120000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1004&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1003</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>401</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>412101</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Johnson</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Darlene</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>761015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>460423</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>3630000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1007&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1005</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>403</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>432101</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Villegas</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Arnando</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>770102</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>370131</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>4970000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1003&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>0801</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>401</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>411100</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Trader</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>James</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>760731</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>470619</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>3785000</FONT></TD></TR>
        <TR>
          <TD align=right><IMG height=11 
            src="Teradata SQL Introduction_files/arrright.gif" width=15 
            border=0><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1010&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1003</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>401</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>412101</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Rogers</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Frank</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>770301</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>350423</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>4600000</FONT></TD></TR></TBODY></TABLE><!--------------End of First Table-------------><!--------------Start of Second Example------------->
      <H4 class=TitleProblem>Problem</H4>
      <P>Change employee 1010's department to 403, job code to 432101, and 
      manager to 1005 in the employee table:</P>
      <TABLE cellSpacing=-1 cellPadding=2 width=300 border=1>
        <TBODY>
        <TR>
          <TD>
            <TABLE>
              <TBODY>
              <TR>
                <TD align=left colSpan=4><B><FONT 
                  face="Courier New, Courier, mono" size=-1>UPDATE 
                  employee</FONT></B></TD></TR>
              <TR>
                <TD align=left colSpan=2><B><FONT 
                  face="Courier New, Courier, mono" size=-1>SET 
                  department_number</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;403</FONT></B></TD></TR>
              <TR>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;&nbsp;&nbsp;</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>,job_code</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;=</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;432101</FONT></B></TD></TR>
              <TR>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;&nbsp;&nbsp;</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>,manager_employee_number&nbsp;&nbsp;&nbsp;</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;=</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;1005</FONT></B></TD></TR>
              <TR>
                <TD align=left colSpan=2><B><FONT 
                  face="Courier New, Courier, mono" 
                  size=-1>WHERE&nbsp;employee_number</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;=</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;1010</FONT></B></TD></TR>
              <TR>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>;</FONT></B></TD>
                <TD align=left><B><FONT size=-1>&nbsp;</FONT></B></TD>
                <TD align=left><B><FONT size=-1>&nbsp;</FONT></B></TD>
                <TD align=left><B><FONT 
            size=-1>&nbsp;</FONT></B></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><BR><!--------------End of Second Example-------------><!--------------Start of Third Table------------->
      <P><B>EMPLOYEE (After)</B></P>
      <TABLE cellSpacing=0 cellPadding=2 border=1>
        <TBODY>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>EMPLOYEE<BR>NUMBER</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>MANAGER<BR>EMPLOYEE<BR>NUMBER</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>DEPARTMENT<BR>NUMBER</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>JOB<BR>CODE</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>LAST<BR>NAME</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FIRST<BR>NAME</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>HIRE<BR>DATE</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>BIRTH<BR>DATE</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>SALARY<BR>AMOUNT</FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>PK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1006&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1019</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>301</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>312101</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Stein</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>John</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>761015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>531015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>2945000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1008&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1019</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>301</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>312102</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Kanieski</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Carol</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>770201</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>580517</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>2925000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1005&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>0801</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>403</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>431100</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Ryan</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Loretta</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>761015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>550910</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>3120000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1004&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1003</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>401</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>412101</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Johnson</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Darlene</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>761015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>460423</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>3630000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1007&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1005</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>403</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>432101</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Villegas</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Arnando</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>770102</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>370131</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>4970000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1003&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>0801</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>401</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>411100</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Trader</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>James</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>760731</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>470619</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>3785000</FONT></TD></TR>
        <TR>
          <TD align=right><IMG height=11 
            src="Teradata SQL Introduction_files/arrright.gif" width=15 
            border=0><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1010&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1005</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>403</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>432101</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Rogers</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Frank</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>770301</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>350423</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>4600000</FONT></TD></TR></TBODY></TABLE><!--------------End of Third Table-------------></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>UPDATE Using Subqueries or 
Joins</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>UPDATE Using Subqueries or Joins</H2> -->
      <H4 class=TitleProblem>Problem</H4>
      <P>Update the employee table to give everyone in all support departments a 
      10% raise. Department numbers for all of the support departments are not 
      known. </P><!--------------Start of First Table------------->
      <P><B>DEPARTMENT</B></P>
      <TABLE cellSpacing=-1 cellPadding=2 border=1>
        <TBODY>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>DEPARTMENT<BR>NUMBER</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>DEPARTMENT<BR>NAME</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>BUDGET<BR>AMOUNT</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>MANAGER<BR>EMPLOYEE<BR>NUMBER</FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>PK</FONT></TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>501&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>marketing sales</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>8005000</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1017</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>301&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>research and development</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>46560000</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1019</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>302&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif size=-3>product 
            planning</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>22600000</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1016</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>403&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>education</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>93200000</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1005</FONT></TD></TR>
        <TR>
        <TR>
          <TD align=right><IMG height=11 
            src="Teradata SQL Introduction_files/arrright.gif" width=15 
            border=0><FONT face=Arial,Helvetica,sans-serif 
            size=-3>402&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>software support</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>30800000</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1011</FONT></TD></TR>
        <TR>
          <TD align=right><IMG height=11 
            src="Teradata SQL Introduction_files/arrright.gif" width=15 
            border=0><FONT face=Arial,Helvetica,sans-serif 
            size=-3>401&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>customer support</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>98230000</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1003</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>201&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>technical operations</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>29380000</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1025</FONT></TD></TR>
        <TR></TR></TBODY></TABLE><!--------------End of First Table-------------><!--------------Start of Second Table------------->
      <P><B>EMPLOYEE</B></P>
      <TABLE cellSpacing=0 cellPadding=2 border=1>
        <TBODY>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>EMPLOYEE<BR>NUMBER</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>MANAGER<BR>EMPLOYEE<BR>NUMBER</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>DEPARTMENT<BR>NUMBER</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>JOB<BR>CODE</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>LAST<BR>NAME</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FIRST<BR>NAME</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>HIRE<BR>DATE</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>BIRTH<BR>DATE</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>SALARY<BR>AMOUNT</FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>PK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1006&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1019</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>301</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>312101</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Stein</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>John</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>761015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>531015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>2945000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1008&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1019</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>301</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>312102</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Kanieski</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Carol</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>770201</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>580517</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>2925000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1005&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>0801</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>403</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>431100</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Ryan</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Loretta</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>761015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>550910</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>3120000</FONT></TD></TR>
        <TR>
          <TD align=right><IMG height=11 
            src="Teradata SQL Introduction_files/arrright.gif" width=15 
            border=0><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1004&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1003</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>401</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>412101</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Johnson</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Darlene</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>761015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>460423</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>3993000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1007&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1005</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>403</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>432101</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Villegas</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Arnando</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>770102</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>370131</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>4970000</FONT></TD></TR>
        <TR>
          <TD align=right><IMG height=11 
            src="Teradata SQL Introduction_files/arrright.gif" width=15 
            border=0><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1003&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>0801</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>401</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>411100</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Trader</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>James</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>760731</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>470619</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>4163500</FONT></TD></TR></TBODY></TABLE>
      <H4 class=TitleSolution>Solution 1 </H4>
      <P><B>Using Subquery:</B></P>
      <TABLE cellSpacing=0 cellPadding=2 width="70%" border=1>
        <TBODY>
        <TR>
          <TD>
            <TABLE>
              <TBODY>
              <TR>
                <TD align=left colSpan=2><B><FONT 
                  face="Courier New, Courier, mono" size=-1>UPDATE</FONT></B></TD>
                <TD align=left colSpan=2><B><FONT 
                  face="Courier New, Courier, mono" 
                size=-1>employee</FONT></B></TD></TR>
              <TR>
                <TD align=left colSpan=2><B><FONT 
                  face="Courier New, Courier, mono" size=-1>SET</FONT></B></TD>
                <TD align=left colSpan=2><B><FONT 
                  face="Courier New, Courier, mono" 
                  size=-1>salary_amount=salary_amount * 1.10</FONT></B></TD></TR>
              <TR>
                <TD align=left colSpan=2><B><FONT 
                  face="Courier New, Courier, mono" size=-1>WHERE</FONT></B></TD>
                <TD align=left colSpan=2><B><FONT 
                  face="Courier New, Courier, mono" size=-1>department_number 
                  IN</FONT></B></TD></TR>
              <TR>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;</FONT></B></TD>
                <TD align=left colSpan=2><B><FONT 
                  face="Courier New, Courier, mono" 
size=-1>(SELECT</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>department_number</FONT></B></TD></TR>
              <TR>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;</FONT></B></TD>
                <TD align=left colSpan=2><B><FONT 
                  face="Courier New, Courier, mono" size=-1>FROM</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>department</FONT></B></TD></TR>
              <TR>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>&nbsp;</FONT></B></TD>
                <TD align=left colSpan=2><B><FONT 
                  face="Courier New, Courier, mono" size=-1>WHERE</FONT></B></TD>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>department_name LIKE '%Support%')</FONT></B></TD></TR>
              <TR>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>;</FONT></B></TD>
                <TD align=left><B><FONT size=-1>&nbsp;</FONT></B></TD>
                <TD align=left><B><FONT size=-1>&nbsp;</FONT></B></TD>
                <TD align=left><B><FONT 
            size=-1>&nbsp;</FONT></B></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><BR>
      <H4 class=TitleSolution>Solution 2 </H4>
      <P><B>Using Join:</B></P>
      <TABLE cellSpacing=0 cellPadding=2 width="70%" border=1>
        <TBODY>
        <TR>
          <TD>
            <TABLE>
              <TBODY>
              <TR>
                <TD align=left width=54><B><FONT 
                  face="Courier New, Courier, mono" size=-1>UPDATE</FONT></B></TD>
                <TD align=left width=287><B><FONT 
                  face="Courier New, Courier, mono" 
                size=-1>employee</FONT></B></TD></TR>
              <TR>
                <TD align=left width=54><B><FONT 
                  face="Courier New, Courier, mono" size=-1>SET</FONT></B></TD>
                <TD align=left width=287><B><FONT 
                  face="Courier New, Courier, mono" 
                  size=-1>salary_amount=salary_amount * 1.10</FONT></B></TD></TR>
              <TR>
                <TD align=left width=54><B><FONT 
                  face="Courier New, Courier, mono" size=-1>WHERE</FONT></B></TD>
                <TD align=left width=287><B><FONT 
                  face="Courier New, Courier, mono" 
                  size=-1>employee.department_number =</FONT></B></TD></TR>
              <TR>
                <TD align=left width=54><B><FONT 
                  face="Courier New, Courier, mono" size=-1>&nbsp;</FONT></B></TD>
                <TD align=left width=287><B><FONT 
                  face="Courier New, Courier, mono" 
                  size=-1>department.department_number</FONT></B></TD></TR>
              <TR>
                <TD align=left width=54><B><FONT 
                  face="Courier New, Courier, mono" size=-1>AND</FONT></B></TD>
                <TD align=left width=287><B><FONT 
                  face="Courier New, Courier, mono" size=-1>department_name LIKE 
                  '%Support%'</FONT></B></TD></TR>
              <TR>
                <TD align=left width=54><B><FONT 
                  face="Courier New, Courier, mono" size=-1>;</FONT></B></TD>
                <TD align=left width=287><FONT 
            size=-1></FONT></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><BR>
      <P><B>Note:</B> In an update, you can't use the <FONT 
      face="Courier New, Courier" size=-1><B>ON</B></FONT> clause, so the join 
      condition is specified in the <FONT face="Courier New, Courier" 
      size=-1><B>WHERE</B></FONT> clause.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>DELETE</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>DELETE</H2> -->
      <P><FONT face="Courier New, Courier, mono" size=-1><B>DELETE</B></FONT> 
      allows you to delete rows from a single table. If no <FONT 
      face="Courier New, Courier, mono" size=-1><B>WHERE</B></FONT> clause is 
      specified, then all rows are deleted.</P>
      <P>The <FONT face="Courier New, Courier, mono" size=-1><B>WHERE</B></FONT> 
      condition can reference:</P>
      <UL>
        <LI>Column values in the target table. 
        <LI>Column values based on a subquery against another table. 
        <LI>Column values based on a join with another table. </LI></UL><!--------------Start of First Table------------->
      <H4 class=TitleProblem>Problem</H4>
      <P>Remove all employees in department 301 from the employee table. </P>
      <P><B>EMPLOYEE</B></P>
      <TABLE cellSpacing=0 cellPadding=2 border=1>
        <TBODY>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>EMPLOYEE<BR>NUMBER</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>MANAGER<BR>EMPLOYEE<BR>NUMBER</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>DEPARTMENT<BR>NUMBER</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>JOB<BR>CODE</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>LAST<BR>NAME</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FIRST<BR>NAME</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>HIRE<BR>DATE</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>BIRTH<BR>DATE</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>SALARY<BR>AMOUNT</FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>PK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD align=right><IMG height=11 
            src="Teradata SQL Introduction_files/arrright.gif" width=15 
            border=0><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1006&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1019</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>301</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>312101</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Stein</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>John</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>761015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>531015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>2945000</FONT></TD></TR>
        <TR>
          <TD align=right><IMG height=11 
            src="Teradata SQL Introduction_files/arrright.gif" width=15 
            border=0><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1008&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1019</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>301</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>312102</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Kanieski</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Carol</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>770201</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>580517</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>2925000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1005&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>0801</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>403</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>431100</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Ryan</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Loretta</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>761015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>550910</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>3120000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1004&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1003</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>401</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>412101</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Johnson</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Darlene</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>761015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>460423</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>3630000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1007&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1005</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>403</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>432101</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Villegas</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Arnando</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>770102</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>370131</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>4970000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1003&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>0801</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>401</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>411100</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Trader</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>James</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>760731</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>470619</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>3785000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1010&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1005</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>403</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>432101</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Rogers</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Frank</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>770301</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>350423</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>4600000</FONT></TD></TR></TBODY></TABLE><!--------------End of First Table-------------><!--------------Start of First Example------------->
      <H4 class=TitleSolution>Solution</H4>
      <TABLE cellSpacing=0 cellPadding=2 width="70%" border=1>
        <TBODY>
        <TR>
          <TD>
            <TABLE>
              <TBODY>
              <TR>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>DELETE 
                FROM&nbsp;&nbsp;&nbsp;&nbsp;employee</FONT></B></TD></TR>
              <TR>
                <TD align=left><B><FONT face="Courier New, Courier, mono" 
                  size=-1>WHERE&nbsp;&nbsp;&nbsp;&nbsp;department_number = 
                  301;</FONT></B></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE><BR><!--------------End of First Example-------------><!--------------Start of Second Table------------->
      <H4 class=TitleProblem>Problem</H4>
      <P>Delete ALL data in the employee table.</P>
      <P><B>EMPLOYEE</B></P>
      <TABLE cellSpacing=0 cellPadding=2 border=1>
        <TBODY>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>EMPLOYEE<BR>NUMBER</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>MANAGER<BR>EMPLOYEE<BR>NUMBER</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>DEPARTMENT<BR>NUMBER</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>JOB<BR>CODE</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>LAST<BR>NAME</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FIRST<BR>NAME</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>HIRE<BR>DATE</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>BIRTH<BR>DATE</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>SALARY<BR>AMOUNT</FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>PK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>FK</FONT></TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1005&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>0801</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>403</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>431100</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Ryan</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Loretta</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>761015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>550910</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>3120000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1004&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1003</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>401</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>412101</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Johnson</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Darlene</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>761015</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>460423</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>3630000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1007&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1005</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>403</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>432101</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Villegas</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Arnando</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>770102</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>370131</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>4970000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1003&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>0801</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>401</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>411100</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Trader</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>James</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>760731</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>470619</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>3785000</FONT></TD></TR>
        <TR>
          <TD align=right><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1010&nbsp;&nbsp;&nbsp;&nbsp;</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>1003</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>403</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>432101</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Rogers</FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif 
            size=-3>Frank</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>770301</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>350423</FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif 
            size=-3>4600000</FONT></TD></TR></TBODY></TABLE><!--------------End of Second Table-------------><!--------------Start of Second Example------------->
      <H4 class=TitleSolution>Solution</H4>
      <TABLE cellSpacing=0 cellPadding=2 width="80%" border=1>
        <TBODY>
        <TR>
          <TD align=left><FONT face="Courier New, Courier, mono" 
            size=-1><B>DELETE FROM&nbsp;&nbsp;employee ALL;</B> /* Teradata 
            syntax */</FONT></TD></TR></TBODY></TABLE><BR>
      <TABLE cellSpacing=0 cellPadding=2 width="80%" border=1>
        <TBODY>
        <TR>
          <TD align=left><FONT face="Courier New, Courier, mono" 
            size=-1><B>DELETE FROM&nbsp;&nbsp;employe</B>e; /* ANSI standard 
            syntax */</FONT></TD></TR></TBODY></TABLE>
      <P>Both produce the same result.</P><!--------------End of Second Example-------------></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>DELETE Using Subqueries or 
Joins</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <h2>DELETE Using Subqueries or Joins</h2> -->
      <H4 class=TitleProblem>Problem</H4>
      <P>Remove all employees assigned to a temporary department for which the 
      department name is "Temp".</P><!--------------Start of First Table------------->
      <P><STRONG>EMPLOYEE</STRONG></P>
      <TABLE borderColor=#000000 cellSpacing=0 cellPadding=2 width="90%" 
      border=2>
        <TBODY>
        <TR borderColor=#000000>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>EMPLOYEE</FONT></FONT> <BR><FONT 
            face=Arial,Helvetica,sans-serif><FONT 
size=-2>NUMBER</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>MANAGER</FONT></FONT> <BR><FONT 
            face=Arial,Helvetica,sans-serif><FONT size=-2>EMPLOYEE</FONT></FONT> 
            <BR><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>NUMBER</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>DEPARTMENT</FONT></FONT> <BR><FONT 
            face=Arial,Helvetica,sans-serif><FONT 
size=-2>NUMBER</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>JOB</FONT></FONT> <BR><FONT 
            face=Arial,Helvetica,sans-serif><FONT size=-2>CODE</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>LAST</FONT></FONT> <BR><FONT 
            face=Arial,Helvetica,sans-serif><FONT size=-2>NAME</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>FIRST</FONT></FONT> <BR><FONT 
            face=Arial,Helvetica,sans-serif><FONT size=-2>NAME</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>HIRE</FONT></FONT> <BR><FONT 
            face=Arial,Helvetica,sans-serif><FONT size=-2>DATE</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>BIRTH</FONT></FONT> <BR><FONT 
            face=Arial,Helvetica,sans-serif><FONT size=-2>DATE</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>SALARY</FONT></FONT> <BR><FONT 
            face=Arial,Helvetica,sans-serif><FONT 
        size=-2>AMOUNT</FONT></FONT></TD></TR>
        <TR borderColor=#000000>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>PK</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>FK</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>FK</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>FK</FONT></FONT></TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD></TR>
        <TR borderColor=#000000>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>1006</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>1019</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>301</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>312101</FONT></FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>Stein</FONT></FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>John</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>761015</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>531015</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>2945000</FONT></FONT></TD></TR>
        <TR borderColor=#000000>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>1008</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>1019</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>301</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>312102</FONT></FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>Kanieski</FONT></FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>Carol</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>770201</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>580517</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>2925000</FONT></FONT></TD></TR>
        <TR borderColor=#000000>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>1005</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>0801</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>403</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>431100</FONT></FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>Ryan</FONT></FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>Loretta</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>761015</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>550910</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>3120000</FONT></FONT></TD></TR>
        <TR borderColor=#000000>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>1004</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>1003</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>401</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>412101</FONT></FONT></TD>
          <TD align=middle>
            <DIV align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>Johnson</FONT></FONT></DIV></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>Darlene</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>761015</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>460423</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>3630000</FONT></FONT></TD></TR>
        <TR borderColor=#000000>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>1007</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>1005</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>403</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>432101</FONT></FONT></TD>
          <TD align=middle>
            <DIV align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>Villegas</FONT></FONT></DIV></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>Arnando</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>770102</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>370131</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>4970000</FONT></FONT></TD></TR>
        <TR borderColor=#000000>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>1003</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>0801</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>401</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>411100</FONT></FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>Trader</FONT></FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>James</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>760731</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>470619</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>3785000</FONT></FONT></TD></TR></TBODY></TABLE><!--------------End of First Table-------------><!--------------Start of Second Table------------->
      <P><STRONG>DEPARTMENT</STRONG></P>
      <TABLE borderColor=#000000 cellSpacing=0 cellPadding=2 width="80%" 
      border=2>
        <TBODY>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>DEPARTMENT</FONT></FONT> <BR><FONT 
            face=Arial,Helvetica,sans-serif><FONT 
size=-2>NUMBER</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>DEPARTMENT</FONT></FONT> <BR><FONT 
            face=Arial,Helvetica,sans-serif><FONT size=-2>NAME</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>BUDGET</FONT></FONT> <BR><FONT 
            face=Arial,Helvetica,sans-serif><FONT 
size=-2>AMOUNT</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>MANAGER</FONT></FONT> <BR><FONT 
            face=Arial,Helvetica,sans-serif><FONT size=-2>EMPLOYEE</FONT></FONT> 
            <BR><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>NUMBER</FONT></FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>PK</FONT></FONT></TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>FK</FONT></FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>501</FONT></FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>marketing sales</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>8005000</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>1017</FONT></FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>301</FONT></FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>research and development</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>46560000</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>1019</FONT></FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>302</FONT></FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>product planning</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>22600000</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>1016</FONT></FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>403</FONT></FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>education</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>93200000</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>1005</FONT></FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>402</FONT></FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>software support</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>30800000</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>1011</FONT></FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>401</FONT></FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>customer support</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>29230000</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>1003</FONT></FONT></TD></TR>
        <TR>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>600</FONT></FONT></TD>
          <TD align=left><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>Temp</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>&nbsp;</FONT></FONT></TD>
          <TD align=middle><FONT face=Arial,Helvetica,sans-serif><FONT 
            size=-2>1099</FONT></FONT></TD></TR></TBODY></TABLE><!--------------End of Second Table-------------><!--------------Start of Solution 1------------->
      <H4 class=TitleSolution>Solution 1</H4>
      <P>Using Subquery: </P><FONT face="courier New, Courier" color=#660066 
      size=3><PRE>  <B>DELETE FROM employee 
  WHERE department_number IN
     (SELECT department_number
     FROM department
     WHERE department_name ='Temp');	</B>
</PRE></FONT><!--------------End of Solution 1-------------><!--------------Start of Solution 2------------->
      <H4 class=TitleSolution>Solution 2</H4>
      <P>Using Join: </P><FONT face="courier New, Courier" color=#660066 size=3><PRE>  <B>DELETE FROM employee 
  WHERE employee.department_number=department.department_number
  AND
  department.department_name='Temp';</B>
</PRE></FONT>
      <P><B>Note:</B> In either case, no rows are removed from the 'employee' 
      table because no current employees are assigned to the 'Temp' 
      department.</P><!-- <p align="center"><img src="13DML/../z-line.gif" width="20" height="2" border="0"> <b><a href="./images/labs/wbt-data_manip_lab.shtm">Lab</a></b> <img src="13DML/../z-line.gif" width="20" height="2" border="0"></p> --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK href="./././sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>
      <TABLE cellSpacing=0 cellPadding=8 width="100%" bgColor=#ffffcc 
        border=0><TBODY>
        <TR>
          <TD vAlign=top width="20%" bgColor=#ffffcc><B><FONT size=-1><A 
            name=LAB>Try It!</A></FONT></B> </TD>
          <TD vAlign=top width="80%" bgColor=#ffffcc><!-- <H2>LAB</H2> -->
            <P>For this set of lab questions you will need information from the 
            <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1>Database Info document.</A> </P>
            <P>To start the online labs, click on the Telnet button in the lower 
            left hand screen of the course. Two windows will pop-up: a BTEQ 
            Instruction Screen and your Telnet Window. Sometimes the BTEQ 
            Instructions get hidden behind the Telnet Window. You will need 
            these instructions to log on to Teradata. </P>
            <P><B>Hint: Prior to doing these labs, it will be helpful to reset 
            your default database to your own user id (i.e. <FONT 
            face="courier New, Courier" size=-1><B>DATABASE 
            tdxxx;</B></FONT>).</B> </P>
            <P>Click on the buttons to the left to see the answers.</P>
            <P>The following labs are interdependent. Be sure to do them in 
            sequence. </P></TD></TR>
        <TR>
          <TD vAlign=top width=106><FONT size=-1>Answers:<BR><A 
            onclick="AnswerWindow('Mod14L01.htm',400,420,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            A<BR><A onclick="AnswerWindow('Mod14L02.htm',600,570,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            B<BR><A onclick="AnswerWindow('Mod14L03.htm',600,570,circbut03)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut03 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            C </FONT></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc>
            <P>
            <OL type=A>
              <LI>Use an <FONT face="courier New, Courier" size=-1><B>INSERT 
              SELECT</B></FONT> statement to copy all rows from the 
              Customer_Service employee table into the emp_new table created in 
              the previous module. 
              <P></P>
              <LI>Write SQL code to accomplish the following: 
              <P>Select all department 301 employees to include employee number, 
              last name, job code, and salary from the table created in Lab A in 
              the preceding Data Definition module.</P>
              <OL type=1>
                <LI>Note salary amounts. 
                <LI>Update your emp_new table to give a 15% raise to all 
                employees in department 301. 
                <LI>Verify results.<BR><BR></LI></OL>
              <LI>Reverse the effects of the update in exercise B. Verify the 
              reversal. 
</LI></OL></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;Simple 
      Macros</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><FONT face=Verdana 
size=3><B>Objectives</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>After completing this module, you should be able to:</P>
      <UL>
        <LI><FONT face="courier New, Courier" 
        size=2><STRONG>CREATE</STRONG></FONT> and <FONT 
        face="courier New, Courier" size=2><STRONG>EXEC</STRONG></FONT> a simple 
        macro. 
        <LI><FONT face="courier New, Courier" 
        size=2><STRONG>REPLACE</STRONG></FONT> a macro. 
        <LI><FONT face="courier New, Courier" 
        size=2><STRONG>DROP</STRONG></FONT> a macro. 
  </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Overview of Macros</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Overview of Macros</H2> -->
      <P>A <B>macro</B> is a Teradata extension to ANSI SQL that contains 
      prewritten SQL statements. The actual text of the macro is stored in a 
      global repository called the Data Dictionary (DD). Macros are database 
      objects and thus they belong to a specified user or database. They may 
      contain one or more SQL statements. Macros have special efficiencies in 
      the Teradata environment and are highly desirable for building reusable 
      queries. </P>
      <P>A <B>macro</B> allows you to name a set of one or more statements. When 
      you need to execute those statements, simply execute the named macro. 
      Macros provide a convenient shortcut for executing groups of 
      frequently-run SQL statements. </P>
      <P>The following table is a fairly complete list of commands you may use 
      to manipulate macros.</P>
      <TABLE cellSpacing=0 cellPadding=2 width="98%" border=1>
        <TBODY>
        <TR vAlign=top align=left>
          <TD><B>CREATE MACRO macroname AS ( . . . ); </B></TD>
          <TD>Define a macro and store it in the DD. </TD></TR>
        <TR vAlign=top align=left>
          <TD><B>EXEC macroname; </B></TD>
          <TD>Execute statements within a macro.</TD></TR>
        <TR vAlign=top align=left>
          <TD><B>SHOW MACRO macroname;</B></TD>
          <TD>Display a macro.</TD></TR>
        <TR vAlign=top align=left>
          <TD height=34><B>REPLACE MACRO macroname AS (. . . ); </B></TD>
          <TD height=34>Apply changes to a macro or create a new one. </TD></TR>
        <TR vAlign=top align=left>
          <TD><B>DROP MACRO macroname; </B></TD>
          <TD>Remove a macro definition from the DD. </TD></TR>
        <TR vAlign=top align=left>
          <TD><B>EXPLAIN EXEC macroname; </B></TD>
          <TD>Display EXPLAIN text for the macro's execution. 
      </TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>CREATE MACRO</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H4><A NAME="2"></A>CREATE MACRO</H4> -->
      <P>The <FONT face="courier New, Courier" size=-1><STRONG>CREATE 
      MACRO</STRONG></FONT> command allows you to define a set of SQL statements 
      and put them into an executable statement. </P>
      <P class=TitleExample>Example</P>
      <P>Create a macro to generate a birthday list for department 201:</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <B>CREATE MACRO  birthday_list AS
                (SELECT   last_name
                         ,first_name
                         ,birthdate
                FROM     employee
                WHERE    department_number =201
                ORDER BY birthdate;);</B>
</PRE></FONT>
      <P>To execute the birthday list macro:</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <STRONG>EXEC birthday_list;</STRONG>
</PRE></FONT>
      <TABLE cellSpacing=0 cellPadding=2 width="80%" border=0>
        <TBODY>
        <TR>
          <TD width="30%"><STRONG>last_name</STRONG><BR>-----------</TD>
          <TD width="30%"><STRONG>first_name</STRONG><BR>-----------</TD>
          <TD><STRONG>birthdate</STRONG><BR>---------------</TD></TR>
        <TR>
          <TD>Morrissey</TD>
          <TD>Jim</TD>
          <TD>43/04/29</TD></TR>
        <TR>
          <TD>Short</TD>
          <TD>Michael</TD>
          <TD>47/07/07 </TD></TR></TBODY></TABLE>
      <P>Notice that there is a semicolon before the closing parenthesis. This 
      is a required element of macro syntax. The <FONT 
      face="Courier New, Courier, mono" size=-1 new="NEW" 
      courier="COURIER"><STRONG>CREATE MACRO</STRONG></FONT> statement will fail 
      if there is a syntax error anywhere in the body of the SQL statement. If a 
      macro exists, it is guaranteed to have previously been syntax checked. 
      This does not guarantee that it will work without errors because objects 
      referenced within the macro (e.g., the employee table) may not exist any 
      longer or may have changed. </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>EXECUTE Macro</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H4><A NAME="2"></A>EXECUTE Macro</H4> -->
      <P>To execute a macro, simply precede its name with the <FONT 
      face="courier New, Courier" size=-1><STRONG>EXEC</STRONG></FONT> 
      command.</P><FONT face="courier New, Courier" color=#660066 size=3><PRE>  <STRONG>EXEC birthday_list;</STRONG>
</PRE></FONT>
      <TABLE cellSpacing=0 cellPadding=2 width="80%" border=0>
        <TBODY>
        <TR>
          <TD width="30%"><STRONG>last_name</STRONG><BR>-----------</TD>
          <TD width="30%"><STRONG>first_name</STRONG><BR>-----------</TD>
          <TD><STRONG>birthdate</STRONG><BR>---------------</TD></TR>
        <TR>
          <TD>Morrissey</TD>
          <TD>Jim</TD>
          <TD>43/04/29</TD></TR>
        <TR>
          <TD>Short</TD>
          <TD>Michael</TD>
          <TD>47/07/07 </TD></TR></TBODY></TABLE><!-- <H4><A NAME="2"></A>DROP Macro</H4> 

<p>Use the <font face="courier New, Courier" size="-1">DROP MACRO</font> command to delete a macro.</p>

<pre>DROP MACRO birthday_list;
</pre>

 <H4><A NAME="3"></A>REPLACE Macro</H4>

You need to resubmit the entire contents of amacro to modify it. It is convenient to display current macro contents so you can cut and paste them into a text editor. You may then modify the macro without retyping the entire command. To display the definition of a macro, use:


<pre>
	SHOW MACRO birthday_list;

	CREATE MACRO	birthday_list AS
			(<b>SELECT</b> last_name
				,first_name
				,birthdate
			FROM	employee
			WHERE	department_number = 201
			ORDER BY birthdate;) ;
</pre>

<p>In editing the macro, change the <font face="courier New, Courier" size="-1">CREATE</font> command to the <font face="courier New, Courier" size="-1">REPLACE</font> command, and make the appropriate changes, such as adding a minor sort to the <font face="courier New, Courier" size="-1">ORDER BY</font> clause. Comments may optionally be added.</p>

<pre>
	REPLACE MACRO	birthday_list AS
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*  Macro is being updated for sorting sequence */<br>			(<b>SELECT</b>	last_name
				,first_name
				,birthdate
			FROM	employee
			WHERE	department_number = 201
			ORDER BY birthdate, last_name;);
</pre>

<p>Submit this as a BTEQ script. The old birthday_list macro will be replaced by the new one.</p>

<p align="center"><img src="14SimpMacro/../z-line.gif" width="20" height="2" border="0"> <b><a href="../labs/simp_macr_lab.shtm">Lab</a></b> <img src="14SimpMacro/../z-line.gif" width="20" height="2" border="0"></p>

 --><!-- <CENTER><A HREF="simp_macr_lab.shtm"><B>Lab</B></A></CENTER> --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>DROP Macro</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H4><A NAME="2"></A>DROP Macro</H4>  -->
      <P>Use the <FONT face="Courier New, Courier" size=-1><B>D</B><STRONG>ROP 
      MACRO</STRONG></FONT> command to delete a macro.</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <STRONG>DROP MACRO birthday_list; </STRONG></PRE></FONT>
      <P>This command removes the macro from the containing database and also 
      removes its entry from the Data Dictionary.<STRONG><B> </B></STRONG><FONT 
      face="courier New, Courier" color=#660066 
      size=3><STRONG><BR></STRONG><BR></FONT></P><FONT 
      face="courier New, Courier" color=#660066 
  size=3></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>REPLACE Macro</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!--  <H4><A NAME="3"></A>REPLACE Macro</H4> -->You need to 
      resubmit the entire contents of amacro to modify it. It is convenient to 
      display current macro contents so you can cut and paste them into a text 
      editor. You may then modify the macro without retyping the entire command. 
      To display the definition of a macro, use the SHOW command as seen here: 
      <BR><BR><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>SHOW MACRO  birthday_list;</B></PRE>
      <H4><B><U>Result</U><BR></B></H4><PRE><B>CREATE MACRO   birthday_list AS
   SELECT         last_name
                  ,first_name
                  ,birthdate
   FROM           employee
   WHERE          department_number = 201
   ORDER BY       birthdate;) ;</B>
</PRE></FONT>
      <P>In editing the macro, change the <FONT face="courier New, Courier" 
      size=-1><STRONG>CREATE</STRONG></FONT> command to the <FONT 
      face="courier New, Courier" size=-1><STRONG>REPLACE</STRONG></FONT> 
      command, and make the appropriate changes, such as adding a minor sort to 
      the <FONT face="courier New, Courier" size=-1><STRONG>ORDER 
      BY</STRONG></FONT> clause. Comments may optionally be added.</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B><FONT color=#ff0000>REPLACE MACRO   </FONT> birthday_list AS
   /*  Macro is being updated for sorting sequence */
                   (SELECT    last_name
                              ,first_name
                              ,birthdate
                   FROM       employee
                   WHERE      department_number = 201
                   ORDER BY   birthdate, <FONT color=#ff0000>last_name</FONT>;);</B>
</PRE></FONT>
      <P>Submit this as a BTEQ script. The old birthday_list macro will be 
      replaced by the new one.</P><!-- <p align="center"><img src="14SimpMacro/../z-line.gif" width="20" height="2" border="0"> <b><a href="./images/labs/wbt-simp_macr_lab.shtm">Lab</a></b> <img src="14SimpMacro/../z-line.gif" width="20" height="2" border="0"></p> --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK href="./././sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>LAB</H2> -->
      <P>
      <TABLE cellSpacing=0 cellPadding=10 width="100%" border=0>
        <TBODY>
        <TR>
          <TD vAlign=top width=106><B><FONT size=-1><A name=LAB>Try 
            It!</A></FONT></B></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc><FONT size=-1>
            <P>For this set of lab questions you will need information from the 
            <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1>Database Info document.</A></P>
            <P>To start the online labs, click on the Telnet button in the lower 
            left hand screen of the course. Two windows will pop-up: a BTEQ 
            Instruction Screen and your Telnet Window.</P>
            <P>Sometimes the BTEQ Instructions get hidden behind the Telnet 
            Window. You will need these instructions to log on to Teradata.</P>
            <P><B>Be sure to change your default database to the 
            Customer_Service database in order to run these labs.</B> </P>
            <P>Click on the buttons to the left to see the answers. </P>
            <P>References to<B> 'tdxxx'</B> are to be substituted with your 
            personal userid.</P>
            <P>Name <FONT face="courier New, Courier" 
            size=-1><B>MACROs</B></FONT> to match the <FONT 
            face="courier New, Courier" size=-1><B>LAB</B></FONT> numbers. For 
            example, give the macro for the first lab below the name Lab 
            7_A.</P></FONT></TD></TR>
        <TR>
          <TD vAlign=top width=106>Answers:<BR><A 
            onclick="AnswerWindow('Mod07L01.htm',570,500,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            A <BR><A onclick="AnswerWindow('Mod07L02.htm',570,500,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            B <BR><A onclick="AnswerWindow('Mod07L03.htm',570,425,circbut03)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut03 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            C <BR><A onclick="AnswerWindow('Mod07L04.htm',570,500,circbut04)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut04 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            D <BR><A onclick="AnswerWindow('Mod07L05.htm',570,350,circbut05)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut05 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            E </TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc>
            <OL type=A>
              <LI>Write a simple<FONT face="courier New, Courier" size=-1> 
              </FONT><FONT size=-1>macro</FONT> to create a customer 
              geographical distribution list from the location table. Include 
              location number, customer number, city and state (limit city and 
              state to 14 characters each). Sort by city within state. <FONT 
              face="courier New, Courier" size=-1><B>CREATE</B></FONT> the<FONT 
              face="courier New, Courier" size=-1> </FONT><FONT 
              size=-1>macro</FONT>. Execute the<FONT size=-1> macro</FONT>. (The 
              <FONT face="courier New, Courier" size=-1><B>CREATE</B></FONT> and 
              <FONT face="courier New, Courier" size=-1><B>EXEC</B></FONT> 
              should be separate scripts.) 
              <P></P><B>Note:</B> <FONT face="courier New, Courier" 
              size=-1><B>CUSTOMER_SERVICE</B></FONT> is a Read-Only database. 
              You need to create the macros in your own user space. Tell the 
              system to do this either by: 
              <P></P>
              <OL>
                <LI><FONT face="courier New, Courier" size=-1><B>DATABASE tdxxx; 
                CREATE MACRO LAB 7_A AS...</B> </FONT>
                <P></P>or 
                <P></P>
                <LI><FONT face="courier New, Courier" size=-1><B>CREATE MACRO 
                tdxxx.Lab 7_A as...</B></FONT> </LI></OL>
              <P></P><B>Note:</B> This lab is used again for Lab B and Lab D. 
              <P></P>
              <LI>Modify the<FONT face="courier New, Courier" size=-1> 
              </FONT><FONT size=-1>macro</FONT> from Lab A to take location 
              number out. Add zip code as the last column on the report. Zip 
              code should be the lowest level of sort. Limit your selection to 
              customers based in the state of Illinois. Save the modified <FONT 
              size=-1>macro</FONT> under a new name. Submit and execute the 
              new<FONT face="courier New, Courier" size=-1> </FONT><FONT 
              size=-1>macro</FONT>. 
              <P></P>
              <LI>Use the appropriate <FONT face="courier New, Courier" 
              size=-1><B>HELP </B></FONT>command to find the names of all<FONT 
              face="courier New, Courier" size=-1> </FONT><FONT 
              size=-1>macro</FONT>s<FONT face="courier New, Courier" size=-1> 
              </FONT>in your database. 
              <P></P>
              <LI>Replace the<FONT face="courier New, Courier" size=-1> 
              </FONT><FONT size=-1>macro</FONT> you created for Lab A, with 
              these changes: Select only those customers in the city of Chicago; 
              Include their first address line as the last column of the report; 
              Remove the state from the report; Sort the output by customer 
              number in descending order. 
              <P></P>
              <LI>Drop your Lab 7_A<FONT face="courier New, Courier" size=-1> 
              </FONT><FONT size=-1>macro</FONT>. 
      </LI></OL></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;Parameterized 
      Macros</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><LINK href="../sqlstyle.css" 
type=text/css rel=stylesheet><FONT face=Verdana size=3><B>Objectives</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->After completing this module, you 
      should be able to: 
      <UL>
        <LI>Create and execute a parameterized macro. 
  </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Macros Revisited</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Macros Revisited</H2> -->
      <P>Macros contain one or more prewritten SQL statements that are stored in 
      the Teradata Data Dictionary. They can be executed from any viable SQL 
      front-end, including:</P>
      <UL>
        <LI>Teradata SQL Assistant 
        <LI>BTEQ 
        <LI>Preprocessor 
        <LI>CLI 
        <LI>LOGON Startup 
        <LI>Another macro. </LI></UL>
      <P>Other key points to note about Macros:</P>
      <UL>
        <LI>Macros are a Teradata extension to SQL. 
        <LI>Macros can only be executed with the EXEC privilege. 
        <LI>Macros can provide column level security. </LI></UL>
      <P><B>Note:</B> If a user has <FONT face="courier New, Courier" 
      size=-1><B>EXEC </B></FONT>privileges he may execute the macro. It doesn't 
      matter whether or not he has privileges for the underlying tables or views 
      that the macro uses. </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Simple Parameterized 
Macros</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>Simple Parameterized Macros</H2> -->
      <P>Parameterized macros allow substitutable variables. Values for these 
      variables are supplied at runtime.</P>
      <P class=TitleExample>Example</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>
  CREATE MACRO dept_list (dept INTEGER)AS(
  SELECT   last_name
  FROM    employee
  WHERE   department_number = :dept;
);
</B>
</PRE></FONT>In parentheses following the macro name is the parameter 
      list. It names each parameter followed by its data type. When a parameter 
      is used in the body of a macro, it is always preceded by a colon. 
      <P><B>Employee Table:</B></P>
      <TABLE cellSpacing=0 cellPadding=0 width="66%" border=1>
        <TBODY>
        <TR>
          <TD>
            <TABLE cellSpacing=0 cellPadding=3 width="100%" border=0>
              <TBODY>
              <TR>
                <TD vAlign=bottom align=left width=96><U><B><FONT 
                  size=-2>Employee Number</FONT></B></U></TD>
                <TD vAlign=bottom align=left width=144><U><B><FONT 
                  size=-2>Manager Employee Number</FONT></B></U></TD>
                <TD vAlign=bottom align=left width=113><U><B><FONT 
                  size=-2>Department Number</FONT></B></U></TD>
                <TD vAlign=bottom align=left width=58><U><B><FONT size=-2>Job 
                  Code</FONT></B></U></TD>
                <TD vAlign=bottom align=left width=110><U><B><FONT 
                  size=-2>Last Name</FONT></B></U></TD>
                <TD vAlign=bottom align=left width=426><U><B><FONT 
                  size=-2>First Name</FONT></B></U></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1008</FONT></TD>
                <TD width=144><FONT size=-2>1019 </FONT></TD>
                <TD width=113><FONT size=-2>301</FONT></TD>
                <TD width=58><FONT size=-2>312102</FONT></TD>
                <TD width=110><FONT size=-2>Kanieski </FONT></TD>
                <TD width=426><FONT size=-2>Carol</FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1010</FONT></TD>
                <TD width=144><FONT size=-2>1003</FONT></TD>
                <TD width=113><FONT size=-2>401 </FONT></TD>
                <TD width=58><FONT size=-2>412101</FONT></TD>
                <TD width=110><FONT size=-2>Rogers</FONT></TD>
                <TD width=426><FONT size=-2>Frank </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1014</FONT></TD>
                <TD width=144><FONT size=-2>1011</FONT></TD>
                <TD width=113><FONT size=-2>402 </FONT></TD>
                <TD width=58><FONT size=-2>422101</FONT></TD>
                <TD width=110><FONT size=-2>Crane</FONT></TD>
                <TD width=426><FONT size=-2>Robert </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1006</FONT></TD>
                <TD width=144><FONT size=-2>1019</FONT></TD>
                <TD width=113><FONT size=-2>301 </FONT></TD>
                <TD width=58><FONT size=-2>312101</FONT></TD>
                <TD width=110><FONT size=-2>Stein</FONT></TD>
                <TD width=426><FONT size=-2>John&shy; </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1017</FONT></TD>
                <TD width=144><FONT size=-2>801</FONT></TD>
                <TD width=113><FONT size=-2>501 </FONT></TD>
                <TD width=58><FONT size=-2>511100</FONT></TD>
                <TD width=110><FONT size=-2>Runyon</FONT></TD>
                <TD width=426><FONT size=-2>Irene </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1003</FONT></TD>
                <TD width=144><FONT size=-2>801</FONT></TD>
                <TD width=113><FONT size=-2>401 </FONT></TD>
                <TD width=58><FONT size=-2>411100</FONT></TD>
                <TD width=110><FONT size=-2>Trader</FONT></TD>
                <TD width=426><FONT size=-2>James </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1019</FONT></TD>
                <TD width=144><FONT size=-2>801</FONT></TD>
                <TD width=113><FONT size=-2>301 </FONT></TD>
                <TD width=58><FONT size=-2>311100</FONT></TD>
                <TD width=110><FONT size=-2>Kubic</FONT></TD>
                <TD width=426><FONT size=-2>Ron </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1011</FONT></TD>
                <TD width=144><FONT size=-2>801</FONT></TD>
                <TD width=113><FONT size=-2>402 </FONT></TD>
                <TD width=58><FONT size=-2>421100</FONT></TD>
                <TD width=110><FONT size=-2>Daly</FONT></TD>
                <TD width=426><FONT size=-2>James </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1013</FONT></TD>
                <TD width=144><FONT size=-2>1003</FONT></TD>
                <TD width=113><FONT size=-2>401 </FONT></TD>
                <TD width=58><FONT size=-2>412102</FONT></TD>
                <TD width=110><FONT size=-2>Phillips</FONT></TD>
                <TD width=426><FONT size=-2>Charles </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1009</FONT></TD>
                <TD width=144><FONT size=-2>1005</FONT></TD>
                <TD width=113><FONT size=-2>403 </FONT></TD>
                <TD width=58><FONT size=-2>432101</FONT></TD>
                <TD width=110><FONT size=-2>Lombardo</FONT></TD>
                <TD width=426><FONT size=-2>Domingus </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1025</FONT></TD>
                <TD width=144><FONT size=-2>801</FONT></TD>
                <TD width=113><FONT size=-2>201 </FONT></TD>
                <TD width=58><FONT size=-2>211100</FONT></TD>
                <TD width=110><FONT size=-2>Short</FONT></TD>
                <TD width=426><FONT size=-2>Michael </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1024</FONT></TD>
                <TD width=144><FONT size=-2>1005</FONT></TD>
                <TD width=113><FONT size=-2>403 </FONT></TD>
                <TD width=58><FONT size=-2>432101</FONT></TD>
                <TD width=110><FONT size=-2>Brown</FONT></TD>
                <TD width=426><FONT size=-2>Allen </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1007</FONT></TD>
                <TD width=144><FONT size=-2>1005</FONT></TD>
                <TD width=113><FONT size=-2>403 </FONT></TD>
                <TD width=58><FONT size=-2>432101</FONT></TD>
                <TD width=110><FONT size=-2>Villegas</FONT></TD>
                <TD width=426><FONT size=-2>Arnando </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1005</FONT></TD>
                <TD width=144><FONT size=-2>801</FONT></TD>
                <TD width=113><FONT size=-2>403 </FONT></TD>
                <TD width=58><FONT size=-2>431100</FONT></TD>
                <TD width=110><FONT size=-2>Ryan</FONT></TD>
                <TD width=426><FONT size=-2>Loretta </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1021</FONT></TD>
                <TD width=144><FONT size=-2>1025</FONT></TD>
                <TD width=113><FONT size=-2>201 </FONT></TD>
                <TD width=58><FONT size=-2>222101</FONT></TD>
                <TD width=110><FONT size=-2>Morrissey</FONT></TD>
                <TD width=426><FONT size=-2>Jim </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1020</FONT></TD>
                <TD width=144><FONT size=-2>1005</FONT></TD>
                <TD width=113><FONT size=-2>403 </FONT></TD>
                <TD width=58><FONT size=-2>432101</FONT></TD>
                <TD width=110><FONT size=-2>Charles</FONT></TD>
                <TD width=426><FONT size=-2>John </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1022</FONT></TD>
                <TD width=144><FONT size=-2>1003</FONT></TD>
                <TD width=113><FONT size=-2>401 </FONT></TD>
                <TD width=58><FONT size=-2>412102</FONT></TD>
                <TD width=110><FONT size=-2>Machado</FONT></TD>
                <TD width=426><FONT size=-2>Albert </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>801</FONT></TD>
                <TD width=144><FONT size=-2>801</FONT></TD>
                <TD width=113><FONT size=-2>100 </FONT></TD>
                <TD width=58><FONT size=-2>111100</FONT></TD>
                <TD width=110><FONT size=-2>Trainer</FONT></TD>
                <TD width=426><FONT size=-2>I.B. </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1015</FONT></TD>
                <TD width=144><FONT size=-2>1017</FONT></TD>
                <TD width=113><FONT size=-2>501 </FONT></TD>
                <TD width=58><FONT size=-2>512101</FONT></TD>
                <TD width=110><FONT size=-2>Wilson</FONT></TD>
                <TD width=426><FONT size=-2>Edward </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1002</FONT></TD>
                <TD width=144><FONT size=-2>1003</FONT></TD>
                <TD width=113><FONT size=-2>401 </FONT></TD>
                <TD width=58><FONT size=-2>413201</FONT></TD>
                <TD width=110><FONT size=-2>Brown</FONT></TD>
                <TD width=426><FONT size=-2>Alan </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1004</FONT></TD>
                <TD width=144><FONT size=-2>1003</FONT></TD>
                <TD width=113><FONT size=-2>401 </FONT></TD>
                <TD width=58><FONT size=-2>412101</FONT></TD>
                <TD width=110><FONT size=-2>Johnson</FONT></TD>
                <TD width=426><FONT size=-2>Darlene </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1016</FONT></TD>
                <TD width=144><FONT size=-2>801</FONT></TD>
                <TD width=113><FONT size=-2>302 </FONT></TD>
                <TD width=58><FONT size=-2>321100</FONT></TD>
                <TD width=110><FONT size=-2>Rogers</FONT></TD>
                <TD width=426><FONT size=-2>Nora </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1018</FONT></TD>
                <TD width=144><FONT size=-2>1017</FONT></TD>
                <TD width=113><FONT size=-2>501 </FONT></TD>
                <TD width=58><FONT size=-2>512101</FONT></TD>
                <TD width=110><FONT size=-2>Ratzlaff</FONT></TD>
                <TD width=426><FONT size=-2>Larry </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1001</FONT></TD>
                <TD width=144><FONT size=-2>1003</FONT></TD>
                <TD width=113><FONT size=-2>401 </FONT></TD>
                <TD width=58><FONT size=-2>412101</FONT></TD>
                <TD width=110><FONT size=-2>Hoover</FONT></TD>
                <TD width=426><FONT size=-2>William </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1023</FONT></TD>
                <TD width=144><FONT size=-2>1017</FONT></TD>
                <TD width=113><FONT size=-2>501 </FONT></TD>
                <TD width=58><FONT size=-2>512101</FONT></TD>
                <TD width=110><FONT size=-2>Rabbit</FONT></TD>
                <TD width=426><FONT size=-2>Peter </FONT></TD></TR>
              <TR>
                <TD width=96><FONT size=-2>1012</FONT></TD>
                <TD width=144><FONT size=-2>1005</FONT></TD>
                <TD width=113><FONT size=-2>403 </FONT></TD>
                <TD width=58><FONT size=-2>432101</FONT></TD>
                <TD width=110><FONT size=-2>Hopkins</FONT></TD>
                <TD width=426><FONT size=-2>Paulene 
          </FONT></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>
      <H4><B>To Execute</B></H4><FONT face="courier New, Courier" color=#660066 
      size=3><PRE><B>
  EXEC dept_list (301);
</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4>
      <TABLE cellSpacing=0 cellPadding=2 width="40%" border=0>
        <TBODY>
        <TR>
          <TD><STRONG>last_name</STRONG><BR>------------</TD></TR>
        <TR>
          <TD>Stein<BR>Kanieski<BR>Kubic</TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Macros with Multiple 
Parameters</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Macros with Multiple Parameters</H2> -->
      <P>Macros may have more than one parameter. Each name and its associated 
      type are separated by a comma from the next name and its associated type. 
      The order is important. The first value in the <FONT 
      face="Courier New, Courier, mono" size=-1><STRONG>EXEC</STRONG></FONT> of 
      the macro will be associated with the first value in the parameter list. 
      The second value in the <FONT face="Courier New, Courier, mono" 
      size=-1><STRONG>EXEC</STRONG></FONT> is associated with the second value 
      in the parameter list, and so on. </P>
      <H4 class=TitleExample><U>Example<BR></U></H4>Create the macro: 
      <BR><BR><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>  CREATE MACRO emp_check (dept INTEGER
              ,sal_amt DEC(9,2))
  AS
  (SELECT employee_number from employee
  WHERE department_number = :dept
  AND salary_amount &lt; :sal_amt;)
  ;</B></PRE></FONT>
      <H4><FONT face="courier New, Courier" color=#660066 
      size=3><B><BR></B></FONT><FONT color=#660066><B>Execute the 
      macro:</B></FONT><FONT face="courier New, Courier" color=#660066 
      size=3><B><BR></B></FONT></H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>EXEC emp_check (301, 50000);</B></PRE></FONT>
      <H4><FONT face="courier New, Courier" color=#660066 
      size=3><BR></FONT><FONT color=#660066>Results:</FONT><FONT 
      face="courier New, Courier" color=#660066 size=3><BR></FONT></H4><FONT 
      face="courier New, Courier" color=#660066 size=3></FONT>
      <TABLE cellSpacing=0 cellPadding=2 width="20%" border=0>
        <TBODY>
        <TR>
          <TD><STRONG>employee_number</STRONG><BR>-------------------</TD></TR>
        <TR>
          <TD align=right>
            <DIV 
            align=center>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1006<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1008</DIV></TD></TR></TBODY></TABLE>
      <P>In this example, 301 is associated with the department number and 50000 
      is associated with the salary amount. </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Using a Parameterized Macro to 
Insert Data</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>Using a Parameterized Macro to Insert Data</H2> --><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><STRONG>
 CREATE MACRO	new_dept
 		( dept	INTEGER
 		, budget DEC(10,2)	DEFAULT 0
 		, name	CHAR(30)
 		, mgr	INTEGER)
 AS
 (	INSERT INTO	department
 			( department_number
 			, department_name
		  	, budget_amount
		  	, manager_employee_number)
      VALUES	(  :dept
                  ,  :name
                  ,  :budget
                  ,  :mgr )
  	;
  	SELECT	 department_number	(TITLE Number)
  		,department_name	(TITLE Name)
  		,budget_amount		(TITLE Budget)
  		,manager_employee_number	
  					(TITLE Manager)
  	FROM	department
  	WHERE	department_number = :dept;
  );</STRONG>
</PRE></FONT>
      <P><B>EXECUTE the INSERT MACRO (With Positional Parameter Values):</B></P>
      <UL>
        <LI>Input data in the order specified in the Macro parameter list. 
        <LI>Provide the exact number of parameters specified in the list. 
        <LI>Check data types for compatibility with <FONT 
        face="Courier New, Courier, mono" size=-1><STRONG>CREATE 
        MACRO</STRONG></FONT> data types. 
        <LI>Check that inserted nulls are permitted in the target columns. 
        <LI>Check if defaulting is specified in the <FONT 
        face="Courier New, Courier, mono" size=-1><STRONG>CREATE 
        MACRO</STRONG></FONT> statement. 
        <LI>Use the keyword <FONT face="Courier New, Courier, mono" 
        size=-1><STRONG>NULL</STRONG></FONT> to explicitly pass a null to the 
        macro. 
        <LI>Use positional commas to implicitly pass a null, or a specified 
        default value. </LI></UL><PRE><FONT face="courier New, Courier" color=#660066 size=3><B> <FONT size=-1>EXEC new_dept    (505 ,610000.00 , 'Marketing Research', 1007</FONT>);</B></FONT></PRE>
      <P><!-- <font face="courier New, Courier" size="3" color="#660066">
      <PRE>
EXEC new_dept	(505,610000.00,'Marketing Research',  1007);<BR>
<u>Number</u>	<u>Name		</u>&nbsp;&nbsp;&nbsp;<u>Budget	</u>&nbsp;&nbsp;<u>Manager</u>
&nbsp;&nbsp;&nbsp;505	Marketing Research &nbsp;&nbsp;&nbsp;&nbsp;610000.00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1007
</PRE> -->
      <TABLE cellSpacing=0 cellPadding=2 width="80%" border=0>
        <TBODY>
        <TR>
          <TD width="20%"><STRONG>Number</STRONG><BR>--------</TD>
          <TD width="29%"><STRONG>Name</STRONG><BR>---------------</TD>
          <TD width="20%"><STRONG>Budget</STRONG><BR>--------</TD>
          <TD width="31%"><STRONG>Manager</STRONG><BR>----------</TD></TR>
        <TR>
          <TD width="20%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;505</TD>
          <TD width="29%">Marketing Research</TD>
          <TD width="20%">610000.00</TD>
          <TD 
        width="31%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1007</TD></TR></TBODY></TABLE><!--       <PRE>
EXEC new_dept (102 , , 'Payroll', NULL);<BR>
<u>Number</u>&nbsp;	<u>Name	        </u>&nbsp;&nbsp;<u>Budget&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</u>&nbsp;&nbsp;<u>Manager</u>	
&nbsp;&nbsp;&nbsp;102	Payroll 	    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?&nbsp;</PRE>

</font> --><BR><BR><FONT face="courier New, Courier" color=#660066 
      size=3></FONT><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>EXEC new_dept (102 , , 'Payroll', NULL);</B>
</PRE></FONT>
      <TABLE cellSpacing=0 cellPadding=2 width="80%" border=0>
        <TBODY>
        <TR>
          <TD width="20%"><STRONG>Number</STRONG><BR>--------</TD>
          <TD width="28%"><STRONG>Name</STRONG><BR>---------------</TD>
          <TD width="22%"><STRONG>Budget</STRONG><BR>--------</TD>
          <TD width="30%"><STRONG>Manager</STRONG><BR>----------</TD></TR>
        <TR>
          <TD width="20%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;102</TD>
          <TD width="28%">Payroll</TD>
          <TD width="22%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.00</TD>
          <TD 
            width="30%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?</TD></TR></TBODY></TABLE>
      <P>In the example above, the value after 102 has been omitted, hence the 
      two commas in a row. In such cases the parameter value will be set to the 
      default specified for in the <FONT face="courier New, Courier" 
      size=-1><STRONG>CREATE MACRO</STRONG></FONT> statement. In this case it is 
      0.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>EXECUTE the INSERT MACRO</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- 
<H2>EXECUTE the INSERT MACRO</H2> -->
      <P>Another option available for passing parameters to a macro is to 
      explicitly name the parameters with an associated value as seen in this 
      example. When this approach is selected, the parameters may be specified 
      in any sequence. Note in the following example, <U>implicitly 
      defaulted</U> parameters (like 'mgr') may simply be omitted without 
      accounting for their position. </P>
      <P class=TitleExample>Example</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><STRONG>  EXEC new_dept	( name = 'accounting'
  		 ,budget = 425000.00
  		 ,dept = 106 )
        ;</STRONG>
</PRE></FONT><!-- <PRE>
<U>Number</U>	<U>Name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</U>&nbsp;&nbsp;   <U>Budget&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</U>	<U>Manager&nbsp;&nbsp;</U>
106	accounting	     425000.00&nbsp;&nbsp;	?
</PRE> -->
      <TABLE cellSpacing=0 cellPadding=2 width="59%" border=0>
        <TBODY>
        <TR>
          <TD width="20%">Number<BR>-------</TD>
          <TD width="25%">Name<BR>-------</TD>
          <TD width="25%">Budget<BR>--------</TD>
          <TD width="30%">Manager<BR>----------</TD></TR>
        <TR>
          <TD>106</TD>
          <TD>accounting</TD>
          <TD>425000.00</TD>
          <TD>?</TD></TR></TBODY></TABLE>
      <P align=center><IMG height=261 alt="sql0401.gif - 6022 Bytes" 
      src="D:\Work\TeraData Course Contents &amp; PDFs\WBT's\Teradata SQL Introduction_files\sql0401(2).gif" 
      width=444 border=0> </P>
      <P align=left><B>Performance Note: </B>Parameterized macros may be 
      submitted multiple times with different parameter values each time. 
      Because the body of the query doesn't change, it permits execution of the 
      same optimized 'steps' which are cached for re-use. This feature of macros 
      makes them highly desirable from a performance standpoint.</P><!-- <p align="center"><img src="15ParamMacros/../z-line.gif" width="20" height="2" border="0"> <b><a href="./images/labs/wbt-parm_macros_lab">Lab</a></b> <img src="15ParamMacros/../z-line.gif" width="20" height="2" border="0"></p> --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK href="./././sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>
      <TABLE cellSpacing=0 cellPadding=8 width="100%" bgColor=#ffffcc 
        border=0><TBODY>
        <TR>
          <TD vAlign=top width="20%" bgColor=#ffffcc><B><FONT size=-1><A 
            name=LAB>Try It!</A></FONT></B> </TD>
          <TD vAlign=top width="80%" bgColor=#ffffcc><!-- <H2>LAB</H2> -->
            <P>For this set of lab questions you will need information from the 
            <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1>Database Info document</A>. </P>
            <P>To start the online labs, click on the Telnet button in the lower 
            left hand screen of the course. Two windows will pop-up: a BTEQ 
            Instruction Screen and your Telnet Window.</P>
            <P>Sometimes the BTEQ Instructions get hidden behind the Telnet 
            Window. You will need these instructions to log on to Teradata.</P>
            <P><B>Hint: Prior to doing these labs, it will be helpful to reset 
            your default database to your own user id (i.e. DATABASE 
            tdxxx;).</B> </P>
            <P>Click on the buttons to the left to see the answers. </P>
            <P>To do the following labs, you will first need to create and 
            populate your own copy of the department table. This may be 
            accomplished by executing the following commands: </P><FONT 
            face="courier New, Courier" color=#660066 size=3><PRE>    <B>DATABASE tdxxx;

    CREATE TABLE dept_new, FALLBACK
          (department_number SMALLINT
          ,department_name CHAR(30) NOT NULL
          ,budget_amount DECIMAL(10,2)
          ,manager_employee_number INTEGER
          )
           UNIQUE PRIMARY INDEX (department_number)
          ,UNIQUE         INDEX (department_name);

    INSERT INTO dept_new SELECT * 
    FROM Customer_Service.department;</B>
</PRE></FONT></TD></TR>
        <TR>
          <TD vAlign=top width=79><FONT size=-1>Answers:<BR><A 
            onclick="AnswerWindow('Mod15L01.htm',600,420,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            A<BR><A onclick="AnswerWindow('Mod15L02.htm',500,400,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            B<BR><A onclick="AnswerWindow('Mod15L03.htm',520,500,circbut03)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut03 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            C<BR><A onclick="AnswerWindow('Mod15L04.htm',600,500,circbut04)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut04 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            D </FONT></TD>
          <TD vAlign=top width=487 bgColor=#ffffcc>
            <P>
            <OL type=A>
              <LI>Create a parameterized <FONT face="courier New, Courier" 
              size=-1><B>MACRO </B></FONT>to insert a new row into your dept_new 
              table. Display the newly inserted row for verification. Insert 
              three rows into the table using the <FONT 
              face="courier New, Courier" size=-1><B>MACRO </B></FONT>. Use the 
              values below for the columns shown: 
              <P>
              <TABLE cellSpacing=2 cellPadding=0 width="93%" border=0>
                <TBODY>
                <TR>
                  <TD width="27%">
                    <DIV align=right><FONT 
                    size=-2><U>department_number</U></FONT>&nbsp;</DIV></TD>
                  <TD align=left width="25%">
                    <DIV align=left>&nbsp;<FONT 
                    size=-2><U>department_name</U></FONT></DIV></TD>
                  <TD width="24%">
                    <DIV align=right><FONT size=-2><U>budget 
                    amount</U></FONT></DIV></TD>
                  <TD width="24%">
                    <DIV align=right><FONT 
                    size=-2><U>manager_emp_no</U></FONT></DIV></TD></TR>
                <TR align=left>
                  <TD>
                    <DIV align=right><FONT size=-2>601&nbsp;</FONT></DIV></TD>
                  <TD align=left>
                    <DIV align=left><FONT size=-2>&nbsp;shipping</FONT></DIV></TD>
                  <TD>
                    <DIV align=right><FONT size=-2>800,000</FONT></DIV></TD>
                  <TD>
                    <DIV align=right><FONT size=-2>?</FONT></DIV></TD></TR>
                <TR align=left>
                  <TD>
                    <DIV align=right><FONT size=-2>701&nbsp;</FONT></DIV></TD>
                  <TD align=left>
                    <DIV align=left><FONT size=-2>&nbsp;credit</FONT></DIV></TD>
                  <TD>
                    <DIV align=right><FONT size=-2>1,200,000</FONT></DIV></TD>
                  <TD>
                    <DIV align=right><FONT size=-2>1018</FONT></DIV></TD></TR>
                <TR align=left>
                  <TD>
                    <DIV align=right><FONT size=-2>905&nbsp;</FONT></DIV></TD>
                  <TD align=left>
                    <DIV align=left><FONT size=-2>&nbsp;presidents 
                    staff</FONT></DIV></TD>
                  <TD>
                    <DIV align=right><FONT size=-2>5,000,000</FONT></DIV></TD>
                  <TD>
                    <DIV align=right><FONT 
              size=-2>801</FONT></DIV></TD></TR></TBODY></TABLE>
              <P><B>Note: </B>Remember to override your default database. </P>
              <LI>Execute the exercise A macro again. Put <FONT 
              face="courier New, Courier" size=-1><B>EXPLAIN </B></FONT>in front 
              of the EXECute to see what the Teradata RDBMS is doing. 
              <P></P>
              <LI>Write a parameterized <FONT face="courier New, Courier" 
              size=-1><B>MACRO </B></FONT>to first select, then update your 
              employee table to give all employees in a given department a flat 
              salary increase. Actual department number and salary increase will 
              be given at execution time. The select should precede the update 
              and should include employee number, last name, and two salary 
              columns: one titled Current Salary, and the other titled New 
              Salary. Format the salary columns with floating dollar signs. 
              Limit last name to 10 characters, and sort by last name. Execute 
              this <FONT face="courier New, Courier" size=-1><B>MACRO 
              </B></FONT>to give department 401 employees a $1000 raise. Execute 
              it again to reverse the effects of the previous run. 
              <P></P>
              <LI>Write a parameterized <FONT face="courier New, Courier" 
              size=-1><B>MACRO </B></FONT>to create a report showing the last 
              name, department and salary for employees within a salary range 
              that will be supplied at run time. Execute the <FONT 
              face="courier New, Courier" size=-1><B>MACRO </B></FONT>to find 
              all employees in the over $50,000 under $100,000 income bracket. 
              Execute it again to find all employees in the under $30,000 income 
              bracket. 
</LI></OL></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;Aggregating 
      Groups</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><LINK href="../sqlstyle.css" 
type=text/css rel=stylesheet><FONT face=Verdana size=3><B>Objectives</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>After completing this module, you should be able to:</P>
      <UL>
        <LI>Aggregate column data using the aggregate functions <FONT 
        face="courier New, Courier" size=-1><B>SUM, COUNT, AVERAGE, MINIMUM, 
        MAXIMUM</B></FONT>. 
        <LI>Use the <FONT face="Courier New, Courier" size=-1><B>GROUP 
        BY</B></FONT> clause to aggregate over defined groups. 
  </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Aggregate Operators</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Aggregate Operators</H2> -->
      <P>Aggregate operators perform computations on values in a specified 
      group. The five aggregate operators are:</P>
      <TABLE cellSpacing=0 cellPadding=2 width="80%" border=1>
        <TBODY>
        <TR>
          <TD><B>ANSI Standard</B></TD>
          <TD><B>Teradata Supported</B></TD></TR>
        <TR>
          <TD>COUNT</TD>
          <TD>COUNT</TD></TR>
        <TR>
          <TD>SUM</TD>
          <TD>SUM </TD>
        <TR>
          <TD>AVG</TD>
          <TD>AVERAGE, AVG</TD></TR>
        <TR>
          <TD>MAX</TD>
          <TD>MAXIMUM, MAX</TD></TR>
        <TR>
          <TD>MIN</TD>
          <TD>MINIMUM, MIN</TD></TR></TBODY></TABLE><!-- <TABLE CELLPADDING="3" WIDTH="100%">
<TR>
          <TD width="34%">ANSI Standard</TD>
          <TD width="66%">Teradata Supported
        </TR>
</TABLE>

      <TABLE CELLPADDING="5" WIDTH="100%" BORDER="1">
        <TR>
          <TD>COUNT</TD>
          <TD>COUNT</TD>
        </TR>
        <TR>
          <TD>SUM</TD>
          <TD>SUM
        </TR>
        <TR>
          <TD>AVG</TD>
          <TD>AVERAGE, AVG</TD>
        </TR>
        <TR>
          <TD>MAX</TD>
          <TD>MAXIMUM, MAX</TD>
        </TR>
        <TR>
          <TD>MIN</TD>
          <TD>MINIMUM, MIN</TD>
        </TR>
      </TABLE> -->
      <P><FONT face="courier New, Courier" size=-1><B>AGGREGATE</B></FONT> 
      operations ignore <FONT face="courier New, Courier" 
      size=-1><B>NULLs</B></FONT> and produce <B><FONT 
      face="courier New, Courier" size=-1>ONLY </FONT></B>single-line 
      answers.</P>
      <H4 class=TitleExample>Example</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>SELECT 
  COUNT  ( salary_amount )  (TITLE 'COUNT')
  ,SUM   ( salary_amount )  (TITLE 'SUM&nbsp;&nbsp;SALARY')
  ,AVG   ( salary_amount )  (TITLE 'AVG&nbsp;&nbsp;SALARY')
  ,MAX   ( salary_amount )  (TITLE 'MAX&nbsp;&nbsp;SALARY')
  ,MIN   ( salary_amount )  (TITLE 'MIN&nbsp;&nbsp;SALARY')
  FROM   employee ;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4><!-- <PRE>
<U>COUNT</U>   <U>SUM SALARY</U>	<U>AVG SALARY</U>	<U>MAX SALARY</U>	<U>MIN SALARY</U>
    6	 213750.00	  35625.00	  49700.00	  29250.00
</PRE> -->
      <TABLE cellSpacing=0 cellPadding=2 width="100%" border=0>
        <TBODY>
        <TR>
          <TD width="15%"><U><B>COUNT</B></U></TD>
          <TD width="20%"><U><B>SUM SALARY</B></U></TD>
          <TD width="20%"><U><B>AVG SALARY</B></U></TD>
          <TD width="20%"><U><B>MAX SALARY</B></U></TD>
          <TD width="25%"><U><B>MIN SALARY</B></U></TD></TR>
        <TR>
          <TD>6</TD>
          <TD>213750.00</TD>
          <TD>35625.00</TD>
          <TD>49700.00</TD>
          <TD>29250.00 </TD></TR></TBODY></TABLE>
      <P><B>Note:</B> If one salary amount value had been <FONT 
      face="courier New, Courier" size=-1><B>NULL</B></FONT>, the <FONT 
      face="Courier New, Courier" size=-1><B>COUNT</B></FONT> would have 
      returned a count of 5. In that case, the average would have reflected an 
      average of only five salaries. To <FONT face="Courier New, Courier" 
      size=-1><B>COUNT</B></FONT> all table rows use <FONT 
      face="Courier New, Courier" size=-1><B>COUNT</B></FONT> (*), which will 
      count rows regardless of the presence of <FONT face="courier New, Courier" 
      size=-1><B>NULLs</B></FONT>. </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Why Aggregation is Useful</B></FONT> 

<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>Aggregation using GROUP BY</H2> -->
      <P>To find the total amount of money spent by each department on employee 
      salaries. Without the <FONT face="Courier New, Courier" size=-1><B>GROUP 
      BY</B></FONT> clause, we could attempt to get an answer by running a 
      separate query against each department. </P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B> 
  SELECT  SUM (salary_amount)
  FROM    employee
  WHERE   department_number = 401
  ;
</B></PRE></FONT><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>
<FONT color=#000000>  <U>Sum (salary_amount)</U>
             </FONT></B><FONT color=#000000>74150.00</FONT>
</PRE></FONT><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>
  SELECT  SUM (salary_amount)
  FROM    employee
  WHERE   department_number = 403
  ; </B>
</PRE></FONT><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>
<FONT color=#000000>  <U>Sum (salary_amount)</U>
          </FONT></B><FONT color=#000000>   80900.00</FONT>
</PRE></FONT><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>
  SELECT  SUM (salary_amount)
  FROM    employee
  WHERE   department_number = 301
   ;</B>
</PRE></FONT><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>
 <FONT color=#000000> <U>Sum (salary_amount)</U>
            </FONT></B><FONT color=#000000> 58700.00</FONT>
</PRE></FONT>
      <P>
      <P><B>Question:</B> What if there are 1000 departments? </P>
      <P><FONT face="Courier New, Courier" size=-1><B>GROUP BY</B></FONT> 
      provides the answer with a single query, regardless of how many 
      departments there are.</P>
      <P><FONT face="courier New, Courier" color=#660066 size=3><PRE><B> 
  SELECT    department_number
            ,SUM (salary_amount)
  FROM      employee
  GROUP BY  department_number
  ;</B>
</PRE></FONT><!-- <PRE>
<U>department_number</U>	<U>Sum(salary_amount)</U>
	      401		  74150.00
	      403		  80900.00
	      301		  58700.00
</PRE> -->
      <TABLE cellSpacing=0 cellPadding=2 width="80%" border=0>
        <TBODY>
        <TR>
          <TD><STRONG>department_number</STRONG><BR>---------------------</TD>
          <TD><STRONG>Sum(salary_amount)</STRONG><BR>---------------------</TD></TR>
        <TR>
          <TD>401<BR>403<BR>301</TD>
          <TD>74150.00<BR>80900.00<BR>58700.00</TD></TR></TBODY></TABLE>
      <P><B>Hint:</B> Think of <FONT face="Courier New, Courier" 
      size=-1><B>GROUP BY</B></FONT> as <I>For 
Each</I>.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>GROUP BY and the WHERE 
Clause</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>GROUP BY and the WHERE Clause</H2> -->
      <P>The <FONT face="Courier New, Courier, mono" size=-1><B>WHERE</B></FONT> 
      clause eliminates some rows before <FONT face="Courier New, Courier, mono" 
      size=-1><B>GROUP BY</B> </FONT>puts them into desired groupings.</P>
      <H4 class=TitleProblem>Problem</H4>
      <P>Compute total salaries by department for departments 401 and 403. </P>
      <P align=center><IMG height=224 alt="sql0301.gif - 8381 Bytes" 
      src="D:\Work\TeraData Course Contents &amp; PDFs\WBT's\Teradata SQL Introduction_files\sql0301(4).gif" 
      width=636 border=0></P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>
  SELECT    department_number
            ,SUM (salary_amount)
  FROM      employee
  WHERE     department_number IN (401, 403)
  GROUP BY  department_number
  ;</B>
</PRE></FONT><!-- <PRE>
<U>department_number</U>	<U>Sum (salary_amount)</U>
	      403		   80900.00
	      401		   74150.00
</PRE> -->
      <TABLE cellSpacing=0 cellPadding=2 width="53%" border=0>
        <TBODY>
        <TR>
          <TD><STRONG>department_number</STRONG><BR>----------------------</TD>
          <TD><STRONG>Sum 
          (salary_amount)</STRONG><BR>-----------------------</TD></TR>
        <TR align=right>
          <TD>403&nbsp;&nbsp;<BR>401&nbsp;&nbsp;</TD>
          <TD>80900.00&nbsp;&nbsp;<BR>74150.00&nbsp;&nbsp;</TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>GROUP BY and ORDER BY</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>GROUP BY and ORDER BY</H2> -->
      <P><STRONG><FONT face="courier New, Courier" size=-1>GROUP 
      BY</FONT></STRONG> does not imply any ordering of the output. An 
      <STRONG><FONT face="courier New, Courier" size=-1>ORDER BY</FONT></STRONG> 
      clause is needed to control the order of the ouput.</P>
      <H4 class=TitleProblem>Problem</H4>
      <P>For departments 301, 401 and 403, find the total number of employees in 
      each department as well as the highest, lowest and average salaries for 
      each department. Order results by department number. </P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>
   SELECT    department_number    (TITLE 'DEPT')
             ,COUNT (*)           (TITLE '#_EMPS')
             ,SUM (salary_amount) (TITLE 'TOTAL')
                                  (FORMAT 'zz,zzz,zz9.99')
             ,MAX (salary_amount) (TITLE 'HIGHEST')
                                  (FORMAT 'zz,zzz,zz9.99')
             ,MIN (salary_amount) (TITLE 'LOWEST')
                                  (FORMAT 'zz,zzz,zz9.99')
             ,AVG (salary_amount) (TITLE 'AVERAGE')
                                  (FORMAT 'zz,zzz,zz9.99')
   FROM      employee<BR>&nbsp;&nbsp; WHERE department_number IN (301,401,403)
   GROUP BY  department_number
   ORDER BY  department_number
   ;</B>
</PRE></FONT>
      <P><!-- <PRE>
	<U>DEPT</U>	<U>#_EMPS</U>	     <U>TOTAL</U>	  <U>HIGHEST</U>	   <U>LOWEST</U>    	  <U>AVERAGE</U>
	 301	     3	116,400.00	57,700.00	29,250.00	38,800.00
	 401	     7	245,575.00	46,000.00	24,500.00	35,082.14
	 403	     6	233,000.00	49,700.00	31,000.00	38,833.33
 </PRE> -->
      <TABLE cellSpacing=0 cellPadding=2 width="90%" align=left border=0>
        <TBODY>
        <TR>
          <TD width="16.6%">
            <DIV align=right><U><STRONG>DEPT</STRONG></U></DIV></TD>
          <TD width="16.6%">
            <DIV align=right><U><STRONG>#_EMPS</STRONG></U></DIV></TD>
          <TD width="16.6%">
            <DIV align=right><U><STRONG>TOTAL</STRONG></U></DIV></TD>
          <TD width="16.6%">
            <DIV align=right><U><STRONG>HIGHEST</STRONG></U></DIV></TD>
          <TD width="16.6%">
            <DIV align=right><U><STRONG>LOWEST</STRONG></U></DIV></TD>
          <TD width="16.6%">
            <DIV align=right><U><STRONG>AVERAGE</STRONG></U></DIV></TD></TR>
        <TR vAlign=top>
          <TD>
            <DIV align=right>301<BR>401<BR>403</DIV></TD>
          <TD>
            <DIV align=right>3<BR>7<BR>6</DIV></TD>
          <TD>
            <DIV align=right>116,400.00<BR>245,575.00<BR>233,000.00</DIV></TD>
          <TD>
            <DIV align=right>57,700.00<BR>46,000.00<BR>49,700.00</DIV></TD>
          <TD>
            <DIV align=right>29,250.00<BR>24,500.00<BR>31,000.00</DIV></TD>
          <TD>
            <DIV 
        align=right>38,800.00<BR>35,082.14<BR>38,833.33</DIV></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>GROUP BY on Multiple 
Columns</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>GROUP BY on Multiple Columns</H2> -->
      <P>It is possible and often desireable to <STRONG><FONT 
      face="courier New, Courier" size=-1>GROUP BY</FONT></STRONG> more than one 
      column. This permits the query to compute aggregates of groups within 
      groups. In the following example, we are looking for salaries by job code 
      (one group) within department (second group).</P>
      <P>By job code, what are the total salaries for departments 401 and 
      403?</P><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>
  SELECT     department_number
             ,job_code
             ,SUM (salary_amount)
  FROM       employee
  WHERE      department_number IN (401, 403)
  GROUP BY   1, 2
  ORDER BY   1, 2
  ;</B>
</PRE></FONT><!--       <PRE>
<U>department_number</U>	<U>job_code</U>	<U>SUM (salary_amount)</U>
	      401	  411100	           37850.00
	      401	  412101	          107825.00
	      401	  412102	           56800.00
	      401	  413201	           43100.00
	      403	  431100	           31200.00
	      403	  432101	          201800.00
</PRE> -->
      <TABLE cellSpacing=2 cellPadding=0 width="90%" border=0>
        <TBODY>
        <TR>
          <TD width="33%">
            <DIV 
            align=right><STRONG>department_number</STRONG><BR>---------------------</DIV></TD>
          <TD width="25%">
            <DIV align=right><STRONG>job_code</STRONG><BR>----------</DIV></TD>
          <TD width="42%">
            <DIV align=right><STRONG>SUM 
            (salary_amount)</STRONG><BR>-----------------------</DIV></TD></TR>
        <TR>
          <TD>
            <DIV align=right>401<BR>401<BR>401<BR>401<BR>403<BR>403<BR></DIV></TD>
          <TD>
            <DIV 
            align=right>411100<BR>412101<BR>412102<BR>413201<BR>431100<BR>432101<BR></DIV></TD>
          <TD>
            <DIV 
            align=right>37850.00<BR>107825.00<BR>56800.00<BR>43100.00<BR>31200.00<BR>201800.00<BR></DIV></TD></TR></TBODY></TABLE>
      <P><B>2 Rules of Aggregations</B>: </P>
      <OL>
        <LI>Whenever both aggregate and non-aggregate columns are selected, a 
        <STRONG><FONT face="courier New, Courier" size=-1>GROUP 
        BY</FONT></STRONG> clause is required. 
        <LI><U>All</U> non-aggregated selected columns must be included in the 
        <STRONG><FONT face="courier New, Courier" size=-1>GROUP 
        BY</FONT></STRONG> clause. </LI></OL><FONT color=#000000><FONT 
      color=#000000><STRONG>Note:</STRONG> Repeating values such as '401' above 
      may be suppressed using the BTEQ command: <!--  <font face="Courier New, Courier, mono" size="-1">
		.SET SUPPRESS ON 1; 
&nbsp;/* Suppress repeating values on first column */</font></FONT></FONT></p> --><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>
  .SET SUPPRESS ON 1;  /* Suppress repeating values
  on first column */
</B>
</PRE></FONT>
      <P>This will cause the value to be displayed only the first time. 
      <BR><BR>The resulting report would look as follows:</P></FONT></FONT>
      <TABLE cellSpacing=2 cellPadding=0 width="90%" border=0>
        <TBODY>
        <TR>
          <TD width="33%">
            <DIV 
            align=right><STRONG>department_number</STRONG><BR>---------------------</DIV></TD>
          <TD width="25%">
            <DIV align=right><STRONG>job_code</STRONG><BR>----------</DIV></TD>
          <TD width="42%">
            <DIV align=right><STRONG>SUM 
            (salary_amount)</STRONG><BR>-----------------------</DIV></TD></TR>
        <TR>
          <TD>
            <DIV align=right>401<BR><BR><BR><BR>403<BR><BR></DIV></TD>
          <TD>
            <DIV 
            align=right>411100<BR>412101<BR>412102<BR>413201<BR>431100<BR>432101<BR></DIV></TD>
          <TD>
            <DIV 
            align=right>37850.00<BR>107825.00<BR>56800.00<BR>43100.00<BR>31200.00<BR>201800.00<BR></DIV></TD></TR></TBODY></TABLE><FONT 
      color=#000000><FONT color=#000000>
      <P>&nbsp;</P></FONT></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>GROUP BY and HAVING 
Condition</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>GROUP BY and HAVING Condition</H2> -->
      <P><FONT face="Courier New, Courier" 
      size=-1><STRONG>HAVING</STRONG></FONT> is just like <FONT 
      face="Courier New, Courier" size=-1><STRONG>WHERE</STRONG></FONT> , except 
      that it applies to groups rather than rows. <FONT 
      face="Courier New, Courier" size=-1><STRONG>HAVING</STRONG> qualifies 
      and</FONT> selects only those groups that satisfy a conditional 
      expression. </P>
      <H4 class=TitleProblem>Problem</H4>
      <P>Determine which departments have average salaries of less than $36,000. 
      Generate the report using the <FONT face="Courier New, Courier" 
      size=-1><STRONG>HAVING</STRONG> clause:</FONT></P><FONT 
      face="Courier New, Courier" size=-1><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>
  SELECT   department_number	AS DEPT
           COUNT (*)           AS #_EMPS
           ,CAST ( SUM (salary_amount) AS  FORMAT 'zz,zzz,zz9.99')
                               AS TOTAL
           ,CAST ( MAX (salary_amount) AS  FORMAT 'zz,zzz,zz9.99')
                               AS HIGHEST
           ,CAST ( MIN (salary_amount) AS  FORMAT 'zz,zzz,zz9.99')
                               AS LOWEST
           ,CAST ( AVG (salary_amount) AS  FORMAT 'zz,zzz,zz9.99')
                               AS MEAN
    FROM   employee
    GROUP BY  department_number
    HAVING AVG (salary_amount) &lt; 36000
    ;
</B></PRE></FONT></FONT><FONT color=#000000>Since only one department 
      (401) has an average salary less than $36,000, the result is a single row, 
      as follows:</FONT><FONT face="Courier New, Courier" size=-1><FONT 
      face="courier New, Courier" color=#660066 size=3><B><BR></B><BR></FONT><!-- <PRE>
<U>DEPT</U>	<U>#_EMPS</U>		<U>TOTAL</U>	  <U>HIGHEST</U>	   <U>LOWEST</U>	  <U>MEAN</U>
 401         7	   245,575.00	46,000.00	24,500.00	35,082.14
</PRE> -->
      <TABLE cellSpacing=0 cellPadding=3 width="90%" align=left border=0>
        <TBODY>
        <TR>
          <TD width=63>
            <DIV align=right><U><STRONG>DEPT</STRONG></U></DIV></TD>
          <TD width=111>
            <DIV align=right><U><STRONG>#_EMPS</STRONG></U></DIV></TD>
          <TD width=171>
            <DIV align=right><U><STRONG>TOTAL</STRONG></U></DIV></TD>
          <TD width=135>
            <DIV align=right><U><STRONG>HIGHEST</STRONG></U></DIV></TD>
          <TD width=135>
            <DIV align=right><U><STRONG>LOWEST</STRONG></U></DIV></TD>
          <TD width=139>
            <DIV align=right><U><STRONG>AVERAGE</STRONG></U></DIV></TD></TR>
        <TR vAlign=top>
          <TD>
            <DIV align=right>401</DIV></TD>
          <TD>
            <DIV align=right>3</DIV></TD>
          <TD>
            <DIV align=right>245,575.00</DIV></TD>
          <TD>
            <DIV align=right>46,000.00</DIV></TD>
          <TD>
            <DIV align=right>24,500.00</DIV></TD>
          <TD>
            <DIV 
  align=right>35,082.14</DIV></TD></TR></TBODY></TABLE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>GROUP BY Summary</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>GROUP BY Summary</H2> -->
      <P>Here is the order of evaluation within a SQL statement if all four 
      clauses are present: </P>
      <P><B>WHERE</B></P>
      <UL>
        <LI>Eliminates some or all rows immediately based on condition. 
        <LI>Only rows which satisfy a <FONT face="Courier New, Courier, mono" 
        size=-1><STRONG>WHERE</STRONG></FONT> condition are eligible for 
        inclusion in groups. </LI></UL>
      <P><B>GROUP BY</B></P>
      <UL>
        <LI>Puts qualified rows into desired groupings.
        <P></P></LI></UL>
      <P><B>HAVING</B></P>
      <UL>
        <LI>Eliminates some (or all) of the groupings based on condition. 
      </LI></UL>
      <P><B>ORDER BY</B></P>
      <UL>
        <LI>Sorts final groups for output. 
        <P>(<FONT face="Courier New, Courier, mono" size=-1><STRONG>ORDER 
        BY</STRONG></FONT> is not implied by <FONT 
        face="Courier New, Courier, mono" size=-1><STRONG>GROUP 
        BY</STRONG></FONT>)</P></LI></UL><!-- <p align="center"><img src="16AggrGroups/../z-line.gif" width="20" height="2" border="0"> <b><a href="./images/labs/wbt-aggreg_groups_lab.shtm">Lab</a></b> <img src="16AggrGroups/../z-line.gif" width="20" height="2" border="0"></p> --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK href="./././sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>
      <TABLE cellSpacing=0 cellPadding=8 width="100%" bgColor=#ffffcc 
        border=0><TBODY>
        <TR>
          <TD vAlign=top width=165 bgColor=#ffffcc><B><FONT size=-1><A 
            name=LAB>Try It!</A></FONT></B> </TD>
          <TD vAlign=top width=681 bgColor=#ffffcc><!-- <H2>LAB</H2> -->
            <P>For this set of lab questions, you will need information from the 
            <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1>Database Info document.</A> </P>
            <P>To start the online labs, click on the Telnet button in the lower 
            left hand screen of the course. Two windows will pop-up: a BTEQ 
            Instruction Screen and your Telnet Window.</P>
            <P>Sometimes the BTEQ Instructions get hidden behind the Telnet 
            Window. You will need these instructions to log on to Teradata.</P>
            <P><B>Be sure to change your default database to the 
            Customer_Service database in order to run these labs.</B></P>
            <P>Click on the buttons to the left to see the answers.</P></TD></TR>
        <TR>
          <TD vAlign=top width=165><FONT size=-1>Answers:<BR><A 
            onclick="AnswerWindow('Mod16L01.htm',800,420,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            A<BR><A onclick="AnswerWindow('Mod16L02.htm',680,420,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            B </FONT></TD>
          <TD vAlign=top width=681 bgColor=#ffffcc>
            <OL type=A>
              <LI>Management needs to know the impact of salary increases if all 
              employees in every department receive a ten percent salary 
              increase. Create a report showing minimum and maximum salaries for 
              each department. Format the report as shown below. Limit 
              department name to 9 characters. Format dollar columns with 
              zero-suppress and commas. Sort by department. <PRE><FONT face="Courier New, Courier, mono" size=1>
<FONT size=-1>        Dept  Dept       Minimum    Maximum     Current   Adjusted
        Nbr   Name       Salary     Salary      Salary    Salary
  ---------   --------- ----------  ----------  --------  ---------</FONT></FONT>
</PRE><!-- <p>
<table align="left" cellpadding="2" cellspacing="0" width="90%" border="0">
<tr>
<td width="10.6%" align="right"><strong>Dept<br> Nbr</strong><br>------</td>
<td width="16.6%" align="right"><strong>Dept<br> Name</strong><br>------</td>
<td width="16.6%" align="right"><strong>Minimum<br>Salary</strong><br>--------</td>
<td width="16.6%" align="right"><strong>Maximum<br>Salary</strong><br>--------</td>
<td width="16.6%" align="right"><strong>Current<br>Salary</strong><br>--------</td>
<td width="16.6%" align="right"><strong>Adjusted<br>Salary</strong><br>--------</td>
</tr>
<table>
</p> -->
              <LI>Management needs a summary report showing all departments, 
              jobs within departments, the number of employees doing each job, 
              and the average salary for each job category. Sequence the report 
              by department and job code within department. Let the column 
              titles default. 
  </LI></OL></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;Totals and 
      Subtotals</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><LINK href="../sqlstyle.css" 
type=text/css rel=stylesheet><FONT face=Verdana size=3><B>Objectives</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>After completing this module, you should be able to:</P>
      <UL>
        <LI>Create subtotals using <FONT face="Courier New, Courier, mono" 
        size=-1><B>WITH....BY</B></FONT>. 
        <LI>Create final totals using <FONT face="Courier New, Courier, mono" 
        size=-1><B>WITH</B></FONT>. 
        <LI>Eliminate duplicate results using the <FONT 
        face="Courier New, Courier, mono" size=-1><B>DISTINCT</B></FONT> option. 
        </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Using WITH...BY for 
Subtotals</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Using WITH...BY for Subtotals</H2> -->
      <P>The <FONT face="Courier New, Courier, mono" 
      size=-1><B>WITH...BY</B></FONT> clause is a Teradata extension that 
      creates subtotal lines for a detailed list. It differs from <FONT 
      face="Courier New, Courier, mono" size=-1><B>GROUP BY</B></FONT> in that 
      detail lines are not eliminated. </P>
      <P>The <FONT face="Courier New, Courier, mono" 
      size=-1><B>WITH...BY</B></FONT> clause allows subtotal "breaks" on more 
      than one column and generates an automatic sort on all <FONT 
      face="courier New, Courier" size=-1><B>"BY"</B></FONT> columns. 
    </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Creating a Report Using 
WITH..BY</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Creating a Report Using WITH..BY</H2> -->
      <H4 class=TitleProblem>Problem</H4>
      <P>To display employee name and salary with subtotals by department.</P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE> <B> SELECT   last_name          AS NAME
           ,salary_amount     AS SALARY
           ,department_number AS DEPT
  FROM     employee
  WITH     SUM(salary)        BY DEPT
  ;</B>
</PRE></FONT>
      <P><B>Note:</B> The <FONT face="courier New, Courier" size=-1>"<B>BY 
      DEPT</B>"</FONT> phrase causes an automatic sort on the Dept column. </P>
      <H4 class=TitleResult>Result</H4><PRE><FONT size=2><U><STRONG>NAME</STRONG></U><STRONG>			<U>SALARY</U>		<U>DEPT</U></STRONG>
Stein			29450.00	301
Kanieski		29250.00	301
			--------
	Sum(Salary)	58700.00

Johnson		36300.00	401
Trader			37850.00	401
			--------
	Sum(Salary)	74150.00

Villegas		49700.00	403
Ryan			31200.00	403
			--------
	Sum(Salary)	80900.00
</FONT>
</PRE>
      <P><B>Note:</B> <FONT face="courier New, Courier" size=-1>"<B>WITH 
      BY</B>"</FONT> is a non-ANSI Teradata extension. It is supported by BTEQ, 
      but not supported by ODBC clients. </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>WITH..BY Multiple 
Aggregates</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>WITH..BY Multiple Aggregates</H2> -->Multiple aggregates 
      within the same <FONT face="courier New, Courier" size=-1><B>WITH 
      BY</B></FONT> clause are possible if all aggregates are based on the same 
      'break' column. In the following example, both aggregates are generated by 
      department. Note that while <FONT face="courier New, Courier" 
      size=-1><B>WITH BY</B></FONT> produces aggregates similar to the <FONT 
      face="courier New, Courier" size=-1><B>GROUP BY</B></FONT> functionality, 
      the difference is that <FONT face="courier New, Courier" size=-1><B>GROUP 
      BY</B></FONT> does not show the detail rows upon which the aggregates are 
      based. 
      <H4 class=TitleProblem>Problem</H4>
      <P>Show salary subtotals and averages by department and also show the 
      individual employee salaries.</P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>SELECT  last_name          AS NAME
          ,salary_amount     AS SALARY
          ,department_number AS DEPT
  FROM    employee
  WHERE   employee_number
  BETWEEN 1003 AND 1008
  WITH    SUM(salary)(TITLE 'Dept Total')
          ,AVG(salary)(TITLE 'Dept Avg  ')BY DEPT
  ;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4>
      <TABLE cellPadding=3>
        <TBODY>
        <TR>
          <TD><U><B>NAME</B></U></TD>
          <TD>&nbsp;</TD>
          <TD align=right><U><B>SALARY</B></U></TD>
          <TD>&nbsp;&nbsp;&nbsp;&nbsp;<U><B>DEPT</B></U></TD></TR>
        <TR>
          <TD vAlign=top>Stein<BR>Kaniesk&nbsp;&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD align=right>29450.00<BR>29250.00<BR></TD>
          <TD 
            vAlign=top>&nbsp;&nbsp;&nbsp;&nbsp;301<BR>&nbsp;&nbsp;&nbsp;&nbsp;301</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD align=right>------------</TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD align=left>Dept Total&nbsp;&nbsp;&nbsp;<BR>Dept Avg</TD>
          <TD 
            align=right>&nbsp;&nbsp;&nbsp;58700.00<BR>&nbsp;&nbsp;&nbsp;&nbsp;29350.00</TD>
          <TD align=right>&nbsp;</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD vAlign=top>Johnson<BR>Trader</TD>
          <TD>&nbsp;</TD>
          <TD align=right>36300.00<BR>37850.00<BR></TD>
          <TD 
            vAlign=top>&nbsp;&nbsp;&nbsp;&nbsp;401<BR>&nbsp;&nbsp;&nbsp;&nbsp;401</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD align=right>------------</TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD align=left>Dept Total&nbsp;&nbsp;&nbsp;<BR>Dept Avg</TD>
          <TD align=right>&nbsp;&nbsp;&nbsp;74150.00<BR>37075.00</TD>
          <TD align=right>&nbsp;</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD vAlign=top>Villegas<BR>Ryan</TD>
          <TD>&nbsp;</TD>
          <TD align=right>49700.00<BR>31200.00<BR></TD>
          <TD 
            vAlign=top>&nbsp;&nbsp;&nbsp;&nbsp;403<BR>&nbsp;&nbsp;&nbsp;&nbsp;403</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD align=right>------------</TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD align=left>Dept Total&nbsp;&nbsp;&nbsp;<BR>Dept Avg</TD>
          <TD align=right>&nbsp;&nbsp;&nbsp;80900.00<BR>40450.00</TD>
          <TD align=right>&nbsp;</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD></TR></TBODY></TABLE>
      <P><B>Note:</B> The <FONT face="Courier New, Courier, mono" size=-1><B>BY 
      DEPT</B></FONT> clause causes results to be sorted by 
      department.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>WITH... BY Multiple Subtotal 
Levels</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>WITH... BY Multiple Subtotal Levels</H2> -->
      <P>You may use several <FONT face="Courier New, Courier, mono" 
      size=-1><B>"WITH BY"</B></FONT> clauses together in an <FONT 
      face="Courier New, Courier, mono" size=-1>SQL</FONT> statement. </P>
      <P>The order in which you specify them determines the order of the sorted 
      output.</P>
      <H4 class=TitleProblem>Problem</H4>
      <P>Show total salaries by department and by job code within department for 
      departments 401 and 501. Also show the detail salary for each 
employee.</P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE> 
   <B>SELECT   department_number  AS Dept
   	   ,job_code           AS Job
   	   ,employee_number    AS Empl
   	   ,salary_amount      AS Sal
   FROM    employee
   WHERE   department_number IN	(401, 501)
   WITH    SUM(salary_amount)(TITLE 'JOB TOTAL')  BY Job
   WITH    SUM(salary_amount)(TITLE 'DEPT TOTAL') BY Dept
   ;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4>
      <TABLE cellSpacing=0 cellPadding=0>
        <TBODY>
        <TR>
          <TD align=right><B>Dept</B></TD>
          <TD align=right><B>Job</B></TD>
          <TD align=right><B>Empl</B></TD>
          <TD align=right><B>Sal</B></TD></TR>
        <TR>
          <TD align=right>--------</TD>
          <TD align=right>&nbsp;&nbsp;------------</TD>
          <TD align=right>&nbsp;&nbsp;--------</TD>
          <TD align=right>&nbsp;&nbsp;--------------</TD></TR>
        <TR>
          <TD align=right>401</TD>
          <TD align=right>411100</TD>
          <TD align=right>1003</TD>
          <TD align=right>37850.00</TD></TR>
        <TR>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;&nbsp;------------</TD></TR>
        <TR>
          <TD align=right colSpan=3>JOB TOTAL<BR><BR></TD>
          <TD align=right>37850.00<BR><BR></TD></TR>
        <TR>
          <TD align=right>401</TD>
          <TD align=right>412101</TD>
          <TD align=right>1010</TD>
          <TD align=right>25525.00</TD></TR>
        <TR>
          <TD align=right>401</TD>
          <TD align=right>412101</TD>
          <TD align=right>1004</TD>
          <TD align=right>36300.00</TD></TR>
        <TR>
          <TD align=right>401</TD>
          <TD align=right>412101</TD>
          <TD align=right>1010</TD>
          <TD align=right>46000.00</TD></TR>
        <TR>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;&nbsp;------------</TD></TR>
        <TR>
          <TD align=right colSpan=3>JOB TOTAL<BR><BR></TD>
          <TD align=right>107825.00<BR><BR></TD></TR>
        <TR>
          <TD align=right>401</TD>
          <TD align=right>412102</TD>
          <TD align=right>1022</TD>
          <TD align=right>32300.00</TD></TR>
        <TR>
          <TD align=right>401</TD>
          <TD align=right>412102</TD>
          <TD align=right>1013</TD>
          <TD align=right>24500.00</TD></TR>
        <TR>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;&nbsp;------------</TD></TR>
        <TR>
          <TD align=right colSpan=3>JOB TOTAL<BR><BR></TD>
          <TD align=right>56800.00<BR><BR></TD></TR>
        <TR>
          <TD align=right>401</TD>
          <TD align=right>413201</TD>
          <TD align=right>1002</TD>
          <TD align=right>43100.00 </TD></TR>
        <TR>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;&nbsp;------------</TD></TR>
        <TR>
          <TD align=right colSpan=3>JOB TOTAL<BR><BR></TD>
          <TD align=right>43100.00<BR><BR></TD></TR>
        <TR>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;&nbsp;------------</TD></TR>
        <TR>
          <TD align=right colSpan=3>DEPT TOTAL<BR><BR></TD>
          <TD align=right>245575.00<BR><BR></TD></TR>
        <TR>
          <TD align=right>501</TD>
          <TD align=right>511100</TD>
          <TD align=right>1017</TD>
          <TD align=right>66000.00</TD></TR>
        <TR>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;&nbsp;------------</TD></TR>
        <TR>
          <TD align=right colSpan=3>JOB TOTAL<BR><BR></TD>
          <TD align=right>66000.00<BR><BR></TD></TR>
        <TR>
          <TD align=right>501</TD>
          <TD align=right>512101</TD>
          <TD align=right>1018</TD>
          <TD align=right>54000.00</TD></TR>
        <TR>
          <TD align=right>501</TD>
          <TD align=right>512101</TD>
          <TD align=right>1023</TD>
          <TD align=right>26500.00</TD></TR>
        <TR>
          <TD align=right>501</TD>
          <TD align=right>512101</TD>
          <TD align=right>1015</TD>
          <TD align=right>53625.00</TD></TR>
        <TR>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;&nbsp;------------</TD></TR>
        <TR>
          <TD align=right colSpan=3>JOB TOTAL<BR><BR></TD>
          <TD align=right>134125.00<BR><BR></TD></TR>
        <TR>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;</TD>
          <TD align=right>&nbsp;&nbsp;------------</TD></TR>
        <TR>
          <TD align=right colSpan=3>DEPT TOTAL<BR><BR></TD>
          <TD align=right>200125.00<BR><BR></TD></TR></TBODY></TABLE>
      <H4>&nbsp;</H4>
      <P><B>Note:</B> Because there are two <FONT 
      face="Courier New, Courier, mono" size=-1><B>BY</B></FONT> clauses in this 
      query, their sequence in the query affects how the final report is sorted. 
      Because '<FONT face="Courier New, Courier, mono" size=-1><B>BY 
      Dept</B></FONT>' is the last one specified, it becomes the highest level 
      sort column, thus the report is sorted as job code within department. 
      </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Creating Final Totals Using 
WITH</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Creating Final Totals Using WITH</H2> -->The <B>WITH 
      </B>clause without <B>'BY'</B> is used to create a grand totals.<FONT 
      size=-1></FONT><FONT face="Courier New, Courier, mono" size=-1> <BR>
      <H4 class=TitleProblem>Problem</H4>
      <P>Display employee numbers and salary amounts for department 301 and a 
      final total for the department.</P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>   <B>SELECT    employee_number
             ,salary_amount
   FROM      employee
   WHERE     department_number = 301
   WITH      SUM(salary_amount)(TITLE 'GRAND TOTAL')
   ORDER BY  employee_number
   ;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4>
      <TABLE>
        <TBODY>
        <TR>
          <TD align=right><B>employee_number</B></TD>
          <TD align=right>&nbsp;&nbsp;&nbsp;<B>salary_amount</B></TD></TR>
        <TR>
          <TD align=right>------------------------</TD>
          <TD align=right>--------------------</TD></TR>
        <TR>
          <TD align=right>1006</TD>
          <TD align=right>29450.00</TD></TR>
        <TR>
          <TD align=right>1008</TD>
          <TD align=right>29250.00</TD></TR>
        <TR>
          <TD align=right>1019</TD>
          <TD align=right>57700.00</TD></TR>
        <TR>
          <TD align=right>&nbsp;</TD>
          <TD align=right>------------</TD></TR>
        <TR>
          <TD align=right>GRAND TOTAL</TD>
          <TD align=right>116400.00</TD></TR></TBODY></TABLE>
      <P><FONT face="courier New, Courier" size=-1><B>WITH </B></FONT>is a 
      non-ANSI Teradata extension and is not supported by ODBC 
      clients.</P></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>DISTINCT Modifier</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>DISTINCT Modifier</H2> -->The <FONT 
      face="Courier New, Courier, mono" size=-1 new="NEW" 
      courier="COURIER"><B>DISTINCT</B></FONT> modifier is used in conjuction 
      with the <FONT size=-1><B><FONT 
      face="Courier New, Courier, mono">COUNT</FONT></B></FONT> aggregate to 
      prevent the same value from being counted more than once. 
      <H4></H4>
      <H4 class=TitleProblem>Problem</H4>
      <P><FONT color=#000000>Count the number of managers for employees numbered 
      between 1003 and 1008.</FONT> </P>
      <H4 class=TitleSolution>Solution</H4><FONT 
      face="Courier New, Courier, mono" color=#660066 size=3><PRE>  <B>SELECT 
           employee_number
           ,department_number
           ,manager_employee_number (NAMED manager)
  FROM     employee
  WHERE    employee_number BETWEEN 1003 AND 1008
  WITH COUNT (manager)(TITLE 'TOTAL MANAGERS')
  ;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4><FONT face="Courier New, Courier, mono" 
      size=3><PRE><B>employee_number</B>  <B>department_number</B>      <B>manager</B>
---------------  -----------------  -----------
           1003                401          801
           1007                403         1005
           1004                401         1003
           1008                301         1019
           1005                403          801
           1006                301         1019
                                    -----------
                    TOTAL MANAGERS            6
</PRE></FONT>
      <P>Note that even though the count is represented as six, there are really 
      only four managers.</P>
      <P>To solve this problem, use the <B><FONT 
      face="Courier New, Courier, mono" size=-1>DISTINCT</FONT></B> 
modifier.</P>
      <H4 class=TitleSolution>Solution</H4><FONT 
      face="Courier New, Courier, mono" color=#660066 size=3><PRE>  <B>SELECT	
            employee_number
            ,department_number
            ,manager_employee_number AS manager
  FROM      employee
  WHERE     employee_number BETWEEN 1003 AND 1008
  WITH COUNT (DISTINCT manager)(TITLE 'TOTAL MANAGERS')
    ;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4><FONT face="Courier New, Courier, mono" 
      size=3><PRE><B>employee_number</B>  <B>department_number</B>      <B>manager</B>
---------------  -----------------  -----------
           1003                401          801
           1004                401         1003
           1007                403         1005
           1008                301         1019
           1005                403          801
           1006                301         1019
                                    -----------
                    TOTAL MANAGERS            4 
</PRE></FONT>
      <P>This gives you an actual count for the number of managers.</P>
      <P><B>Note:</B> When using <B><FONT face="Courier New, Courier, mono" 
      size=-1>DISTINCT</FONT></B> with an aggregate function only a single 
      column or expression may be used.</P>
      <P><B>Legal Example:</B></P><FONT face="Courier New, Courier, mono" 
      color=#660066 size=3><PRE>  <B>SELECT  COUNT(DISTINCT(job_code))
          ,COUNT(DISTINCT(employee_number)).....</B>
</PRE></FONT>
      <P><B>Illegal Example: </B></P><FONT face="Courier New, Courier, mono" 
      color=#660066 size=3><PRE>  <B>SELECT  COUNT(DISTINCT(job_code, employee_number)).......</B>
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Combining WITH and WITH 
BY</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Combining WITH and WITH BY</H2> -->
      <P><FONT face="courier New, Courier" size=-1><B>WITH</B></FONT> and <FONT 
      face="courier New, Courier" size=-1><B>WITH BY</B></FONT> may be combined 
      within the same query.</P>
      <H4 class=TitleProblem>Problem</H4>
      <P>Show the salary for each employee with subtotals by department, a final 
      total, and results sorted by employee name.</P>
      <H4 class=TitleSolution>Solution</H4><FONT 
      face="Courier New, Courier, mono" color=#660066 size=3><PRE>  <B>SELECT   last_name          AS NAME
           ,salary_amount     AS SALARY
           ,department_number AS DEPT
  FROM     employee
  WHERE    employee_number
  BETWEEN  1003 and 1008
  WITH     SUM (SALARY)       BY DEPT
  WITH     SUM (SALARY)       (TITLE 'GRAND TOTAL')
  ORDER BY NAME
  ;</B>
</PRE></FONT>
      <H4 class=TitleResult>Results</H4>
      <TABLE cellPadding=0>
        <TBODY>
        <TR>
          <TD><U><B>NAME</B></U></TD>
          <TD>&nbsp;</TD>
          <TD align=right><U><B>SALARY</B></U></TD>
          <TD>&nbsp;&nbsp;&nbsp;&nbsp;<U><B>DEPT</B></U></TD></TR>
        <TR>
          <TD vAlign=top>Kanieski<BR>Stein&nbsp;&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD align=right>29250.00<BR>29450.00<BR></TD>
          <TD 
            vAlign=top>&nbsp;&nbsp;&nbsp;&nbsp;301<BR>&nbsp;&nbsp;&nbsp;&nbsp;301</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD align=right>------------</TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD align=left>Sum (Salary)&nbsp;&nbsp;&nbsp;</TD>
          <TD align=right>&nbsp;&nbsp;&nbsp;58700.00</TD>
          <TD align=right>&nbsp;</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD vAlign=top>Johnson<BR>Trader</TD>
          <TD>&nbsp;</TD>
          <TD align=right>36300.00<BR>37850.00<BR></TD>
          <TD 
            vAlign=top>&nbsp;&nbsp;&nbsp;&nbsp;401<BR>&nbsp;&nbsp;&nbsp;&nbsp;401</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD align=right>------------</TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD align=left>Sum (Salary)&nbsp;&nbsp;&nbsp;</TD>
          <TD align=right>&nbsp;&nbsp;&nbsp;58700.00</TD>
          <TD align=right>&nbsp;</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD vAlign=top>Ryan<BR>Villegas</TD>
          <TD>&nbsp;</TD>
          <TD align=right>31200.00<BR>49700.00</TD>
          <TD 
            vAlign=top>&nbsp;&nbsp;&nbsp;&nbsp;403<BR>&nbsp;&nbsp;&nbsp;&nbsp;403</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD align=right>------------</TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD align=left>Sum (Salary)&nbsp;&nbsp;&nbsp;</TD>
          <TD align=right>&nbsp;&nbsp;&nbsp;58700.00</TD>
          <TD align=right>&nbsp;</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD>&nbsp;</TD>
          <TD align=right>------------</TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD>&nbsp;</TD>
          <TD align=left>GRAND TOTAL&nbsp;&nbsp;&nbsp;</TD>
          <TD align=right>&nbsp;&nbsp;&nbsp;213750.00</TD>
          <TD align=right>&nbsp;</TD></TR></TBODY></TABLE>
      <P>Note that the <FONT face="courier New, Courier" size=-1><B>WITH 
      BY</B></FONT> clause controls the high level sort by department. The <FONT 
      face="courier New, Courier" size=-1><B>ORDER BY</B></FONT> clause is 
      applied as a minor level sort, producing a sorted list of names within 
      sorted departments.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Final Totals Using WITH and GROUP 
BY</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Final Totals Using WITH and GROUP BY</H2> -->
      <P><FONT face="courier New, Courier" size=-1><B>WITH </B></FONT>and <FONT 
      face="courier New, Courier" size=-1><B>GROUP BY</B></FONT> clauses may 
      both appear in the same query. The <FONT face="courier New, Courier" 
      size=-1><B>GROUP BY</B></FONT> clause is needed when both aggregates and 
      non-aggregates are in the <FONT face="courier New, Courier" 
      size=-1><B>SELECTed </B></FONT>columns. The <FONT 
      face="courier New, Courier" size=-1><B>WITH </B></FONT>clause is needed 
      when a final aggregation of all the groups is desired.</P>
      <H4 class=TitleProblem>Problem</H4>
      <P>Show the total and average salaries for each department plus a final 
      total and average for the company.</P>
      <H4 class=TitleSolution>Solution</H4><FONT 
      face="Courier New, Courier, mono" color=#660066 size=3><PRE>  <B>SELECT    department_number     (TITLE 'dept_no')
            ,SUM (salary_amount)
            ,AVG (salary_amount)
  FROM      employee
  GROUP BY  department_number
  WITH      SUM (salary_amount)   (TITLE 'GRAND TOTAL')
            ,AVG (salary_amount)  (TITLE '  ')
  ORDER BY  department_number
  ;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4>
      <TABLE width="100%">
        <TBODY>
        <TR>
          <TD align=right><B>dept_no</B></TD>
          <TD align=right>&nbsp;&nbsp;&nbsp;<B>SUM(salary_amount)</B></TD>
          <TD align=right>&nbsp;&nbsp;&nbsp;<B>AVG(salary_amount)</B></TD></TR>
        <TR>
          <TD align=right>------------</TD>
          <TD align=right>-----------------------------</TD>
          <TD align=right>----------------------------</TD></TR>
        <TR>
          <TD align=right>301</TD>
          <TD align=right>58700.00</TD>
          <TD align=right>29350.00</TD></TR>
        <TR>
          <TD align=right>401</TD>
          <TD align=right>74150.00</TD>
          <TD align=right>37075.00</TD></TR>
        <TR>
          <TD align=right>403</TD>
          <TD align=right>80900.00</TD>
          <TD align=right>40450.00</TD></TR>
        <TR>
          <TD align=right colSpan=2>-----------------------------</TD>
          <TD align=right>----------------------------</TD></TR>
        <TR>
          <TD align=right>GRAND TOTAL</TD>
          <TD align=right>213750.00</TD>
          <TD 
align=right>35635.00</TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Summary of WITH...BY and 
WITH</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Summary of WITH...BY and WITH</H2> -->
      <P>The <FONT face="Courier New, Courier, mono" 
      size=-1><B>WITH...BY</B></FONT> clause specifies summary lines and breaks, 
      or grouping conditions, that determine how results are returned. This 
      clause is typically used when you need to produce subtotals and also wish 
      to see the detail rows.</P>
      <P><FONT color=#000000><FONT face="Courier New, Courier, mono" 
      size=-1><B>WITH </B></FONT><B><U>summarylist</U> <FONT 
      face="Courier New, Courier, mono" size=-1>BY </FONT><U>breaklist</U> <FONT 
      face="Courier New, Courier, mono" size=-1>ASC/DESC</FONT></B>: </FONT></P>
      <UL>
        <LI>Will provide subtotals, subcounts, and subaverages, and also show 
        detail rows. 
        <LI><U>Summarylist</U> can specify more than one column. 
        <LI><U>Breaklist</U> can specify more than one column. 
        <LI>Implied <FONT face="Courier New, Courier, mono" size=-1><B>ORDER 
        BY</B></FONT> on the <U>breaklist</U> columns. 
        <LI><B><FONT face="Courier New, Courier, mono" 
        size=-1>WITH...BY</FONT></B> determines the major sort key(s). 
        <LI><FONT face="Courier New, Courier, mono" size=-1><B>ORDER 
        BY</B></FONT> specifies any additional minor sorts. 
        <LI>An SQL statement can have several <B><FONT 
        face="Courier New, Courier, mono" size=-1>WITH...BY</FONT></B> clauses. 
        <LI>The highest level of sort is the last specified <B><FONT 
        face="Courier New, Courier, mono" size=-1>WITH...BY</FONT></B> clause. 
        <LI>Is not supported by ANSI standard or ODBC clients. </LI></UL>
      <P><FONT face="Courier New, Courier, mono" size=-1><B>WITH 
      </B></FONT><B><U>summarylist</U></B></FONT>:</P>
      <P>The <FONT face="Courier New, Courier, mono" size=-1><B>WITH 
      </B></FONT>clause produces grand total results for the entire answer set. 
      This clause is typically used when you need to produce final totals and 
      also wish to see the detail rows.</P>
      <UL>
        <LI>Will provide a final or grand total, count or average. 
        <LI><U>Summarylist</U> may specify more than one column. 
        <LI>Only a single <FONT face="Courier New, Courier, mono" 
        size=-1><B>WITH</B></FONT> is allowed in a query. 
        <LI><FONT face="Courier New, Courier, mono" size=-1><B>WITH</B></FONT> 
        must follow any <FONT face="Courier New, Courier, mono" 
        size=-1><B>WITH...BY</B></FONT> syntax. 
        <LI>Not supported by ANSI standard or ODBC clients. </LI></UL><!-- <p align="center"><img src="17Totals/../z-line.gif" width="20" height="2" border="0"> <b><a href="./images/labs/wbt-total_subtotal_lab.shtm">Lab</a></b> <img src="17Totals/../z-line.gif" width="20" height="2" border="0"></p> --></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK href="./././sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>
      <TABLE cellSpacing=0 cellPadding=8 width="100%" bgColor=#ffffcc 
        border=0><TBODY>
        <TR>
          <TD vAlign=top width="20%" bgColor=#ffffcc><B><FONT size=-1><A 
            name=LAB>Try It!</A></FONT></B> </TD>
          <TD vAlign=top width="80%" bgColor=#ffffcc><!-- <H2>LAB</H2> -->
            <P>For this set of lab questions you will need information from the 
            <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1>Database Info document.</A></P>
            <P>To start the online labs, click on the Telnet button in the lower 
            left hand screen of the course. Two windows will pop-up: a BTEQ 
            Instruction Screen and your Telnet Window.</P>
            <P>Sometimes the BTEQ Instructions get hidden behind the Telnet 
            Window. You will need these instructions to log on to Teradata.</P>
            <P><B>Be sure to change your default database to the 
            Customer_Service database in order to run these labs.</B></P>
            <P>Click on the buttons to the left to see the 
        answers.</P></FONT></TD></TR>
        <TR>
          <TD vAlign=top width=106><FONT size=-1>Answers:<BR><A 
            onclick="AnswerWindow('Mod17L01.htm',600,420,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            A<BR><A onclick="AnswerWindow('Mod17L02.htm',600,420,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            B </FONT></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc>
            <OL type=A>
              <LI><FONT size=-1>Use the location table to find the customers 
              located in California.<BR>Matching on customer number, list 
              customer name, number, and sales representatives<BR>number from 
              the customer table. Sort by sales representatives number.<BR>Give 
              a count of customers at the end of the report as shown 
              below.</FONT> <BR>
              <P><FONT face="courier New, Courier" size=3><PRE><B>customer_name</B>	<B>customer_number</B>	<B>sales_employee_number</B>
	.		.		.
	.		.		.
	.		.		.
		---------------
Total Cust		      X
</PRE></FONT>
              <P></P>
              <LI><FONT size=-1>Do a salary study report for departments 401 and 
              403, excluding job codes 411100, 413201 and 431100. List 
              employee's last and first name (10 characters each), department, 
              job code and salary. Give totals for each department and job code 
              within department. Give a grand total for salary. Give an average 
              figure as well. Sort by last name within department and job. 
              Format the report as follows: </FONT>
              <P><FONT face="courier New, Courier" size=3><PRE><B>last_name</B>	<B>first_name</B>	<B>Dept	Job</B>	  <B>Salary</B>
------------	------------	----	------	  ---------
xxxxxxxxxx	xxxxxxxxxx	xxxx	xxxxxx	    xxxxx.xx
xxxxxxxxxx	xxxxxxxxxx	xxxx	xxxxxx	    xxxxx.xx
					Job Total   xxxxx.xx
						    --------
					Job Avg     xxxxx.xx
xxxxxxxxxx	xxxxxxxxxx	xxxx	xxxxxx	    xxxxx.xx
xxxxxxxxxx	xxxxxxxxxx	xxxx	xxxxxx	    xxxxx.xx  
					Job Total   xxxxx.xx
						    --------
					Job Avg     xxxxx.xx
					Dept Total  xxxxx.xx
						    --------
					Dept Avg    xxxxx.xx
xxxxxxxxxx	xxxxxxxxxx	xxxx	xxxxxx	    xxxxx.xx
xxxxxxxxxx	xxxxxxxxxx	xxxx	xxxxxx	    xxxxx.xx
					Job Total   xxxxx.xx
						    --------
					Job Avg     xxxxx.xx
					Dept Total  xxxxx.xx
						    --------
					Dept Avg    xxxxx.xx
					Grand Total xxxxx.xx
					Grand Avg   xxxxx.xx
</PRE></FONT></LI></OL></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;Rankings, 
      Samplings and Built-in Functions</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><LINK href="../sqlstyle.css" 
type=text/css rel=stylesheet><FONT face=Verdana size=3><B>Objectives</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>After completing this module, you should be able to:</P>
      <UL>
        <LI>Perform simple rankings on rows in a table. 
        <LI>Extract samples of data from a table 
        <LI>Employ the Teradata built-in system functions. 
        <LI>Retrieve the top n rows of an output result. 
  </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Simple Rankings</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>The <B>RANK</B> function permits a column to be ranked, either based on 
      high or low order, against other rows in the answer set. You may specify 
      the order of ranking by use of the ORDER BY clause within the RANK 
      function. Descending order will provide traditional ranking wherein the 
      largest value is assigned a rank of one. Ascending order will associate 
      the largest value with the highest rank value. <BR></P>
      <P><FONT color=#000000>Most of the examples we will see are rankings of 
      sales figures, where the larger the amount, the better (i.e. lower number) 
      the ranking.</FONT></P>
      <P><FONT color=#000000>The syntax for the <B>RANK</B> function is: </FONT>
      <P><FONT face="Courier New, Courier, mono" color=#660066 size=-1><B>RANK( 
      ) OVER (ORDER BY sales DESC)</B></FONT><FONT color=#000000 new="NEW" 
      courier="COURIER"><BR><BR></FONT><FONT color=#000000>where 'sales' ' 
      represents the column to be ranked and the descending sort key of the 
      result. <BR><BR></FONT>
      <P><FONT color=#000000><B>Problem</B></FONT> 
      <P><FONT color=#000000>Show the ranking of product sales for store 1001. 
      </FONT>
      <P><FONT color=#000000><B>Solution</B> </FONT><PRE><FONT face="Courier New, Courier, mono" color=#660066><B><FONT size=2>SELECT storeid
   ,prodid
   ,sales
   ,RANK( ) OVER (ORDER BY sales DESC) AS "Rank"
   FROM salestbl
   WHERE storeid = 1001;</FONT></B></FONT></PRE>
      <P><FONT color=#660066><B><BR><FONT color=#333333>Result</FONT></B></FONT> 
      <FONT face="Courier New, Courier, mono" color=#660066 
      size=-1><B></B></FONT></P><FONT face="Courier New, Courier, mono" 
      color=#660066 size=-1><B></B></FONT><PRE><FONT face="Courier New, Courier, mono" color=#660066 size=2>    storeid  prodid        sales         Rank<BR>-----------  ------  -----------  -----------<BR>       1001  F         150000.00            1<BR>       1001  A         100000.00            2<BR>       1001  C          60000.00            3<BR>       1001  D          35000.00            4</FONT><FONT face="Courier New, Courier, mono" color=#000000 size=2>
</FONT></PRE>
      <P><FONT color=#000000><BR><B>Things To Notice:</B></FONT></P>
      <UL>
        <LI><FONT color=#000000>WHERE clause qualifies rows to be ranked.</FONT> 

        <LI><FONT color=#000000>When the order of sales is DESC, the highest 
        sales amount is rank #1</FONT><B><FONT face="Courier New, Courier, mono" 
        color=#000000 size=-1><BR></FONT></B></LI></UL>
      <P><FONT color=#000000></FONT>
      <P><FONT color=#000000><B>Problem</B></FONT> 
      <P><FONT color=#000000>Show the lowest ranking of product sales for store 
      1001. </FONT>
      <P><FONT color=#000000><B>Solution</B> </FONT><PRE><FONT face="Courier New, Courier, mono" color=#660066><B><FONT size=2>SELECT storeid
   ,prodid
   ,sales
   ,RANK( ) OVER (ORDER BY sales <FONT color=#ff0000>ASC</FONT>) AS "Rank"
   FROM salestbl
   WHERE storeid = 1001;</FONT></B></FONT></PRE>
      <P><FONT color=#660066 size=-1><B><BR><FONT 
      color=#333333>Result</FONT></B></FONT> </P><PRE><FONT face="Courier New, Courier, mono" size=2>    storeid  prodid        sales         Rank<BR>-----------  ------  -----------  -----------<BR>       1001  D          35000.00            1<BR>       1001  C          60000.00            2<BR>       1001  A         100000.00            3<BR>       1001  F         150000.00            4</FONT></PRE>
      <P><FONT color=#000000><BR><B>Things To Notice:</B></FONT></P>
      <UL>
        <LI>When the order of sales is ASC, the lowest sales amount is rank #1 
        <LI>Rank #1 always appears at top of list unless 
      overridden.<BR></LI></UL><B><FONT face="Courier New, Courier, mono" 
      color=#000000 size=-1></FONT></B></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Rankings With 
Qualification</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>The <FONT color=#000000 size=-1 new="new" 
      courier="courier"><B>QUALIFY</B></FONT> clause allows restriction of which 
      rankings will be output in the final result. In the second query at hand, 
      the <FONT color=#000000 size=-1 new="new" courier="courier">QUALIFY</FONT> 
      clause restricts the result to the top three sales amounts. </P>
      <P><FONT color=#000000 size=-1 new="new" 
      courier="courier">QUALIFY</FONT><FONT color=#000000> performs like the 
      <FONT size=-1 NEW COURIER>HAVING</FONT> clause by requesting a specific 
      range in the output. </FONT></P>
      <H4><FONT color=#000000><B>Problem</B><BR></FONT></H4>
      <P><FONT color=#000000>Get top 3 sales - any product in any store:</FONT> 
      </P>
      <H4><FONT color=#000000><B>Solution</B> </FONT></H4>
      <P><FONT color=#660066><B><FONT face="Courier New, Courier, mono" 
      size=-1>SELECT 
      storeid<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,prodid<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,sales<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,RANK( 
      ) OVER (ORDER BY sales 
      DESC)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS 
      "Ranking"<BR>FROM salestbl <BR>QUALIFY Ranking &lt;= 
      3;</FONT></B></FONT><FONT color=#000000 size=3><BR></FONT></P>
      <H4><FONT color=#000000><B>Result</B> </FONT></H4><PRE><FONT face="Courier New, Courier, mono" color=#000000 size=2>
<FONT color=#660066>    storeid  prodid        sales      Ranking<BR>-----------  ------  -----------  -----------<BR>       1001  F         150000.00            1<BR>       1001  A         100000.00            2<BR>       1003  B          65000.00            3   </FONT></FONT><FONT color=#000000>
   </FONT> </PRE>
      <P><FONT color=#000000><B>Things To Notice:</B></FONT> <FONT 
      face="Courier New, Courier, mono" color=#660066 size=-1><B></B></FONT>
      <UL>
        <LI>QUALIFY shows the ranking for the top 3 sales amounts only.<BR>
        <LI><FONT color=#000000>When the order of sales is DESC, the highest 
        sales amount is rank #1</FONT><B><FONT face="Courier New, Courier, mono" 
        color=#000000 size=-1><BR></FONT></B></LI></UL>
      <P>Note, salestbl data is shown here. 
      <P><B><FONT face="Courier New, Courier, mono" color=#660066 
      size=-1><BR>SELECT * FROM salestbl ORDER BY sales DESC;</FONT><FONT 
      face="Courier New, Courier, mono" color=#660066 size=3></FONT></B></P><PRE><FONT face="Courier New, Courier, mono" color=#660066 size=3>     storeid  prodid        sales<BR>-----------  ------  -----------<BR>       1001  F         150000.00<BR>       1001  A         100000.00<BR>       1003  B          65000.00<BR>       1001  C          60000.00<BR>       1003  D          50000.00<BR>       1002  A          40000.00<BR>       1001  D          35000.00<BR>       1002  C          35000.00<BR>       1003  A          30000.00<BR>       1002  D          25000.00<BR>       1003  C          20000.00</FONT></PRE><PRE>&nbsp; </PRE><B><FONT face="Courier New, Courier, mono" color=#000000 
      size=-1></FONT></B></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Variations On a Ranking</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>The<B> RANK</B> function produces an ordered sequence. <BR><B>ORDER 
      BY</B> can override the normal sequencing.<BR><BR></P>
      <H4><FONT color=#000000><B>Problem</B></FONT></H4>
      <P><FONT color=#000000>Reverse the ranking sequence in the previous 
      example.</FONT> 
      <H4><FONT color=#000000><B>Solution</B> </FONT></H4><PRE><B><FONT face="Courier New, Courier, mono" color=#660066 size=2>SELECT storeid<BR>       prodid<BR>       ,sales<BR>       ,RANK( ) OVER (ORDER BY sales DESC) AS "Ranking" <BR>FROM 	salestbl <BR>QUALIFY Ranking &lt;= 3<BR>ORDER BY 4 DESC;</FONT></B><FONT size=2><BR></FONT></PRE>
      <H4><FONT color=#000000><B>Result</B> </FONT></H4><PRE><FONT color=#000000>
<FONT face="Courier New, Courier, mono" color=#660066 size=2>    storeid  prodid        sales      Ranking<BR>-----------  ------  -----------  -----------<BR>       1003  B          65000.00            3<BR>       1001  A         100000.00            2<BR>       1001  F         150000.00            1</FONT></FONT> </PRE>
      <P><FONT color=#000000><B>Things To Notice:</B></FONT> <FONT 
      face="Courier New, Courier, mono" color=#660066 size=-1><B></B></FONT>
      <UL>
        <LI>The ORDER BY clause in the SELECT statement may always be used to 
        control the final order of the result set.<BR>
        <LI><FONT color=#000000>When the order of sales is DESC, the highest 
        sales amount is always rank #1</FONT> 
        <LI><FONT color=#000000>After the ranking is applied, the output results 
        are produced based on the ORDER BY sequence.</FONT><B><FONT 
        face="Courier New, Courier, mono" color=#000000 
        size=-1><BR></FONT></B></LI></UL>
      <P><BR>The following is an alternate way to produce the same result. <PRE><B><FONT face="Courier New, Courier, mono" color=#660066 size=2>SELECT storeid<BR>      ,prodid<BR>      ,sales<BR>      ,RANK( ) OVER (ORDER BY sales DESC) AS "Ranking" <BR>FROM 	salestbl <BR>QUALIFY Ranking &lt;= 3<BR>ORDER BY 3 ASC;</FONT><FONT face="Courier New, Courier, mono" color=#660066><BR></FONT></B></PRE>
      <P><FONT color=#000000><B>Result</B> </FONT><PRE><FONT face="Courier New, Courier, mono" color=#660066 size=2>    storeid  prodid        sales      Ranking<BR>-----------  ------  -----------  -----------<BR>       1003  B          65000.00            3<BR>       1001  A         100000.00            2<BR>       1001  F         150000.00            1</FONT> </PRE>
      <P><FONT color=#000000><B>Things To Notice:</B></FONT> <FONT 
      face="Courier New, Courier, mono" color=#660066 size=-1><B></B></FONT>
      <UL>
        <LI>The ORDER BY clause in the SELECT statement uses the sales column 
        for final ordering. <B><FONT face="Courier New, Courier, mono" 
        color=#000000 size=-1></FONT></B></LI></UL><B><FONT 
      face="Courier New, Courier, mono" color=#000000 
    size=-1></FONT></B></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Ranking With PARTITION BY</B></FONT> 

<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>The <B>PARTITION BY</B> clause may be used in conjunction with a RANK 
      function to change the scope of the ranking. Without a PARTITION BY 
      clause, the scope defaults to the RANK column. In the example on the 
      preceding pages, the scope was the sales amount and rankings were done 
      strictly based on that amount.<BR><BR>In the example seen next, the 
      PARTITION BY clause adds the <I>store id</I> to the scope, thus rankings 
      will be based upon sales within a store. Each store will have its top 
      three ranking sales output.<BR><BR>Whereas the RANK( ) ORDER BY clause 
      controls the default sort key, the PARTITION BY clause adds another level 
      of sort to the output.<BR><BR></P>
      <H4><FONT color=#000000><B>Problem</B></FONT></H4>
      <P><FONT color=#000000>Get the top three selling products in each 
      store.</FONT> 
      <H4><FONT color=#000000><B>Solution</B> </FONT></H4><PRE><B><FONT face="Courier New, Courier, mono" color=#660066 size=2>SELECT   storeid<BR>	    ,prodid<BR>	    ,sales<BR>	    ,RANK( ) OVER (PARTITION BY storeid<BR>		    ORDER BY sales DESC) AS "Ranking"<BR>FROM 	salestbl<BR>QUALIFY Ranking &lt;= 3;</FONT></B><FONT face="Courier New, Courier, mono"><BR></FONT></PRE>
      <H4><FONT color=#000000><B>Result</B> </FONT></H4><PRE><FONT face="Courier New, Courier, mono" color=#660066 size=2>    storeid  prodid        sales      Ranking<BR>-----------  ------  -----------  -----------<BR>       1001  F         150000.00            1<BR>       1001  A         100000.00            2<BR>       1001  C          60000.00            3<BR>       1002  A          40000.00            1<BR>       1002  C          35000.00            2<BR>       1002  D          25000.00            3<BR>       1003  B          65000.00            1<BR>       1003  D          50000.00            2<BR>       1003  A          30000.00            3</FONT></PRE>
      <P><FONT color=#000000><B>Things To Notice:</B></FONT> <FONT 
      face="Courier New, Courier, mono" color=#660066 size=-1><B></B></FONT>
      <UL>
        <LI>PARTITION BY clause controls scope, i.e., rank sales within store. 
        <LI>Without PARTITION BY, scope would default to sales only. 
        <LI>QUALIFY the ranking for the top 3 sales amounts per store. 
        <LI>Sort sequence of output is sales descending. 
        <LI>Due to PARTITION BY, sort is by sales (DESC) within store (ASC). 
        <LI>Note -- no aggregation is done in this query. 
        <LI>Aggregations are not permitted with ordered analytic 
        functions.<B><FONT face="Courier New, Courier, mono" color=#000000 
        size=-1><BR></FONT></B></LI></UL>
      <P><BR><B><FONT face="Courier New, Courier, mono" color=#000000 
      size=-1></FONT></B></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Extended Ranking Scope</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>In the following example, an additional level of scope has been added 
      via the PARTITION BY clause. Our scope is now sales by product within 
      store. Because these three elements make up a ranking group and because 
      the distinct elements store and product only yield a single row, there are 
      no rankings below rank one. This is a case where the scope matches the 
      granularity of the table, thus no reasonable ranking can be 
      produced.<BR><BR>Whereas the RANK( ) ORDER BY clause controls the default 
      sort key, the PARTITION BY clause adds another level of sort to the 
      output.</P>
      <H4><FONT color=#000000><B>Problem</B></FONT></H4>
      <P><FONT color=#000000>Produce a ranking of sales by product within 
      store.<BR></FONT><FONT color=#000000><BR></FONT>
      <H4><FONT color=#000000><B>Solution</B> </FONT></H4><PRE><B><FONT face="Courier New, Courier, mono" color=#660066 size=2>SELECT  storeid<BR>     	,prodid<BR>     	,sales<BR>     	,RANK( ) OVER (PARTITION BY storeid, prodid<BR>		ORDER BY sales DESC) AS "Ranking"<BR>FROM   salestbl<BR>QUALIFY Ranking &lt;= 3;</FONT></B>
</PRE>
      <H4><FONT color=#000000><B>Result</B> </FONT></H4><PRE><FONT face="Courier New, Courier, mono" color=#660066> <FONT size=2>   storeid  prodid        sales      Ranking<BR>-----------  ------  -----------  -----------<BR></FONT><FONT face="Courier New, Courier, mono" color=#660066><FONT size=2>       1001  A         100000.00            1  <BR>       1001  C          60000.00            1<BR>       1001  D          35000.00            1  <BR>       1001  F         150000.00            1  <BR>       1002  A          40000.00            1  <BR>       1002  C          35000.00            1<BR>       1002  D          25000.00            1  <BR>       1003  A          30000.00            1  <BR>       1003  B          65000.00            1  <BR>       1003  C          20000.00            1  <BR>       1003  D          50000.00            1 </FONT></FONT><FONT size=2>

<BR></FONT></FONT></PRE>
      <P><FONT color=#000000><B>Things To Notice:</B></FONT> <FONT 
      face="Courier New, Courier, mono" color=#660066 size=-1><B></B></FONT>
      <UL>
        <LI>An additional PARTITION BY column is added. 
        <LI>Scope is sales by product within store. 
        <LI>Each product exists only once in each store. 
        <LI>Thus, each row gets a rank of 1.<BR><B><FONT 
        face="Courier New, Courier, mono" color=#000000 
        size=-1><BR></FONT></B></LI></UL>
      <P>Note, the RANK function is covered in more detail in the Advanced SQL 
      course.<BR></P>
      <P><BR><B><FONT face="Courier New, Courier, mono" color=#000000 
      size=-1></FONT></B></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>The SAMPLE Function</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>The <FONT color=#000000 size=-1 new="new" 
      courier="courier"><B>SAMPLE</B></FONT> function is used to generate 
      samples of data from a table or view. This may be done in one of two ways. 
      <FONT color=#000000 size=-1 new="new" courier="courier">SAMPLE n</FONT> - 
      where n is an integer will yield a sample of n rows, or if the number n is 
      greater than the number of rows in the table, the sample will consist of 
      the number of rows in the table. Rows are not reused within the same 
      sample. </P>
      <P><FONT color=#000000><B>SAMPLE n</B> - where n is a decimal value less 
      than 1.00 and greater than .00 </FONT>
      <P><FONT color=#000000>The <FONT size=-1 NEW COURIER>SAMPLE</FONT> 
      function allows sampling of data based on: </FONT>
      <UL>
        <LI><FONT color=#000000>A percentage of a table. </FONT>
        <LI><FONT color=#000000>An actual number of rows. </FONT></LI></UL>
      <H4><FONT color=#000000><B>Problem</B></FONT></H4>
      <P><FONT color=#000000>Get a sampling of 10 employee 
      numbers.<BR></FONT></P><PRE><FONT color=#000000><B><FONT face="Courier New, Courier, mono" color=#660066 size=2>SELECT department_number 
FROM employee 
SAMPLE 10;</FONT></B></FONT><FONT face="Courier New, Courier, mono"><BR></FONT></PRE>
      <H4><FONT color=#000000><B>Result</B> </FONT></H4><PRE><FONT face="Courier New, Courier, mono" color=#660066 size=2>department_number<BR>-----------------<BR>              501<BR>              501<BR>              402<BR>              402<BR>              301<BR>              403<BR>              100<BR>              301<BR>              501<BR>              401</FONT></PRE>
      <P><FONT color=#000000><B>Things To Notice:</B></FONT> <FONT 
      face="Courier New, Courier, mono" color=#660066 size=-1><B></B></FONT>
      <UL>
        <LI><FONT color=#000000>This is just the first 10 arbitrarily selected 
        rows. </FONT><B><FONT face="Courier New, Courier, mono" color=#000000 
        size=-1><BR></FONT></B></LI></UL>
      <P><FONT color=#000000>When a percentage is specified, a fraction of the 
      rows is returned based on the decimal value. Note that calculations 
      resulting in fractional rows must be greater than .4999 to actually return 
      a row. </FONT></P>
      <P><FONT color=#000000>In the following example, 25% of the rows of the 
      employee table are to be returned. The employee table has 26 rows. </FONT>
      <P></P><FONT color=#000000><BR>26 * .25 = 6.50 = 7 rows in the 
      sample<BR></FONT>
      <P><FONT color=#000000><B>Example 2</B><BR><BR>Get a sampling of employee 
      numbers using 25% of employees.</FONT></P>
      <P><FONT color=#000000><BR></FONT>
      <P><FONT color=#000000><B>Solution</B> </FONT><PRE><B><FONT face="Courier New, Courier, mono" color=#660066 size=2>SELECT employee_number<BR>FROM employee<BR>SAMPLE  .25<BR>ORDER BY 1;</FONT></B><FONT size=-1><BR><BR></FONT></PRE>
      <P><FONT color=#000000><B>Result</B> </FONT><PRE><FONT face="Courier New, Courier, mono" color=#660066 size=2>employee_number<BR>---------------<BR>           1005<BR>           1006<BR>           1011<BR>           1014<BR>           1018<BR>           1022<BR>           1024</FONT></PRE>
      <P><FONT color=#000000><B>Things To Notice:</B></FONT> <FONT 
      face="Courier New, Courier, mono" color=#660066 size=-1><B></B></FONT>
      <UL>
        <LI><FONT color=#000000>7 rows out of 26 are returned.</FONT> 
        <LI>Fractional results greater than .4999 generate an added row. 
        <LI>25% of 26 = 6.5 which rounds to 7.<BR></LI></UL>
      <P><BR><B><FONT face="Courier New, Courier, mono" color=#000000 
      size=-1></FONT></B></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Using SAMPLEID</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>Multiple sample sets may be generated in a single query if desired. To 
      identify the specific set, a tag called the <B>SAMPLEID</B> is made 
      available for association with each set. The SAMPLEID may be selected, 
      used for ordering, or used as a column in a new table.<BR><BR></P>
      <H4><FONT color=#000000><B>Problem</B></FONT></H4>
      <P><FONT color=#000000>Get three samples from the department table, one 
      with 25% of the rows, another with 25% and a third with 
50%.<BR></FONT></P><PRE><FONT face="Courier New, Courier, mono"><B><FONT color=#660066 size=2>SELECT department_number<BR>	,sampleid <BR>FROM department<BR>SAMPLE .25, .25, .50<BR>ORDER BY sampleid;</FONT></B></FONT><FONT size=-1><BR></FONT></PRE>
      <H4><FONT color=#000000><B>Result</B> </FONT></H4><PRE><FONT face="Courier New, Courier, mono" color=#660066 size=2>department_number     SampleId<BR>-----------------  -----------<BR>              301            1<BR>              403            1<BR>              402            2<BR>              201            2<BR>              100            3<BR>              501            3<BR>              302            3<BR>              401            3<BR>              600            3</FONT></PRE>
      <P><FONT color=#000000><B>Things To Notice:</B></FONT> <FONT 
      face="Courier New, Courier, mono" color=#660066 size=-1><B></B></FONT>
      <UL>
        <LI>Note that all 9 of the 9 rows of the department table are returned. 
        <LI>This is due to the individual calculations.<B><FONT 
        face="Courier New, Courier, mono" color=#000000 
        size=-1><BR></FONT></B></LI></UL>
      <P>Consider the following calculations</P>
      <P>9 *.25 = 2.25 = 2<BR>9 *.25 = 2.25 = 2<BR>9 *.50 = 4.50 = 
      5<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-----<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9</P>
      <P><FONT color=#000000><B>Example 2<BR></B></FONT><FONT 
      color=#000000><BR>Get three samples from the department table, one with 
      27% of the rows, another with 35% and a third with 2%.</FONT> </P>
      <P><FONT color=#000000><B>Solution</B> </FONT>
      <P><B><FONT face="Courier New, Courier, mono" color=#660066 size=-1>SELECT 
      department_number<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,SAMPLEID<BR>FROM 
      department<BR>SAMPLE .27, .35, .02<BR>ORDER BY SAMPLEID;</FONT></B></P>
      <P><FONT color=#000000><B>Result</B> </FONT><PRE><FONT face="Courier New, Courier, mono" size=2>department_number     SampleId<BR>-----------------  -----------<BR>              402            1<BR>              403            1<BR>              100            2<BR>              302            2<BR>              401            2</FONT></PRE>
      <P><FONT color=#000000><B>Things To Notice:</B></FONT> <FONT 
      face="Courier New, Courier, mono" color=#660066 size=-1><B></B></FONT>
      <UL>
        <LI><FONT color=#000000>The first two samples are able to return 
        rows.</FONT> 
        <LI>The last sample is too small to return a row. 
        <LI>25% of 26 = 6.5 which rounds to 7.<BR></LI></UL>
      <P><BR><FONT color=#000000><B>Example 3<BR></B></FONT><FONT 
      color=#000000><BR>Get three samples from the department table, one with 3 
      rows, another with 5 and a third with 8.</FONT> 
      <P><FONT color=#000000><B>Solution</B> </FONT><PRE><B><FONT face="Courier New, Courier, mono" color=#660066 size=2>SELECT department_number<BR>	,sampleid <BR>FROM department<BR>SAMPLE  3, 5, 8<BR>ORDER BY sampleid;</FONT><FONT face="Courier New, Courier, mono" size=2>

 *** Query completed. 9 rows found. 2 columns returned.<BR> *** Warning: 7473 Requested sample is larger than table rows.</FONT></B></PRE>
      <P><FONT color=#000000><B>Result</B> </FONT><PRE><FONT face="Courier New, Courier, mono" size=2>department_number     SampleId<BR>-----------------  -----------<BR>              501            1<BR>              402            1<BR>              403            1<BR>              100            2<BR>              302            2<BR>              301            2<BR>              401            2<BR>              201            2<BR>              600            3</FONT></PRE>
      <P><FONT color=#000000><B>Things To Notice:</B></FONT> <FONT 
      face="Courier New, Courier, mono" color=#660066 size=-1><B></B></FONT>
      <UL>
        <LI>Because the rows are not repeated to different sample sets, the 
        supply of rows is exhausted before the third set can be completed. 
        <LI>This results in a warning that there were not enough rows to 
        populate all samples as requested. 
        <LI>This warning is seen in the BTEQ environment, but not in ODBC. 
        <LI>The third sample gets the only remaining row.<BR><BR></LI></UL>
      <P>
      <P><B><FONT face="Courier New, Courier, mono" color=#000000 
      size=-1></FONT></B></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Stratified Sampling</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P><B>Stratified samplings </B>permit differing sampling criteria to be 
      applied to different sets of rows, all within a single query.<BR></P>
      <H4><FONT color=#000000><B>Problem</B></FONT></H4>
      <P><FONT color=#000000>Get a sample which conforms to the following 
      requirements:</FONT></P>
      <UL>
        <LI><FONT color=#000000>33% of people earning less than $30,000 </FONT>
        <LI><FONT color=#000000>67% of people in the $30,001 - $40,000 range 
        </FONT>
        <LI><FONT color=#000000>40% of people in the $40,001 - $50,000 
        range</FONT><FONT color=#000000><BR></FONT></LI></UL>
      <H4><B><FONT color=#333333>Solution</FONT><FONT 
      color=#660066><BR></FONT></B></H4><PRE><B><FONT face="Courier New, Courier, mono" color=#660066 size=2>SELECT employee_number AS Empno	<BR>       ,salary_amount    AS Salamt<BR>FROM employee SAMPLE<BR>WHEN salary_amount &lt; 30000    	  	       THEN .33<BR>WHEN salary_amount BETWEEN 30001 AND 40000 THEN .67    <BR>WHEN salary_amount BETWEEN 40001 AND 50000 THEN .40<BR>END<BR>ORDER BY 2;</FONT></B></PRE>
      <H4><FONT color=#000000><B>Result</B> </FONT></H4><PRE><FONT face="Courier New, Courier, mono"> <FONT size=2>     Empno        Salamt<BR>-----------  ------------<BR><FONT color=#0000ff><B>       1014      24500.00<BR>       1023      26500.00</B></FONT><B><BR> <FONT color=#ff0000>      1009      31000.00<BR>       1005      31200.00<BR>       1022      32300.00<BR>       1025      34700.00<BR>       1004      36300.00<BR>       1012      37900.00</FONT><BR><FONT color=#660066>       1024      43700.00</FONT></B></FONT><B><FONT color=#660066><BR><FONT size=2>       1010      46000.00</FONT></FONT></B></FONT></PRE>
      <P><FONT color=#000000><B>Things To Notice:</B></FONT> <FONT 
      face="Courier New, Courier, mono" color=#660066 size=-1><B></B></FONT>
      <P>If no rows can support any stratified requirement then:</P>
      <UL>
        <LI>No rows will be returned. 
        <LI>No warning will be generated. 
<BR></LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>System Variables</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>The following system variables are available for use in creating SQL 
      queries. </P>
      <TABLE cellSpacing=0 cellPadding=0 width=500 border=0>
        <TBODY>
        <TR>
          <TD noWrap><B>SESSION</B></TD>
          <TD noWrap>- contains the session-id of the requesting 
          session/user.</TD></TR>
        <TR>
          <TD noWrap><B>DATABASE</B> </TD>
          <TD noWrap>- contains the current default database of the requesting 
            session/user.</TD></TR>
        <TR>
          <TD noWrap><B>ACCOUNT</B></TD>
          <TD noWrap>- contains the user account info of the requesting 
            session/user. </TD></TR></TBODY></TABLE>
      <P>Each is defined internally as a VARCHAR(30). </P>
      <H4><B>Problem</B></H4>
      <P>Return the current session-id, default database and account string of 
      the current user.</P>
      <H4><B><FONT color=#333333>Solution</FONT><FONT 
      color=#660066><BR></FONT></B></H4><PRE><B><FONT face="Courier New, Courier, mono" color=#660066 size=2>SELECT SESSION, DATABASE, ACCOUNT; </FONT></B></PRE>
      <H4><FONT color=#000000><B>Result</B> </FONT></H4><PRE><FONT face="Courier New, Courier, mono" color=#660066 size=2>    Session  Database                        Account<BR>-----------  ------------------------------  ----------<BR>      30788  PED                             $MUSER</FONT></PRE>
      <P> 
      <P>The default database setting may change during the course of a session. 
      These built-in functions allow you to keep track of your current database. 

      <H4><B>Problem</B></H4>
      <P>Show the current database both before and after it has been 
changed.</P>
      <H4><B><FONT color=#333333>Solution</FONT><FONT 
      color=#660066>s<BR></FONT></B></H4><PRE><B><FONT face="Courier New, Courier, mono" color=#660066 size=2>SELECT DATABASE;  /* Show the current database for this user session*/</FONT></B><FONT face="Courier New, Courier, mono" color=#000000 size=2><B>
</B>
Database<BR>------------------------------<BR>PED</FONT><FONT color=#000000 size=2>

</FONT><FONT face="Courier New, Courier, mono" size=2><B><FONT color=#660066>DATABASE cs_views; /* Change the default database for this user session */

SELECT DATABASE;  /* Show the new current database for this user session*/</FONT></B></FONT></PRE><PRE><FONT face="Courier New, Courier, mono" size=2>Database<BR>------------------------------<BR>cs_views</FONT></PRE>
      <P> </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->
</SCRIPT>
<LINK href="../sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>TOP N Overview</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Course Title</H2> -->
      <H3><!--TOP N Overview --></H3>
      <P>The <FONT face="courier New, Courier" size=-1><B>TOP N</B></FONT> 
      function provides the ability to produce: </P>
      <UL type=a>
        <LI>The top (or bottom) N rows of results based on specified criteria. 
        <LI>The top (or bottom) N percentage of rows based on specified 
        criteria. 
        <LI>These results either with or without ties (more than one row has 
        identical criteria values). 
        <LI>Sample rows arbitrarily without regard to rankings or order. 
</LI></UL>
      <P>This improvement has been achieved by implementing the following new 
      syntax to the SQL lexicon:</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>TOP {decimal | integer} [PERCENT] [WITH TIES]</B>
</PRE></FONT>
      <P>The following meaning is associated with these options:</P>
      <UL>
        <LI><B>TOP 10</B>  Return the top ten rows according to criteria 
        <LI><B>TOP 15</B> <FONT face="courier New, Courier" 
        size=-1><B>PERCENT</B></FONT>  Return the top 15% of rows according to 
        criteria 
        <LI><B>TOP 10</B> <FONT face="courier New, Courier" size=-1><B>WITH 
        TIES</B></FONT>  If more that one row has the same criteria value, 
        return all 
        <LI><B>TOP 15 </B><FONT face="courier New, Courier" size=-1><B>PERCENT 
        WITH TIES</B></FONT>  If more than one row has the same criteria value, 
        return all </LI></UL>
      <P>Show all department budgets ordered by budget amount descending. To 
      answer this query, the TOP N feature is not needed.</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT department_number
  , budget_amount
  FROM department
  ORDER BY 2 DESC;</B>
</PRE></FONT><FONT face="courier New, Courier" size=3><PRE>  <B>department_number budget_amount</B>
  ----------------- -------------
                401     982300.00
                403     932000.00
                301     465600.00
                100     400000.00
                402     308000.00
                501     308000.00
                201     293800.00
                302     226000.00
                600 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?
</PRE></FONT>
      <P><B>Note:</B> Null sorts following the valid budget 
    amounts.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->
</SCRIPT>
<LINK href="../sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>TOP N With and Without TIES</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <H3><!--TOP N With and Without TIES --></H3>
      <P>Show the top five budget amounts.</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>SELECT TOP 5 
  department_number
  , budget_amount
  FROM department 
  ORDER BY 2 DESC;</B></PRE></FONT><FONT face="courier New, Courier" 
      size=3><PRE>  <B>department_number budget_amount</B>
  ----------------- -------------
                401     982300.00
                403     932000.00
                301     465600.00
                100     400000.00
                501     308000.00
</PRE></FONT>
      <P><U><B>Things to notice:</B></U></P>
      <UL>
        <LI><FONT face="courier New, Courier" size=-1><B>ORDER BY</B></FONT> 
        defines the sequencing of the result set. 
        <LI>It therefore defines the ranking criteria. 
        <LI>To get the <FONT face="courier New, Courier" 
        size=-1><B>TOP</B></FONT> highest amounts, you must use <FONT 
        face="courier New, Courier" size=-1><B>ORDER</B></FONT> with <FONT 
        face="courier New, Courier" size=-1><B>DESC</B></FONT>. 
        <LI><FONT face="courier New, Courier" size=-1><B>TOP N</B></FONT> where 
        N is an integer up to 18 digits in length. </LI></UL><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT TOP 5 WITH TIES
department_number
, budget_amount
FROM department 
ORDER BY 2 DESC;
</B></PRE></FONT><FONT face="courier New, Courier" size=3><PRE><B>department_number budget_amount</B>
----------------- -------------
              401     982300.00
              403     932000.00
              301     465600.00
              100     400000.00
              501     308000.00
              402     308000.00
</PRE></FONT>
      <P><U><B>Things to notice:</B></U></P>
      <UL>
        <LI>Even though <FONT face="courier New, Courier" size=-1><B>TOP 
        5</B></FONT> is specified, six rows are returned. 
        <LI>Because there is a tie for the fifth position, both rows are 
        returned. 
        <LI>This only occurs when <FONT face="courier New, Courier" 
        size=-1><B>WITH TIES</B></FONT> is specified. 
        <LI><FONT face="courier New, Courier" size=-1><B>WITH TIES</B></FONT> 
        returns multiple tied rows when there is a tie for the 'last' position. 
        <LI>It will return all rows containing the 'tied' value, but it will 
        only count it as one row. 
        <LI>Tied rows which are not in the last position, are each counted 
        separately toward the N total. </LI></UL>
      <P>The same result could have been retuned by specifying <FONT 
      face="courier New, Courier" size=-1><B>TOP 6</B></FONT> without the <FONT 
      face="courier New, Courier" size=-1><B>WITH TIES</B></FONT> 
      option.</P><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT TOP 6
department_number
, budget_amount
FROM department 
ORDER BY 2 DESC;
</B></PRE></FONT><FONT face="courier New, Courier" size=3><PRE>  <B>department_number budget_amount</B>
----------------- -------------
              401     982300.00
              403     932000.00
              301     465600.00
              100     400000.00
              501     308000.00
              402     308000.00
</PRE></FONT>
      <P><U><B>Things to notice:</B></U></P>
      <UL>
        <LI>The last two rows have the same amount. 
        <LI>Each is counted as a separate row for the top six. 
        <LI>By default, rows with the same amount are counted as separate rows 
        toward the total. 
        <LI>The same result would be achieved if the <FONT 
        face="courier New, Courier" size=-1><B>WITH TIES</B></FONT> option had 
        been specified. </LI></UL>
      <P>Add the <FONT face="courier New, Courier" size=-1><B>WITH 
      TIES</B></FONT> option and note any difference in the result set.</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT TOP 6 WITH TIES
department_number
, budget_amount
FROM department 
ORDER BY 2 DESC;
</B></PRE></FONT><FONT face="courier New, Courier" size=3><PRE>  <B>department_number budget_amount</B>
----------------- -------------
              401     982300.00
              403     932000.00
              301     465600.00
              100     400000.00
              501     308000.00
              402     308000.00
</PRE></FONT>
      <P><U><B>Things to notice:</B></U></P>
      <UL>
        <LI>There is no difference. 
        <LI><FONT face="courier New, Courier" size=-1><B>WITH TIES</B></FONT> 
        has no effect because the top six rows are requested. 
        <LI>If a seventh row existed with the same amount as the sixth, it would 
        be returned. 
        <LI>Note, that the same result is returned if we change to count to 
        <FONT face="courier New, Courier" size=-1><B>TOP 5</B></FONT>. 
      </LI></UL><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT TOP 5 WITH TIES
department_number
, budget_amount
FROM department 
ORDER BY 2 DESC;
</B></PRE></FONT><FONT face="courier New, Courier" size=3><PRE>  <B>department_number budget_amount</B>
----------------- -------------
              401 982300.00
              403 932000.00
              301 465600.00
              100 400000.00
              501 308000.00
              402 308000.00
</PRE></FONT>
      <P><U><B>Things to notice:</B></U></P>
      <UL>
        <LI>The same result set is returned whether <FONT 
        face="courier New, Courier" size=-1><B>TOP 5 WITH TIES </B></FONT>or 
        <FONT face="courier New, Courier" size=-1><B>TOP 6</B></FONT> is 
        specified. 
        <LI>In this case, there is a tie for the 5th row, hence both rows are 
        returned. 
        <LI>If a seventh row existed with the same amount as the fifth and 
        sixth, it would also be returned. </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->
</SCRIPT>
<LINK href="../sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Getting Bottom Results</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <H3><!--Getting Bottom Results --></H3>
      <P>Now, consider getting the rows at the bottom of an ordered list. This 
      is accomplished by using the <FONT face="courier New, Courier" 
      size=-1><B>ORDER BY</B></FONT> clause.</P>
      <P>Show the bottom three employees by salary.</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT TOP 3 
employee_number
, salary_amount
FROM employee ORDER BY salary_amount ASC;
</B></PRE></FONT><FONT face="courier New, Courier" size=3><PRE><B>employee_number salary_amount</B>
--------------- -------------
           1014      24500.00
           1013      24500.00
           1001      25525.00
</PRE></FONT>
      <P><U><B>Things to notice:</B></U></P>
      <UL>
        <LI><FONT face="courier New, Courier" size=-1><B>ORDER BY ASC</B></FONT> 
        reverses the ranking sequence and shows the bottom rankings. 
        <LI>Two rows with the same salary are treated as two rows of output. 
        </LI></UL>
      <P>What would you expect to happen if you add the <FONT 
      face="courier New, Courier" size=-1><B>WITH TIES</B></FONT> 
      option?</P><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT TOP 3 WITH TIES
employee_number
, salary_amount
FROM employee ORDER BY salary_amount ASC;
</B></PRE></FONT><FONT face="courier New, Courier" size=3><PRE><B>employee_number salary_amount
--------------- -------------
           1014      24500.00
           1013      24500.00
           1001      25525.00
</B></PRE></FONT>
      <P><U><B>Things to notice:</B></U></P>
      <UL>
        <LI>The <FONT face="courier New, Courier" size=-1><B>WITH 
        TIES</B></FONT> option has no effect. 
        <LI>Ties must occur in the last row returned to have any effect. 
        <LI>If another row tied with the last row (25525.00), a fourth row would 
        be returned. </LI></UL>
      <P>Add another 'tie row'.</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>INSERT INTO employee
VALUES (1026,801,401,201401,'Barnes','John',941230,800315,25525.00);
</B></PRE></FONT>
      <P>Get the bottom three employees by salary.</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT TOP 3
employee_number
, salary_amount
FROM employee ORDER BY salary_amount ASC;
</B></PRE></FONT><FONT face="courier New, Courier" size=3><PRE><B>employee_number salary_amount</B>
--------------- -------------
           1013      24500.00
           1014      24500.00
           1026      25525.00
</PRE></FONT>
      <P>Now add the <FONT face="courier New, Courier" size=-1><B>WITH 
      TIES</B></FONT> option. Do you expect it to make a difference this 
      time?</P><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT TOP 3 WITH TIES
employee_number
, salary_amount
FROM employee ORDER BY salary_amount ASC;
</B></PRE></FONT><FONT face="courier New, Courier" size=3><PRE><B>employee_number salary_amount</B>
--------------- -------------
           1014      24500.00
           1013      24500.00
           1026      25525.00
           1001      25525.00
</PRE></FONT>
      <P><U><B>Things to notice:</B></U></P>
      <UL>
        <LI>The <FONT face="courier New, Courier" size=-1><B>WITH 
        TIES</B></FONT> option causes a fourth row to be returned. 
        <LI>Ties must occur in the last row returned to have any effect. 
        <LI>A tie with the last row (25525.00) returns a fourth 
      row.<BR></LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->
</SCRIPT>
<LINK href="file:///C|/COURSES/SQL/V2R6/Webit/sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Selecting Random Rows</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <H3><!--Selecting Random Rows --></H3>
      <P>The <B>TOP N</B> function may also be used to return unordered rows. 
      This is accomplished by using <B>TOP N</B> without including an 
      <B>ORDER</B> <B>BY</B> clause. In the example seen here, two rows are 
      requested. Since an unordered set cannot produce the <B>top n</B> rows, 
      the first n rows returned from the database are selected. A second 
      execution of the same query will produce the same two rows, assuming that 
      both the table and the configuration of the system have not changed. This 
      is because the database will return the rows in a consistent sequence and 
      always take the first (or top) n specified.</P>
      <P>If a truly random sample is required, it is better to use the SAMPLE 
      function which has more randomized routines available.<BR></P>
      <P>Select two random rows.</P>
      <P><FONT face="courier New, Courier" color=#660066 size=3><B><FONT 
      size=-1>SELECT TOP 2 <BR>employee_number<BR>, salary_amount<BR>FROM 
      employee;</FONT><BR></B></FONT><FONT face="courier New, Courier" 
      size=3></FONT></P><FONT face="courier New, Courier" size=3><PRE><B>employee_number salary_amount</B>
--------------- -------------
           1008      29250.00
           1012      37900.00
</PRE></FONT>
      <P><U><B>Things to notice:</B></U></P>
      <UL>
        <LI>Absence of an <FONT face="courier New, Courier" size=-1><B>ORDER 
        BY</B></FONT> clause means rows are returned without regard to ranking. 
        <LI>This is similar to using the <FONT face="courier New, Courier" 
        size=-1><B>SAMPLE</B></FONT> function, 
        <LI>The <FONT face="courier New, Courier" size=-1><B>SAMPLE</B></FONT> 
        function however, produces a more truly randomized result set. </LI></UL>
      <H4><FONT color=#000000>Adding The WITH TIES Option</FONT></H4>
      <P><FONT color=#000000>Add the WITH TIES option to the preceding query. 
      What effect is see</FONT><FONT face="courier New, Courier" color=#660066 
      size=3>n?</FONT><B><FONT face="courier New, Courier" color=#660066 
      size=3><BR></FONT></B></P>
      <P><FONT face="courier New, Courier" color=#660066 size=3><B><FONT 
      size=-1>SELECT TOP 2 WITH TIES<BR>employee_number<BR>, 
      salary_amount<BR>FROM employee;</FONT></B></FONT><B><FONT 
      face="courier New, Courier" color=#660066 size=3><BR></FONT></B></P><PRE><FONT face="courier New, Courier" size=3><B><FONT size=-1>employee_number salary_amount</FONT></B><FONT size=-1>
--------------- -------------
           1008      29250.00
           1012      37900.00</FONT>
</FONT></PRE>
      <P><U><B>Things to notice:</B></U></P>
      <UL>
        <LI>Any two rows may be returned by this query, since no ranking 
        criteria is defined. 
        <LI>Without an <B>ORDER BY</B> clause, the <B>WITH TIES</B> clause is 
        ignored. 
        <LI>This is similar to using the<B> SAMPLE</B> function, however the 
        <B>SAMPLE</B> function produces a more truly randomized result set. 
        <FONT face="courier New, Courier" size=3><BR><BR></FONT></LI></UL><FONT 
      face="courier New, Courier" size=3></FONT>
      <H4>Compared To BTEQ RETLIMIT</H4>
      <P>Previously, to return less than a full answer set, a user could use the 
      <FONT face="courier New, Courier" size=-1><B>.SET RETLIMIT N</B></FONT> 
      option in BTEQ to control the number of rows returned to the client side. 
      Since the DBS must still generate all the result rows, the performance of 
      this approach could vary dramatically depending on the number of rows 
      returned by the SQL request. With the <FONT face="courier New, Courier" 
      size=-1><B>TOP N</B></FONT> option, only the rows needed to satisfy the 
      query requirement are fetched by the DBS, thus making it a better choice 
      when a number of random rows are to be selected. The <FONT 
      face="courier New, Courier" size=-1><B>SAMPLE</B></FONT> function 
      continues to be the preferred approach for truly random 
    samples.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->
</SCRIPT>
<LINK href="../sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Using the PERCENT Option</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <H3><!--Using the PERCENT Option --></H3>
      <P>The <FONT face="courier New, Courier" size=-1><B>TOP N</B></FONT> 
      function can also produce a percentage of rows in addition to an absolute 
      number of rows.</P>
      <P>Return employees whose salaries represent the top ten percent.</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT TOP 10 PERCENT
employee_number
,salary_amount
FROM employee ORDER BY salary_amount DESC;
</B></PRE></FONT><FONT face="courier New, Courier" size=3><PRE><B>employee_number salary_amount</B>
--------------- -------------
            801     100000.00
           1017     66000.00
           1019     57700.00
</PRE></FONT>
      <P><U><B>Things to notice:</B></U></P>
      <UL>
        <LI>10% of 26 rows is 2.6 rows rounded to 3. 
        <LI><FONT face="courier New, Courier" size=-1><B>PERCENT </B></FONT>must 
        be a number between 0 and 100. 
        <LI>At least one row is always returned (if there is at least one row in 
        the table). 
        <LI>A percentage resulting in a fractional number of rows is always 
        rounded up: 
        <LI>10% of 6 rows = .6 rows = 1 row output 
        <LI>20% of 6 rows = 1.2 rows = 2 rows output 
        <LI>30% of 6 rows = 1.8 rows = 2 rows output </LI></UL><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT TOP 45 PERCENT WITH TIES
department_number
, budget_amount
FROM department 
ORDER BY 2 DESC;
</B></PRE></FONT><FONT face="courier New, Courier" size=3><PRE><B>department_number budget_amount</B>
----------------- -------------
              401     982300.00
              403     932000.00
              301     465600.00
              100     400000.00
              501     308000.00
              402     308000.00
</PRE></FONT>
      <P><U><B>Things to notice:</B></U></P>
      <UL>
        <LI>45% of 9 rows is 4.05 rows rounded to 5. 
        <LI>Because there is a tie for the fifth position, six rows are 
        returned. </LI></UL>
      <P><B>Notes About Using PERCENT:</B><BR>If <B>PERCENT</B> is specified, 
      the value of N must be a number greater than 0 and less than or equal to 
      100. Fractional portions are permitted.<BR><BR>If<B> PERCENT</B> is not 
      specified, the value of N may be up to the maximum decimal value (18 
      digits), however a fractional portion may not be specified. 
    <BR></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK 
href="file:///C|/COURSES/Webit%20Courses/sql01_Introduction/Mod21/./././sqlstyle.css" 
type=text/css rel=stylesheet><FONT face=Verdana size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>
      <TABLE cellSpacing=0 cellPadding=8 width="100%" bgColor=#ffffcc 
        border=0><TBODY>
        <TR>
          <TD vAlign=top width="20%" bgColor=#ffffcc><B><FONT size=-1><A 
            name=LAB>Try It!</A></FONT></B> </TD>
          <TD vAlign=top width="80%" bgColor=#ffffcc><!-- <H2>LAB</H2> -->For 
            this set of lab questions you will need information from the <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1><FONT size=-1>Database Info document.</FONT></A> 
            <P><FONT size=-1>To start the online labs, click on the Telnet 
            button in the lower left hand screen of the course.<BR>Two windows 
            will pop-up: a BTEQ Instruction Screen and your Telnet Window. 
            <BR>Sometimes the BTEQ Instructions get hidden behind the Telnet 
            Window. <BR>You will need these instructions to log on to Teradata. 
            </FONT>
            <P><FONT size=-1><B>Be sure to change your default database to the 
            Customer_Service database in order to run these labs.</B> </FONT>
            <P><FONT size=-1>Click on the buttons to the left to see the 
            answers.</FONT><FONT size=-1> </FONT></P></TD></TR>
        <TR>
          <TD vAlign=top width=106>
            <P><FONT size=-1>Answers:<BR><A 
            onclick="AnswerWindow('Mod21L01.htm',530,540,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A> <!--------------------Use: 
<IMG SRC="./images/labs/../../images/circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> 
for circle button with check mark------------------>&nbsp;Lab 
            A<BR><A onclick="AnswerWindow('Mod21L02.htm',630,660,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A> <!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            B<BR><A onclick="AnswerWindow('Mod21L03.htm',650,500,circbut03)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut03 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A> <!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            C<BR><A onclick="AnswerWindow('Mod21L04.htm',800,700,circbut04)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut04 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A> <!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab D</FONT> </FONT><BR><FONT size=-1><A 
            onclick="AnswerWindow('Mod21L05.htm',530,540,circbut05)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut05 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A> <!--------------------Use: 
<IMG SRC="./images/labs/../../images/circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> 
for circle button with check mark------------------>&nbsp;Lab 
            E<BR><A onclick="AnswerWindow('Mod21L06.htm',630,660,circbut06)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut06 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A> <!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            F<BR><A onclick="AnswerWindow('Mod21L07.htm',650,500,circbut07)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut07 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A> <!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            G<BR><A onclick="AnswerWindow('Mod21L08.htm',800,700,circbut08)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut08 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A> <!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab H</FONT> </FONT><BR><FONT size=-1><A 
            onclick="AnswerWindow('Mod21L09.htm',800,700,circbut09)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut09 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A> <!--------------------Use: 
<IMG SRC="./images/labs/../../images/circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> 
for circle button with check mark------------------>&nbsp;Lab 
            I<BR></FONT></P></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc>
            <P>
            <OL type=A>
              <LI><FONT size=-1>Rank the top three departments in the 
              department table based on their budget_amount. Show department 
              number, budget amount and rank.</FONT><BR>
              <P></P>
              <LI><FONT size=-1>Create a report showing the store id, product 
              id, sales amount from the salestbl and add a sales ranking by 
              product id. <BR></FONT>
              <P>
              <P><FONT size=-1></P>
              <LI>Modify Lab B to show the same report but limit it to each 
              product ids number one ranking i.e., eliminate all but the number 
              one rankings.<BR>
              <P></P>
              <LI>Select the following information about your session using 
              built-in functions:<BR><I>User Name<BR>Session Id<BR>Current 
              Database<BR>Account Id</I> 
              <P>Hint: Use the following settings to produce the 
              output:<BR><B>.SET FOLDLINE ON;<BR>.SET SIDETITLES ON;</B><BR>When 
              the report has been created, reset the settings:<BR><B>.SET 
              FOLDLINE OFF;<BR>.SET SIDETITLES OFF;</B><BR></P>
              <LI>Create a table using the following description: 
              <P><B>CREATE TABLE sqlxxx.empsamp<BR>( empno INTEGER, <BR>deptno 
              INTEGER, <BR>job INTEGER, <BR>sampid BYTEINT)<BR>UNIQUE PRIMARY 
              INDEX ( empno ); </B></P>
              <P>Populate this table with three samples from the employee table, 
              identifiable by SAMPLEID 1, 2 and 3. Let each sample contain 33% 
              of the rows of the table. Select all columns against the newly 
              populated table and order by results by SAMPLEID.</P>
              <LI>
              <P>Delete the rows from empsamp and repopulate the table with 
              three samples of 15 rows each. Select the resulting table and 
              order by <I>sampid</I> to see the results of this sampling.</P>
              <LI>
              <P>Using the TOP N function, get the top three daily sales amounts 
              for the month of August 2004 from the daily_sales_2004 table. Also 
              retrieve the itemid and salesdate.</P>
              <LI>
              <P>Perform the same query using the WITH TIES option. Is there a 
              difference in the output? </P>
              <LI>
              <P>Produce the same report as the previous lab, but add a column 
              showing the ranking of each row. Tied amounts should show the same 
              rank number.<BR></P>
              <P><BR><BR></P>
              <P>&nbsp; 
  </FONT></P></LI></OL></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;CASE 
      Expressions</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><FONT face=Verdana size=3><B>Case 
Expressions</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H4>Objectives</H4> -->
      <P>Click on the link below to view the presentation on <B>Case 
      Expressions</B>. </P>
      <P><B>Please Note:</B> This is a narrated presentation. You may control 
      the pacing of this module by using the <B>Pause button</B> as well as 
      other buttons available on the screen duing the presentation.</P>
      <P align=center><A 
      href="http://www.ncru.courses.ncr.com/learning/td/SQL_MediaFiles/CASE.htm" 
      target=_blank>Start Presentation</A></P>
      <P>After viewing the presentation, return to this window and continue to 
      the next lab activity</P><!-- <p align="center"><img src="19CASE/../z-line.gif" width="20" height="2" border="0"> <b><a href="./images/labs/wbt-case_expr_lab.shtm">Lab</a></b> <img src="19CASE/../z-line.gif" width="20" height="2" border="0"></p> --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK href="./././sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>
      <TABLE cellSpacing=0 cellPadding=8 width="100%" bgColor=#ffffcc 
        border=0><TBODY>
        <TR>
          <TD vAlign=top width="20%" bgColor=#ffffcc><B><FONT size=-1><A 
            name=LAB>Try It!</A></FONT></B> </TD>
          <TD vAlign=top width="80%" bgColor=#ffffcc><!-- <H2>LAB</H2> -->For 
            this set of lab questions you will need information from the <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1><FONT size=-1>Database Info document.</FONT></A> 
            </FONT>
            <P><FONT size=-1>To start the online labs, click on the Telnet 
            button in the lower left hand screen of the course.<BR>Two windows 
            will pop-up: a BTEQ Instruction Screen and your Telnet Window. 
            <BR>Sometimes the BTEQ Instructions get hidden behind the Telnet 
            Window. <BR>You will need these instructions to log on to Teradata. 
            </FONT>
            <P><FONT size=-1><B>Be sure to change your default database to the 
            Customer_Service database in order to run these labs.</B> </FONT>
            <P><FONT size=-1>Click on the buttons to the left to see the 
            answers.</FONT><FONT size=-1> </FONT></P></TD></TR>
        <TR>
          <TD vAlign=top width=106><FONT size=-1>Answers:<BR><A 
            onclick="AnswerWindow('Mod12L01.htm',530,540,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../../images/circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> 
for circle button with check mark------------------>&nbsp;Lab 
            A<BR><A onclick="AnswerWindow('Mod12L02.htm',630,660,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            B<BR><A onclick="AnswerWindow('Mod12L03.htm',650,500,circbut03)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut03 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            C<BR><A onclick="AnswerWindow('Mod12L04.htm',800,700,circbut04)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut04 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;<FONT 
            size=-1>Lab D</FONT> </FONT></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc>
            <P>
            <OL type=A>
              <LI><FONT size=-1>Calculate the fraction of the total company 
              budget represented by departments 401 and 403. Express the result 
              as a percentage as follows: </FONT>
              <P><PRE><FONT size=-1>	</FONT>401/ 403
	Bgt Ratio
	---------
	      xx%
</PRE>
              <P></P>
              <LI><FONT size=-1>Calculate the fraction of the total company 
              budget represented by departments 401 and 403 after department 403 
              has been given a 5% budget increase. Express the result as a 
              decimal ratio as follows: </FONT>
              <P><PRE>Dept_401_403_Bgt_Ratio
----------------------
		  .xx
</PRE>
              <P><FONT size=-1></P>
              <LI>Create a budget report from the department table.<BR>Show the 
              total, average, minimum and maximum budget amounts.<BR>Title the 
              columns "Total", Avg", "Min" and "Max". 
              <P>Do the query twice: 
              <P>a.) once treating NULL values as zero, <BR>b.) once excluding 
              NULL values in aggregates. 
              <P>Compare the results. 
              <P></P>
              <LI>Accounting wants to find out which way of slanting the 
              statistics is most beneficial to the company. Do a departmental 
              salary list of the total salaries for each department, and the 
              average departmental salary three times: 
              <P>- without any changes (treating NULLs as null and zero values 
              as zero)<BR>- treating NULL values as zero<BR>- treating zero 
              values as NULL 
              <P>Also list the count of rows that are going into each averaging 
              function. Sequence the report by department. Limit the department 
              number and count columns to four digits each with zero suppress. 
              <P>Title your columns as follows: 
              <P><U>Dept</U> &nbsp;&nbsp;<U>&nbsp;Tot # 
              </U>&nbsp;&nbsp;&nbsp;<U>Tot Sal&nbsp;&nbsp;</U>&nbsp; <U>Avg 
              Sal&nbsp;</U>&nbsp;&nbsp;&nbsp;<U>ZIN #</U> 
              &nbsp;&nbsp;&nbsp;<U>ZIN Avg</U> &nbsp;&nbsp;&nbsp;<U>NIZ #</U> 
              &nbsp;&nbsp;&nbsp;<U>NIZ Avg</U> 
              <P>Are there differences in these computations? Why or why not? 
              </FONT></P></LI></OL></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT 
      color=#ffffcc>&nbsp;Views</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><LINK href="../sqlstyle.css" 
type=text/css rel=stylesheet><FONT face=Verdana size=3><B>Objectives</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>After completing this module, you should be able to:</P>
      <UL>
        <LI>Create a view. 
        <LI>Use a view to provide secure access to data. 
        <LI>Drop or modify a view. 
        <LI>List several reasons for using views. 
</LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>What is a View?</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>What is a View?</H2> -->A <U>view</U> functions like a 
      'window' into a table. It allows users to customized their access to base 
      tables by: 
      <UL>
        <LI>Restricting which columns are visible from the base table. 
        <LI>Restricting which rows are visible from the base table. 
        <LI>Combining columns and rows from several base tables. </LI></UL>
      <H4>Restrict Columns from the Base Table</H4>
      <P>One can restrict columns from the base table(s) by explicitly listing 
      the desired column names from the base table(s) in the view definition. 
      </P>
      <H4>Restrict Rows from the Base Table</H4>
      <P>One can restrict which rows may be accessed by using the <FONT 
      face="Courier New, Courier, mono" size=-1><B>WHERE</B></FONT> clause in 
      the view definition. This will limit the rows returned from a <FONT 
      face="Courier New, Courier, mono" size=-1><B>SELECT</B></FONT> statement 
      referencing the view. </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Creating and Using Views</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <h2><a name="2"></a>Creating and Using Views&nbsp;&nbsp;</h2> -->
      <H4 class=TitleProblem>Problem</H4>
      <P>Create a view of the employees in department 403 to use for both read 
      and update. Limit the view to an employees number, last name, and 
      salary.</P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>CREATE 
  VIEW      emp_403 AS
  SELECT    employee_number
            ,last_name
            ,salary_amount
  FROM      employee
  WHERE     department_number = 403;</B>
</PRE></FONT>
      <H4><B>To Read From This View</B> </H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>  <B>SELECT * FROM emp_403;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4><FONT face="courier New, Courier" size=3><PRE><B>employee_number     last_name        salary_amount</B>
---------------    -------------   ---------------
           1009     Lombardo              31000.00
           1007     Villegas              49700.00
           1012     Hopkins               37900.00
           1005     Ryan                  31200.00
           1024     Brown                 43700.00
           1020     Charles               39500.00 
</PRE></FONT>
      <H4><B>To Update Through This View</B></H4><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <B>UPDATE emp_403 SET salary_amount = 100000
  WHERE last_name = 'Villegas' ;</B>
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>What is a Join View?</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>What is a Join View?</H2> -->
      <P>A 'join view' consists of columns from more than one table. </P>
      <H4 class=TitleExample>Example</H4>
      <P>Create a join view of the employee and call_employee tables for call 
      dispatch use.</P><FONT face="courier New, Courier" color=#660066 size=3><PRE>  <B>CREATE VIEW  employee_call    AS	
  SELECT       employee.employee_number
               ,last_name
               ,first_name
               ,call_number
               ,call_status_code
               ,assigned_date
               ,assigned_time
               ,finished_date
               ,finished_time
  FROM         employee INNER JOIN call_employee
  ON call_employee.employee_number = employee.employee_number;</B>
</PRE></FONT>
      <P>Using this view permits <FONT face="Courier New, Courier, mono" 
      size=-1><B>SELECT</B></FONT> of information from both tables. Note that 
      column names which appear in both tables (i.e., employee_number) must be 
      qualified. 
      <H4 class=TitleProblem>Problem</H4>
      <P>Who is employee 1002 and what calls has he answered? </P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B> SELECT last_name
       ,first_name
       ,call_number
 FROM  employee_call
 WHERE employee_number = 1002;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4>
      <TABLE cellPadding=6>
        <TBODY>
        <TR>
          <TD align=left><U><B>last_name</B></U></TD>
          <TD align=leftt><U><B>first_name</B></U></TD>
          <TD align=left><U><B>call_number</B></U></TD></TR>
        <TR>
          <TD align=left>Brown</TD>
          <TD align=left>Alan</TD>
          <TD align=left>9</TD></TR></TBODY></TABLE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Renaming Columns</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><a name="2"></a>Renaming Columns</H2> -->
      <P>You may create a view that renames columns. This is often used to 
      shorten long column names, making queries easier to create. </P>
      <H4 class=TitleExample>Example</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>
  CREATE VIEW  shortcut (emp, dept, last, first, sal) AS
  SELECT       employee_number
               ,department_number
               ,last_name
               ,first_name
               ,salary_amount
  FROM         employee
  WHERE        department_number = 201;</B>
</PRE></FONT>
      <P>Now you may <FONT face="Courier New, Courier, mono" 
      size=-1><B>SELECT</B></FONT> rows using this view. </P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>  <B>SELECT    last
            ,sal
            shortcut 
 ORDER BY     last DESC;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4><FONT face="courier New, Courier" size=3><PRE><B>last           sal</B> 
------------ ---------- 
Short         38750.00 
Morrissey     34700.00 
</PRE></FONT><!-- <table cellpadding="0" width="50%">
<tr><td align="left"><b>last</b></td>
<td align="leftt"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b>sal</b></td>
</tr>
<tr><td align="left">------------</td>
<td align="left">----------</td>
</tr>
<tr><td align="left">Short</td>
<td align="left">38750.00</td></tr>
<tr><td align="left">Morrissey&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td align="left">34700.00</td></tr>
</table> -->
      <P>To <FONT face="Courier New, Courier, mono" size=-1><B>UPDATE</B></FONT> 
      rows using this View:</P><FONT face="courier New, Courier" color=#660066 
      size=3><PRE>   <B>UPDATE  shortcut
   SET sal    = 100000.00
   WHERE emp  = 1019;</B>
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Replacing a View</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><a name="3"></a>Replacing a View</H2> -->
      <P>You may replace a view in order to include or drop specfic columns or 
      values.</P>
      <H4 class=TitleProblem>Problem</H4>
      <P>Change the shortcut view to include only department 301. </P>
      <H4 class=TitleSolution>Solution</H4>
      <P>First, display the current view definition:</P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE>   <B>SHOW VIEW shortcut;</B>
</PRE></FONT>
      <P>You should see the following view definition: </P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>
CREATE VIEW shortcut (emp, dept, last, first, sal)  AS  		
SELECT	 employee_number
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,department_number
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,last_name
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,first_name
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,salary_amount
FROM	employee
WHERE	department_number = 201;</B>
</PRE></FONT>
      <P>Copy and paste the view definition to a text editor. Change the <FONT 
      face="Courier New, Courier, mono" size=-1><B>CREATE</B></FONT> keyword to 
      <FONT face="Courier New, Courier, mono" size=-1><B>REPLACE</B></FONT> and 
      make the desired changes. </P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>--&gt;    REPLACE VIEW shortcut (emp, dept, last, first, sal) AS	<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SELECT employee_number
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;,department_number
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  ,last_name
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  ,first_name
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;,salary_amount
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM	employee
--&gt;&nbsp;&nbsp;&nbsp;&nbsp;WHERE department_number = 301;</B>
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Using Views For Formatting and 
Titles</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Using Views for Formatting and Titles</H2> -->
      <P>The<FONT face="Courier New, Courier, mono"><B> <FONT size=-1 new 
      courier><B>FORMAT</B></FONT></B></FONT> clause may be used to set formats 
      and the <FONT face="courier New, Courier" size=-1><B>AS</B></FONT> clause 
      may be used to assign new column names. For example, let's create a view 
      for department 201 with shortened titles and appropriate formatting. Also, 
      show the salary amount as a monthly figure. </P>
      <P><FONT face="Courier New, Courier, mono" color=#660066 size=-1><B>CREATE 
      VIEW report AS <BR>SELECT&nbsp;&nbsp;employee_number&nbsp;&nbsp;&nbsp; 
      &nbsp;(FORMAT '9999')&nbsp;&nbsp;AS 
      Emp<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,department_number 
      &nbsp;(FORMAT '999') &nbsp;&nbsp;AS 
      Dept<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,last_name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(TITLE 
      'Name')&nbsp;&nbsp;&nbsp;AS 
      Last<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,first_name 
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(TITLE ' 
      ')&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS 
      First<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,salary_amount / 
      12&nbsp;(FORMAT 
      '$$$,$$9.99')&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS 
      Monthly_Salary<BR>FROM&nbsp;&nbsp;&nbsp;&nbsp;employee<BR>WHERE&nbsp;&nbsp;department_number 
      = 201; </B></FONT></P>To <FONT face="Courier New, Courier, mono" 
      size=-1><B>SELECT</B></FONT> rows using this View:<BR><BR><FONT 
      face="Courier New, Courier, mono" color=#660066 size=3><PRE>   <B>SELECT *
   FROM      report
   ORDER BY  monthly_salary;</B>
</PRE></FONT><FONT face="Courier New, Courier, mono" size=3><PRE> <B>Emp Dept Name</B>                                  <B>Monthly_Salary</B>
---- ---- ------------------ ------------------ --------------
1025  201 Short              Michael                $2,891.67
1021  201 Morrissey          Jim                    $3,229.17
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Aggregate Views</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Aggregate Views</H2> -->
      <P>You may create a view that summarizes information by using aggregates. 
      For instance, let's create a view that summarizes salary information by 
      department.</P><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>
CREATE VIEW deptsals
AS 	SELECT	 department_number	AS department
		,SUM	(salary_amount)AS salary_total
		,AVG	(salary_amount)AS salary_average
		,MAX	(salary_amount)AS salary_max
		,MIN	(salary_amount)	AS salary_min
	FROM employee
	GROUP BY department_number;</B>
</PRE></FONT>
      <P><B>Note: </B>Aggregate and derived columns <U>must</U> be assigned 
      names in the view definition. </P>
      <P>Select the average salary for all departments using the view we 
      created:</P><FONT face="courier New, Courier" color=#660066 size=3><PRE><B> 
SELECT department
	,salary_average
FROM	deptsals;</B> 
</PRE></FONT>
      <BLOCKQUOTE><FONT face="courier New, Courier" size=3><PRE><U><B>department</B></U>	<U><B>salary_average</B></U>
100		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;100000.00
201		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;36725.00
403		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;38833.33
...		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...
401		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35082.14
</PRE></FONT></BLOCKQUOTE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Aggregate View Using 
HAVING</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Aggregate View Using HAVING</H2> -->
      <P>The <FONT face="courier New, Courier" size=-1><B>HAVING 
      </B></FONT>clause may be used within a view definition to restrict which 
      groups will participate in the view.</P>
      <P>We may modify the <B>deptsals</B> view to include only departments with 
      average salaries of less than $36,000. </P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>
REPLACE VIEW deptsals AS <BR>SELECT department_number  AS department
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,SUM(salary_amount) AS salary_total
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,AVG(salary_amount) AS salary_average
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,MAX(salary_amount) AS salary_max
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,MIN(salary_amount) AS salary_min
FROM  employee
GROUP BY department_number
HAVING AVG(salary_amount) &lt; 36000;</B>
</PRE></FONT>
      <P>To <FONT face="Courier New, Courier, mono" size=-1><B>SELECT</B></FONT> 
      all departments with average salaries less than $36,000, we may use the 
      view <B>deptsals</B> as follows: </P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>SELECT  department
&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,salary_average
FROM&nbsp;&nbsp;&nbsp;&nbsp;deptsals;</B>
</PRE></FONT>
      <BLOCKQUOTE><PRE><P>
<B>department</B>	<B>salary_average</B>
-------------	-----------------
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;401		35082.14
</P></PRE></BLOCKQUOTE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Joins on Views with 
Aggregates</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Joins on Views with Aggregates</H2> -->
      <P>Since views are really virtual tables, they may be joined with other 
      tables and/or views in a query.</P>
      <H4 class=TitleProblem>Problem</H4>
      <P>First, create a view showing the the aggregate salaries by department 
      number.</P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B> 
CREATE VIEW dept_salaries (deptnum, salaries)
AS
SELECT department_number, SUM(salary_amount)
FROM employee
GROUP BY 1;</B>
</PRE></FONT>
      <P>Use the View to <FONT face="Courier New, Courier, mono" 
      size=-1><B>SELECT</B></FONT> all rows: </P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B> 
SELECT	* 
FROM dept_salaries;</B>
</PRE></FONT>
      <H4 class=TitleResult>Results</H4><FONT face="courier New, Courier" 
size=3><PRE>    <B>deptnum</B>      <B>salaries</B>
-----------  ------------
        100     100000.00
        201      73450.00
        301     116400.00
        302      56500.00
        401     245575.00
        402      77000.00
        403     233000.00
        501     200125.00
</PRE></FONT>
      <P>Now, let's look at another example, this time requiring a join.</P>
      <H4 class=TitleProblem>Problem</H4>
      <P>Show by department name which departments have aggregate salaries 
      greater than $100,000.</P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B> 
SELECT   deptnum
	,department_name 
	,salaries
FROM dept_salaries ds INNER JOIN department de
ON ds.deptnum = de.department_number
WHERE salaries &gt; 100000
ORDER BY 1;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4><FONT face="courier New, Courier" size=3><PRE>   <STRONG> deptnum  department_name                     salaries</STRONG>
-----------  ------------------------------  ------------
        301  research and development           116400.00
        401  customer support                   245575.00
        403  education                          233000.00
        501  marketing sales                    200125.00
		
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Nested Aggregates</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Nested Aggregates</H2> -->
      <P>An aggregate result may be obtained from a view which has aggregation 
      defined in its creation. In the following example, an aggregated view is 
      created. </P><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>CREATE VIEW dept_sals 
AS	SELECT department_number AS DEPT
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,SUM (salary_amount) AS SumSal
	FROM employee
	GROUP BY dept;</B>
</PRE></FONT>
      <P><FONT face="Courier New, Courier, mono" size=-1><B>SELECT</B></FONT> 
      all rows from the view: </P>
      <BLOCKQUOTE><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT	* 
FROM dept_sals
ORDER BY 1;</B>
</PRE></FONT>
        <H4><FONT face="courier New, Courier" color=#660066 
      size=3></FONT></H4></BLOCKQUOTE>
      <H4 class=TitleResult>Result</H4><FONT face="courier New, Courier" size=3><PRE><B>dept</B>	   <B>SumSal</B>
-----	---------
  100	100000.00
  201	 73450.00
  301	116400.00
  302	 56500.00 
  401	245575.00
  402	 77000.00		
  403	233000.00		
  501	201125.00

</PRE></FONT>You may apply aggregate operators in your <FONT 
      face="Courier New, Courier, mono" size=-1><B>SELECT</B></FONT> statement 
      against the aggregate view you just created. This represents aggregate 
      functions being applied to an aggregated view or what is referred to as ' 
      nested aggregates'. <FONT face="courier New, Courier" color=#660066 
size=3><PRE><B>
SELECT	COUNT(Sumsal) AS #_Depts
	,SUM(Sumsal)  AS Total_Sals
	,AVG(Sumsal)  AS Avg_Dept_Tot
	,MIN(Sumsal)  AS Min_Dept_Tot
	,MAX(Sumsal)  AS Max_Dept_Tot
FROM dept_sals;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4><FONT face="courier New, Courier" size=3><PRE><B>#-Depts</B>	<B>Total_Sals</B>	<B>Avg_Dept_Tot</B>	<B>Min_Dept_Tot</B>	<B>Max_Dept_Tot</B>
-------	----------	------------	------------	------------
      8	1102050.00	   137756.25        56500.00	   245575.00
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Nested Aggregates in a WHERE 
Clause</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Nested Aggregates in a WHERE Clause</H2> -->
      <P>Nested aggregates in a <FONT face="Courier New, Courier, mono" size=-1 
      new="NEW" courier="COURIER"><B>WHERE</B></FONT> clause may be used to 
      limit response rows. </P>
      <P>Repeated for convenience:</P>
      <P><FONT face="Courier New, Courier, mono" size=-1><B>CREATE VIEW 
      dept_sals <BR>AS SELECT department_number AS DEPT<BR>,SUM (salary_amount) 
      AS SumSal<BR>FROM employee<BR>GROUP BY dept;</B></FONT></P>
      <H4></H4>
      <H4 class=TitleProblem>Problem</H4>Show the department with the highest 
      total salary. . 
      <H4 class=TitleSolution>Solution</H4>
      <P><B><FONT face="Courier New, Courier, mono" color=#660066 size=-1>SELECT 
      dept<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,Sumsal as Topsal<BR>FROM 
      dept_sals<BR>WHERE topsal = (SELECT 
      MAX(Sumsal)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM 
      dept_s</FONT><FONT color=#660066>als); </FONT></B><FONT size=+0>
      <H4 class=TitleResult>Result</H4><FONT face="Courier New, Courier, mono" 
      size=3><PRE>	<B>dept</B>	   <B>Topsal</B>
	----	---------
	 401	245575.00
</PRE></FONT></FONT><FONT size=+0><U><B>Things to notice:</B></U></FONT> 
      <UL>
        <LI>The aggregated view is used in both the main query and the subquery 
        <LI><FONT size=-1>The subquery determines the maximum salary from the 
        aggregate view. </FONT>
        <LI><FONT size=-1>The main query uses the maximum salary to capture the 
        department number.</FONT> </LI></UL>
      <P>&nbsp;</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Views WITH CHECK OPTION</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- 
<A NAME="2"></A><H2>Views WITH CHECK OPTION</H2> -->In a view, the <FONT 
      face="Courier New, Courier, mono" size=-1 new="NEW" 
      courier="COURIER"><B>WITH CHECK OPTION</B></FONT> controls the update and 
      insert capability of users with those privileges on the view. A user may 
      not insert or update a row if the resulting row will fall outside of the 
      view. Said differently, an insert or update will be denied if the 
      resulting row will violate the constraints of the <FONT 
      face="Courier New, Courier, mono" size=-1 new="NEW" 
      courier="COURIER"><B>WHERE</B></FONT> clause in the view definition. 
      <P>For example, let's recreate a view and add a <FONT 
      face="Courier New, Courier, mono" size=-1 new="NEW" 
      courier="COURIER"><B>WHERE</B></FONT> clause and a <FONT 
      face="Courier New, Courier, mono" size=-1><B>WITH CHECK 
      OPTION</B></FONT>:</P><B><FONT face="Courier New, Courier, mono" 
      color=#660066 size=-1><BR>REPLACE VIEW dept_budget AS<BR>SELECT 
      department_number AS 
      Dept<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,department_name AS 
      Name<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,budget_amount AS 
      Budget<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;,manager_employee_number AS 
      Mgr<BR>FROM department <BR>WHERE Budget &lt;= 1000000 <BR>WITH CHECK 
      OPTION; </FONT></B>
      <P>With the <FONT face="Courier New, Courier" size=-1><B>WITH CHECK 
      OPTION</B> </FONT>in place in a view, the following inserts and updates 
      are affected: 
      <UL>
        <LI>New departments may not be inserted if the budget amount is above 
        $1,000.000. 
        <LI>A department budget may not be updated to be more than $1,000,000. 
        </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Changing Rows Via the 
View</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- 
<A NAME="3"></A><H2> Changing Rows Via the View</H2> -->Users will not be 
      able to update or insert rows whose values violate the constraints of the 
      <FONT face="Courier New, Courier, mono" size=-1><B>WHERE</B></FONT> clause 
      in the view definition. 
      <P class=TitleExample><B>Example 1</B></P><FONT 
      face="courier New, Courier" color=#660066 size=3><PRE><B>  INSERT INTO dept_budget
  VALUES (601, 'Support', 2000000, 1018);
</B></PRE></FONT><B>
      <P><FONT face="courier New, Courier" color=#660066 size=2><B>**** Failure 
      3564 Range constraint:Check error in field dept.budget_amount.</B> 
      </FONT></P>
      <P class=TitleExample>Example 2</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>  UPDATE  dept_budget 
  SET budget = 2000000
  WHERE dept = 401;</B></PRE></FONT><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>	**** Failure 3564 Range constraint:
	Check error in field dept.budget_amount.</B></PRE></FONT>Both operations 
      above were disallowed because the <FONT face="Courier New, Courier, mono" 
      size=-1><B>WITH CHECK OPTION</B></FONT> prevents these changes. 
    </B></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Restrictions and Advantages With 
Views</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Restrictions and Advantages With Views</H2> -->
      <H4>Restrictions When Using Views</H4>
      <UL>
        <LI>An index cannot be created on a view. 
        <LI>A view cannot contain an <FONT face="courier New, Courier" 
        size=-1><B>ORDER BY</B></FONT> clause. 
        <LI>The <FONT face="courier New, Courier" size=-1><B>WHERE 
        </B></FONT>clause of a <FONT face="courier New, Courier" 
        size=-1><B>SELECT </B></FONT>against a view can reference all aggregated 
        columns of that view. 
        <LI>Derived and aggregated columns must be assigned a name using one of 
        the following techniques: 
        <UL>
          <LI><FONT face="courier New, Courier" size=-1><B>NAMED 
          </B></FONT>clause. 
          <LI><FONT face="courier New, Courier" size=-1><B>AS</B></FONT> clause 
          (ANSI standard). 
          <LI>Creating a list of assigned column names in the <FONT 
          face="courier New, Courier" size=-1><B>CREATE VIEW</B></FONT> 
          definition. </LI></UL>
        <LI>A view cannot be used to <FONT face="courier New, Courier" 
        size=-1><B>UPDATE</B></FONT> if it contains: 
        <UL>
          <LI>Data from more than one table (Join View). 
          <LI>The same column twice. 
          <LI>Derived columns. 
          <LI>A <FONT face="courier New, Courier" size=-1><B>DISTINCT</B></FONT> 
          clause. 
          <LI>A <FONT face="courier New, Courier" size=-1><B>GROUP BY</B></FONT> 
          clause. </LI></UL></LI></UL>
      <H4>Advantages When Using Views </H4>
      <UL>
        <LI>An additional level of security. 
        <LI>Help in controlling read and update privileges. 
        <LI>Simplify end-user's access to data. 
        <LI>Are unaffected if a column is added to a table; and 
        <LI>Are unaffected if a column is dropped, unless the dropped column is 
        referenced by the view. </LI></UL>
      <H4>Suggestions For Using Views </H4>
      <UL>
        <LI>Create at least one view for each base table to restrict user's 
        access to data they don't need to see. 
        <LI>Create query views as you need them for ad hoc situations. 
        <LI>Use access locks when creating views to maximize data availability 
        to users. </LI></UL><!-- <p align="center"><img src="20Views/../z-line.gif" width="20" height="2" border="0"> <b><a href="./images/labs/wbt-views_lab.shtm">Lab</a></b> <img src="20Views/../z-line.gif" width="20" height="2" border="0"></p>
 --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK href="./././sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>
      <TABLE cellSpacing=0 cellPadding=8 width="100%" bgColor=#ffffcc 
        border=0><TBODY>
        <TR>
          <TD vAlign=top width="20%" bgColor=#ffffcc><B><FONT size=-1><A 
            name=LAB>Try It!</A></FONT></B> </TD>
          <TD vAlign=top width="80%" bgColor=#ffffcc><!-- <H2>LAB</H2> -->
            <P>For this set of lab questions you will need information from the 
            <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1>Database Info document.</A></P>
            <P>To start the online labs, click on the Telnet button in the lower 
            left hand screen of the course. Two windows will pop-up: a BTEQ 
            Instruction Screen and your Telnet Window.</P>
            <P>Sometimes the BTEQ Instructions get hidden behind the Telnet 
            Window. You will need these instructions to log on to Teradata.</P>
            <P><B>Hint: Prior to doing these labs, it will be helpful to reset 
            your default database to your own user id (i.e. DATABASE 
            tdxxx;).</B></P>
            <P>Click on the buttons to the left to see the 
        answers.</P></FONT></TD></TR>
        <TR>
          <TD vAlign=top width=106><FONT size=-1>Answers:<BR><A 
            onclick="AnswerWindow('Mod19L01.htm',600,530,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            A<BR><A onclick="AnswerWindow('Mod19L02.htm',580,580,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            B<BR><A onclick="AnswerWindow('Mod19L03.htm',600,660,circbut03)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut03 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            C<BR><A onclick="AnswerWindow('Mod19L04.htm',600,610,circbut04)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut04 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            D<BR><A onclick="AnswerWindow('Mod19L05.htm',600,500,circbut05)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut05 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            E </FONT></TD>
          <TD vAlign=top width="82%" bgColor=#ffffcc>
            <P>
            <OL type=A>
              <LI>List the customer number, customer name, and sales 
              representative's number for customers in California. Sort by sales 
              representative's number. 
              <P><B>HINT:</B> The location table contains both the customer 
              number and the state.</P>
              <P>Now modify the request to use a join instead of a subquery.</P>
              <P>Now create a <FONT face="courier New, Courier" size=-1><B>VIEW 
              </B></FONT>called "sales_territory". </P>
              <P>Do not create it as part of a macro. Is data in this view 
              updatable?</P>
              <LI>Select all columns from the sales_territory view. 
              <P></P>
              <LI>Create an aggregate view called "dept_sal" which accesses the 
              customer_service.employee table and consists of two columns: a 
              department number and the sum of the salaries for that department. 
              Select all rows from this view. 
              <P></P>
              <LI>Using the dept_sal view, produce a report showing department 
              name and total departmental salary for each department whose total 
              exceeds $100,000. 
              <P><B>Remember:</B> Like tables and macros, views must be created 
              in your own database.</P>
              <LI>Create a full view of any table in the customer_service 
              database. Include formatting and titling of your own choosing. 
              Select all rows and columns from your view to observe how the view 
              overrides default formats and column headings. 
        </LI></OL></TD></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --><!-- ########## 1 -->
<TABLE cellSpacing=0 cellPadding=1 width="100%" bgColor=#000099 border=0>
  <TBODY>
  <TR>
    <TD><FONT face=Tahoma size=3><B><FONT color=#ffffcc>&nbsp;String 
      Functions</FONT></B></FONT> </TD></TR></TBODY></TABLE>
<P><!-- ########## 2 --><!-- ########## 3 --><LINK href="../sqlstyle.css" 
type=text/css rel=stylesheet><FONT face=Verdana size=3><B>Objectives</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Objectives</H2> -->
      <P>After completing this module, you should be able to:</P>
      <UL>
        <LI>Extract strings using <FONT face="Courier New, Courier, mono" 
        size=-1><B>SUBSTRING</B></FONT>. 
        <LI>Combine strings using concatenation. 
        <LI>Locate the starting position of substrings. 
  </LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>String Expressions</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>String Expressions</H2> -->
      <P>Several functions are available for working with strings in SQL. Also, 
      the concatenation operator is provided for combining strings. The string 
      functions and the concatenation operator are listed here.</P>
      <TABLE cellSpacing=1 cellPadding=3 width="100%" align=center border=1>
        <TBODY>
        <TR vAlign=bottom>
          <TD align=middle><B>String Operator</B></TD>
          <TD align=middle><B>Description</B></TD></TR>
        <TR>
          <TD><FONT size=-1 new courier><FONT 
            size=+1><B>&nbsp;</B></FONT></FONT><B><FONT new courier>|| 
            </FONT></B><FONT new courier>(Two vertical bars)</FONT></TD>
          <TD>Concatenates (combines) character strings together.</TD></TR>
        <TR>
          <TD vAlign=bottom align=middle><B>String Functions</B></TD>
          <TD>&nbsp;</TD></TR>
        <TR>
          <TD><FONT face="Courier New, Courier, mono" 
            size=-1><B>SUBSTR</B></FONT></TD>
          <TD>Obtains a section of a character string. (Teradata 
        extension)</TD></TR>
        <TR>
          <TD><FONT face="Courier New, Courier, mono" 
            size=-1><B>SUBSTRING</B></FONT></TD>
          <TD>Obtains a section of a character string. (ANSI standard)</TD></TR>
        <TR>
          <TD><FONT face="Courier New, Courier, mono" 
            size=-1><B>INDEX</B></FONT></TD>
          <TD>Locates a character position in a string. (Teradata 
        extension)</TD></TR>
        <TR>
          <TD><FONT face="Courier New, Courier, mono" 
            size=-1><B>POSITION*</B></FONT></TD>
          <TD>Locates a character position in a string. (ANSI standard)</TD></TR>
        <TR>
          <TD><FONT face="Courier New, Courier, mono" 
            size=-1><B>TRIM*</B></FONT></TD>
          <TD>Trims blanks from a string.</TD></TR>
        <TR>
          <TD><B><FONT face="Courier New, Courier, mono" 
            size=-1>UPPER</FONT>*</B></TD>
          <TD>Converts a string to uppercase.</TD></TR>
        <TR>
          <TD><B><FONT face="Courier New, Courier, mono" 
            size=-1>LOWER*</FONT></B></TD>
          <TD>Converts a string to lowercase.</TD></TR></TBODY></TABLE>
      <P>All functions listed are part of the ANSI standard except for <FONT 
      face="Courier New, Courier, mono" size=2><B>INDEX </B></FONT>which has an 
      ANSI equivalent <FONT face="courier New, Courier" 
      size=-1><B>POSITION</B></FONT> function.</P>
      <P>*These topics are introduced elsewhere in the SQL course sequence.</P>
      <P><FONT face="courier New, Courier" size=-1><B>POSITION, UPPER and 
      LOWER</B></FONT> are covered in more detail in the <FONT 
      color=#ff0000>Teradata SQL For Application Development</FONT> course. </P>
      <P>The <FONT face="Courier New, Courier, mono" size=-1><B>TRIM</B></FONT> 
      function was covered in a previous module of this 
  course.</P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>SUBSTRING Function</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>SUBSTRING Function</H2> -->
      <P>The <FONT face="courier New, Courier" size=-1><B>SUBSTRING 
      </B></FONT>function is intermediate-level ANSI compliant. Teradata 
      continues to support the alternate <FONT face="courier New, Courier" 
      size=-1><B>SUBSTR </B></FONT>syntax as well. </P>
      <H4><B>Examples</B></H4><FONT face="courier New, Courier" color=#660066 
      size=3><PRE><B>SELECT SUBSTRING ('catalog'&nbsp;FROM 5 for 3);</B>
</PRE></FONT>
      <P class=TitleResult>Result</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>'log'</B>
</PRE></FONT><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT SUBSTR ('catalog',5,3);</B>
</PRE></FONT>
      <P class=TitleResult>Result</P><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>'log'</B>
</PRE></FONT>
      <P>Let's look at several more examples showing the results of a <FONT 
      face="courier New, Courier" size=-1><B>SELECT</B></FONT> using either 
      <FONT face="courier New, Courier" size=-1><B>SUBSTRING</B></FONT> or <FONT 
      face="courier New, Courier" size=-1><B>SUBSTR </B></FONT>. Equivalent 
      results are returned in all cases. </P>
      <TABLE cellSpacing=1 cellPadding=3 width="100%" border=1>
        <TBODY>
        <TR vAlign=bottom>
          <TD width=292>&nbsp;</TD>
          <TD 
          width=78><B>SUBSTRING<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Result</B></TD>
          <TD align=middle 
            width=94><B>&nbsp;&nbsp;&nbsp;&nbsp;SUBSTR&nbsp;&nbsp;&nbsp;&nbsp;<BR>&nbsp;&nbsp;Result 
            </B></TD></TR>
        <TR>
          <TD width=292>&nbsp;</TD>
          <TD width=78>&nbsp;</TD>
          <TD width=94>&nbsp;</TD></TR>
        <TR>
          <TD width=292>SUBSTRING(catalog FROM 5 FOR 4)</TD>
          <TD width=78>log</TD>
          <TD width=94>log</TD></TR>
        <TR>
          <TD width=292>SUBSTRING(catalog FROM 0 FOR 3)</TD>
          <TD width=78>ca</TD>
          <TD width=94>ca</TD></TR>
        <TR>
          <TD width=292>SUBSTRING(catalog FROM -1 FOR 3)</TD>
          <TD width=78>c</TD>
          <TD width=94>c</TD></TR>
        <TR>
          <TD width=292>SUBSTRING(catalog FROM 8 FOR 3)</TD>
          <TD vAlign=center align=left width=78>0 length string</TD>
          <TD vAlign=center align=left width=94>0 length string</TD></TR>
        <TR>
          <TD width=292>SUBSTRING(catalog FROM 1 FOR 0)</TD>
          <TD vAlign=center align=left width=78>0 length string</TD>
          <TD vAlign=center align=left width=94>0 length string</TD></TR>
        <TR>
          <TD width=292>SUBSTRING(catalog FROM 5 FOR -2)</TD>
          <TD width=78>error</TD>
          <TD width=94>error</TD></TR>
        <TR>
          <TD width=292>&nbsp;</TD>
          <TD width=78>&nbsp;</TD>
          <TD width=94>&nbsp;</TD></TR>
        <TR>
          <TD width=292><B>(without a FOR clause)</B></TD>
          <TD width=78>&nbsp;</TD>
          <TD width=94>&nbsp;</TD></TR>
        <TR>
          <TD width=292>&nbsp;</TD>
          <TD width=78>&nbsp;</TD>
          <TD width=94>&nbsp;</TD></TR>
        <TR>
          <TD width=292>SUBSTRING(catalog FROM 0)</TD>
          <TD width=78>catalog</TD>
          <TD width=94>catalog</TD></TR>
        <TR>
          <TD width=292>SUBSTRING(catalog FROM 10)</TD>
          <TD vAlign=center align=left width=78>0 length string</TD>
          <TD vAlign=center align=left width=94>0 length string</TD></TR>
        <TR>
          <TD width=292>SUBSTRING(catalog FROM -1)</TD>
          <TD width=78>0 length string</TD>
          <TD vAlign=center align=left width=94>0 length string</TD></TR>
        <TR>
          <TD width=292>SUBSTRING(catalog FROM 3)</TD>
          <TD width=78>talog</TD>
          <TD width=94>talog</TD></TR></TBODY></TABLE>
      <P>Since the Teradata extension provides equivalent functionality to the 
      ANSI-compliant feature, we recommend that all existing applications 
      replace any use of the <FONT face="courier New, Courier" size=-1><B>SUBSTR 
      </B></FONT>function with the <FONT face="courier New, Courier" 
      size=-1><B>SUBSTRING </B></FONT>function. </P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Using a SUBSTRING in a 
List</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Using a SUBSTRING in a List</H2> -->
      <H4 class=TitleProblem>Problem</H4>
      <P>Display the first initial and last name of all employees in department 
      403. Sort the result by last name. </P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>SELECT SUBSTRING (first_name FROM 1 FOR 1)  AS FI<BR>	   ,last_name<BR>FROM  employee<BR>WHERE department_number = 403<BR>ORDER BY last_name<BR>;</B></PRE></FONT>
      <H4 class=TitleResult>Result</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE>FI  last_name<BR>--  --------------------<BR>A   Brown<BR>J   Charles<BR>P   Hopkins<BR>D   Lombardo<BR>L   Ryan<BR>A   Villegas</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Using SUBSTRING with 
INTEGERS</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>Using SUBSTRING with INTEGERS</H2> -->
      <P>A <B><FONT face="Courier New, Courier, mono">SUBSTRING</FONT></B> 
      function can also be performed on numeric data. Internally, the numeric 
      data must be converted to a character string before the <B><FONT 
      face="Courier New, Courier, mono">SUBSTRING</FONT></B> function can occur. 
      Because <B><FONT face="Courier New, Courier, mono">SUBSTRING</FONT></B> 
      relies on the exact position of each character, care must be taken when 
      performing this function with numerics.</P>
      <P>The following gives examples of how integers are converted when a 
      <B><FONT face="Courier New, Courier, mono">SUBSTRING</FONT></B> is 
      performed on them.</P>
      <P>These three column definitions are used in the example below:</P>
      <TABLE cellPadding=5 align=center border=1>
        <TBODY>
        <TR vAlign=bottom align=middle>
          <TD width=130><B><B>Column</B></B></TD>
          <TD width=334><B><B>Data Type and Conversion Size</B></B></TD></TR>
        <TR>
          <TD width=130>no_of_ dependents</TD>
          <TD width=334>BYTEINT - (3 digits) 4 characters including sign</TD></TR>
        <TR>
          <TD width=130>area_code</TD>
          <TD width=334>SMALLINT - (5 digits) 6 characters including 
sign</TD></TR>
        <TR>
          <TD width=130>phone</TD>
          <TD width=334>INTEGER - (10 digits) 11 characters including 
        sign</TD></TR></TBODY></TABLE>
      <P>When an integer field is converted to <FONT face="courier New, Courier" 
      size=-1><B>CHAR</B></FONT>, a sign character is added and the value is 
      right-aligned as follows:</P><FONT face="courier New, Courier" size=3><PRE>              <U>+</U> <U>1</U> <U>2</U> <U>7</U>	(no_of_dependents	BYTEINT)
          <U>+</U> <U>0</U> <U>0</U> <U>2</U> <U>1</U> <U>3</U>	(area_code	SMALLINT)
<U>+</U> <U>0</U> <U>0</U> <U>0</U> <U>5</U> <U>5</U> <U>5</U> <U>4</U> <U>1</U> <U>3</U> <U>4</U> 	(phone  INTEGER)
</PRE></FONT>
      <H4 class=TitleProblem>Problem</H4>
      <P>Produce a list of all 3-digit area codes from the location_phone 
      table.</P>
      <H4>Solution</H4><FONT face="courier New, Courier" color=#660066 size=3><PRE><B>SELECT DISTINCT SUBSTRING (area_code FROM 4 FOR 3)
		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS AREA_CODE
FROM location_phone
ORDER BY 1;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4><FONT face="courier New, Courier" size=3><PRE>	<U><B>AREA CODE</B></U>
	202
	212
	213
	312
	313
	415
	609
	617
	718
	804
	919
</PRE></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Using SUBSTRING in a WHERE 
Clause</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Using SUBSTRING in a WHERE Clause</H2> -->
      <H4 class=TitleProblem>Problem</H4>
      <P>Find those customers in the location table whose nine-digit zip code 
      ends with four zeros. </P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>SELECT customer_number<BR>	  ,zip_code  (FORMAT '9(9)')<BR>FROM  location<BR>WHERE SUBSTRING (zip_code FROM 8 FOR 4) = '0000'<BR>;</B></PRE></FONT>
      <H4 class=TitleResult>Result</H4><FONT face="courier New, Courier" size=3><PRE>	<U><B>customer number</B></U>		<U><B>zip code</B></U>
		     13		001210000
		     10		940710000
</PRE></FONT>
      <P align=center><IMG height=212 alt="sql0401gif.gif - 5487 Bytes" 
      src="Teradata SQL Introduction_files/sql0401gif.gif" width=491 
      border=0></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>String Concatenation</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>String Concatenation</H2> -->
      <P>Multiple strings may be combined using the string concatenation 
      operator '<B>||</B>'. Only character and byte data types may be 
      concatenated. (Byte data types must be concatenated with another byte data 
      type.) </P>
      <P>Use either solid (or broken) vertical bars || as a concatenation 
      operator. </P>
      <H4 class=TitleExample>Example</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><B><FONT size=-1>SELECT 'abc' || 
      'xyz'</FONT></B><FONT size=-1>;</FONT><BR></FONT>
      <P>combines the two strings into a single character string.</P>
      <H4 class=TitleResult>Result</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE> <B>'abcxyz'<BR></B><BR>

</PRE></FONT>
      <H4>Concatenation and the COALESCE Function</H4>
      <P>Normally, concatenation of any string with a null produces a null 
      result.</P>
      <P>The <FONT face="courier New, Courier" size=-1><B>COALESCE 
      </B></FONT>function allows values to be substituted for nulls.</P>
      <H4 class=TitleExample>Example</H4>
      <P>Assume col1 = 'a', col2 = 'b'</P><FONT 
      face="Courier New, Courier, mono" color=#660066><B><FONT size=-1>SELECT 
      col1 || col2 From tblx</FONT><FONT size=3>;</FONT></B></FONT> 
      <H4 class=TitleResult>Result</H4><PRE> <FONT face="courier New, Courier" color=#660066 size=3><B><FONT size=-1>'ab'</FONT></B></FONT></PRE><PRE><FONT face="Courier New, Courier, mono" size=3></FONT></PRE>
      <P>If either column contains a null, the result is null.</P>
      <H4 class=TitleSolution>Example</H4>
      <P>Assume col1 = 'a', col2 = null</P><FONT face="courier New, Courier" 
      color=#660066><B><FONT face="Courier New, Courier, mono" 
      size=-1>SELECT&nbsp;col1 || (COALESCE (col2,'x'))&nbsp;FROM 
      tblx;</FONT></B></FONT> 
      <H4><FONT face="courier New, Courier" 
      color=#660066><B></B></FONT>Result</H4><PRE> <FONT face="courier New, Courier" color=#660066 size=3><B><FONT size=-1>'ax'</FONT></B></FONT></PRE></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Teradata Alternative</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Teradata Extensions</H2> -->
      <P>The Teradata database also supports the use of exclamation marks (!!) 
      as the concatenation operator. Existing applications using exclamation 
      marks should be re-written using vertical bars to meet ANSI standards.</P>
      <H4 class=TitleProblem>Problem</H4>
      <P>Display the first and last names for employees in department 403.</P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>
  SELECT first_name || ' ' || last_name
                            AS EMPLOYEE
  FROM employee
  WHERE department_number = 403 ; </B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4><FONT face="courier New, Courier" size=3><PRE>   <U><B>EMPLOYEE</B></U>
   Arnando  Villegas
   Loretta  Ryan

</PRE></FONT>
      <H4><B>Things to notice:</B></H4>
      <UL>
        <LI>The concatenation operators are used to place a space between first 
        and last name. 
        <LI>Even though two columns are concatenated together, it is treated as 
        a single column of output. 
        <LI>There are no commas in this statement, since there is only one 
        column of output.<FONT face="courier New, Courier" 
        size=3><BR></FONT></LI></UL></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>String Concatenation with SUBSTRING 
and TRIM</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2><A NAME="2"></A>String Concatenation with SUBSTRING and TRIM</H2> -->
      <P><FONT face="courier New, Courier" size=-1><B>SUBSTRING </B></FONT>and 
      concatenation may be used together in a query.</P>
      <H4 class=TitleProblem>Problem</H4>
      <P>Display the first initial and last name of employees in department 
      403.</P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>
  SELECT  SUBSTRING (first_name FROM 1 FOR 1 ) || '.  ' ||
                     last_name   AS EMPLOYEE
  FROM    employee
  WHERE   department_number = 403 ;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4><FONT face="courier New, Courier" size=3><PRE>EMPLOYEE<BR>-----------------------<BR>D.  Lombardo<BR>A.  Villegas<BR>P.  Hopkins<BR>L.  Ryan<BR>A.  Brown<BR>J.  Charles</PRE></FONT>
      <H4 class=TitleProblem>Problem</H4>
      <P>Produce the same list, but concatenate last name followed by first name 
      separated by a comma.</P>
      <H4 class=TitleSolution>Solution</H4><PRE><FONT face="courier New, Courier" color=#660066 size=3><B><FONT size=-1>  SELECT last_name || ',  ' || first_name<BR>                                AS EMPLOYEE<BR>  FROM  employee<BR>  WHERE department_number = 403 ;</FONT></B></FONT></PRE>
      <H4 class=TitleResult>Result</H4><PRE><FONT face="Courier New, Courier, mono" size=2>EMPLOYEE<BR>-------------------------------------<BR>Lombardo            ,  Domingus<BR>Villegas            ,  Arnando<BR>Hopkins             ,  Paulene<BR>Ryan                ,  Loretta<BR>Brown               ,  Allen<BR>Charles             ,  John</FONT><FONT face="Courier New, Courier, mono" size=-1><FONT face="courier New, Courier" size=3>
</FONT></FONT>
</PRE>
      <H4><B>Things to notice:</B></H4>
      <UL>
        <LI>The column last_name is defined as a fixed length CHAR(20). 
        <LI>Consequently, there will be a number of spaces following each last 
        name. 
        <LI>This can be corrected with the use of the TRIM function<FONT 
        face="courier New, Courier" size=3>.</FONT><FONT 
        face="Courier New, Courier, mono" size=-1><FONT 
        face="courier New, Courier" size=3> </FONT></FONT></LI></UL><FONT 
      face="Courier New, Courier, mono" size=-1><FONT 
      face="courier New, Courier" size=3></FONT></FONT>Use the <B>TRIM 
      </B>function to remove the extra spaces in your query result. 
      <H4 class=TitleProblem>Problem</H4>
      <P>Drop the spaces after the last names prior to concatenating with the 
      first name.</P>
      <H4 class=TitleSolution>Solution</H4><FONT face="courier New, Courier" 
      color=#660066 size=3><PRE><B>  SELECT TRIM (last_name) || ',  ' || first_name
                                  AS EMPLOYEE
  FROM employee
  WHERE department_number = 403 ;</B>
</PRE></FONT>
      <H4 class=TitleResult>Result</H4><FONT face="courier New, Courier" size=3><PRE>EMPLOYEE<BR>-------------------<BR>Lombardo,  Domingus<BR>Villegas,  Arnando<BR>Hopkins,  Paulene<BR>Ryan,  Loretta<BR>Brown,  Allen<BR>Charles,  John</PRE></FONT>
      <H4>&nbsp;</H4><FONT face="courier New, Courier" color=#660066 
      size=3></FONT></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>The POSITION Function</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Using SUBSTRING and INDEX</H2> -->
      <P>The <B>POSITION</B> function finds the position within a string where a 
      specified substring begins. The ANSI standard POSITION function has a 
      Teradata equivalent function called <B>INDEX</B>. The INDEX function will 
      continue to be supported in future releases of the product, however the 
      use of POSITION is encouraged for future applications.</P>
      <P>Both the <FONT face="courier New, Courier" size=-1><B>POSITION 
      </B>and<B> INDEX</B></FONT> functions return a character position in a 
      string.</P>
      <P>Examples of the <B>POSITION</B> function</P>
      <P><B><FONT face="Courier New, Courier, mono" size=-1>SELECT POSITION( 'b' 
      IN 'abc'); &nbsp;<I>Result:2 </I><BR>SELECT POSITION( 'ab'IN 'abc'); 
      <I>&nbsp;Result:1 </I><BR>SELECT POSITION( 'd' IN 'abc'); 
      &nbsp;<I>Result:0 </I></FONT></B></P>
      <P>Comparable examples of the <B>INDEX</B> function.</P>
      <P><B><FONT face="Courier New, Courier, mono" size=-1>SELECT INDEX('abc', 
      'b'); &nbsp;&nbsp;<I>Result:2</I> <BR>SELECT INDEX('abc', 'ab'); 
      <I>&nbsp;Result:1</I> <BR>SELECT INDEX('abc', 'd'); 
      &nbsp;&nbsp;<I>Result:0 </I></FONT></B><BR></P>
      <P><FONT face="courier New, Courier" size=-1><B>POSITION</B></FONT> will 
      be used for subsequent examples.</P>
      <P><FONT face="courier New, Courier" size=-1><B>SUBSTRING </B></FONT>and 
      <FONT face="courier New, Courier" size=-1><B>POSITION </B></FONT>functions 
      may be used together in a query. </P>
      <H4 class=TitleProblem>Problem</H4>
      <P>Display a list of departments where the word "SUPPORT" appears in the 
      department name, and list the starting position of the word.<BR></P>
      <H4 class=TitleSolution>Solution<FONT face="courier New, Courier" 
      color=#660066 size=3></FONT></H4>
      <P><FONT color=#660066><B><FONT face="Courier New, Courier, mono" 
      size=-1>SELECT department_name<BR>,POSITION('SUPPORT' IN 
      department_name)<BR>FROM department<BR>WHERE POSITION('SUPPORT' IN 
      department_name) &gt; 0<BR>ORDER BY 
      department_number;</FONT></B></FONT><FONT 
      face="Courier New, Courier, mono" color=#660066 size=-1><BR></FONT></P>
      <H4 class=TitleResult>Result</H4><PRE><FONT face="Courier New, Courier, mono" size=2>DeptName                        PositionNum<BR>------------------------------  -----------<BR>customer support                         10<BR>software support                         10</FONT></PRE><FONT 
      face="courier New, Courier" size=-1>Note: </FONT><SPAN class=keyword><FONT 
      face="courier New, Courier" size=-1><B>POSITION</B></FONT></SPAN> is 
      discussed in more detail in the <FONT color=#ff0000>Teradata SQL For 
      Application Development</FONT> course. 
      <P></P><!-- <p align="center"><img src="21strings/../z-line.gif" width="20" height="2" border="0"> <b><a href="./labs/wbt-string_funct_lab.shtm">Lab</a></b> <img src="21strings/../z-line.gif" width="20" height="2" border="0"></p> --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 --><LINK href="../sqlstyle.css" type=text/css 
rel=stylesheet><FONT face=Verdana size=3><B>Using SUBSTRING and 
POSITION</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2><!-- <H2>Using SUBSTRING and INDEX</H2> -->
      <P>Use of <B>SUBSTRING</B> and <B>POSITION</B> may be necessary to 
      'normalize' a character string column which is really two column values 
      combined into a single column. In this case, the column 'contact_name' 
      contains both first and last name. These functions may be used to separate 
      them and to produce a different report format, in this case, first name 
      followed by last.<BR><BR>The Contact table, seen below, is used with this 
      example.<BR></P>
      <H4 class=TitleProblem>Problem</H4>
      <P>Display the first name and last names separated by a single space for 
      each person in the contact table.</P>
      <H4 class=TitleSolution>Solution<FONT face="courier New, Courier" 
      color=#660066 size=3></FONT></H4><FONT color=#660066><B><FONT 
      face="Courier New, Courier, mono" size=-1>SELECT SUBSTRING (contact_name 
      FROM<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;POSITION 
      (',' IN contact_name) +2) || ' ' || 
      <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SUBSTRING (contact_name 
      <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM 
      1 FOR POSITION (',' IN contact_name) 
      -1)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AS 
      "Contact Names"<BR>FROM contact;</FONT></B></FONT> 
      <H4 class=TitleResult>Result</H4><FONT face="courier New, Courier" size=3><PRE>Contact Names<BR>--------------------------<BR>Jack Hughes<BR>Nancy Dibble<BR>James Leblanc<BR>Ginny Smith<BR>Alison Torres<BR>Connie Brayman</PRE></FONT>
      <H4><B>Things to notice:</B></H4>
      <UL>
        <LI>The column contact_name is defined as a variable length VARCHAR(30). 

        <LI>First and last name are stored in the colunm as seen in the table 
        below. 
        <LI>To reposition first and last name, the POSITION function is used to 
        search for a comma. 
        <LI>This type of string manipulation is necessary when data is not 
        properly normalized. 
        <LI>If first and last name were separate columns, this manipulation 
        would be unnecessary. </LI></UL><FONT face="courier New, Courier" size=3><PRE>&nbsp;
</PRE></FONT>
      <P align=center><IMG height=294 alt="Contact Table" 
      src="Teradata SQL Introduction_files/Mod08sql060c0.gif" width=624> </P>
      <P>&nbsp;</P><!-- <p align="center"><img src="21strings/../z-line.gif" width="20" height="2" border="0"> <b><a href="./labs/wbt-string_funct_lab.shtm">Lab</a></b> <img src="21strings/../z-line.gif" width="20" height="2" border="0"></p> --></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 3 -->
<SCRIPT language=JavaScript>
<!--#include virtual="/learning/td/sql01_Introduction/include/LabAnswers.js" -->
<!--#include virtual="/learning/include/cookie.js" -->
<!--#include virtual="/learning/include/signed_in.js" -->

var browserbrand=navigator.appName;
</SCRIPT>
<LINK href="./././sqlstyle.css" type=text/css rel=stylesheet><FONT face=Verdana 
size=3><B>Lab</B></FONT> 
<P>
<TABLE cellSpacing=0 cellPadding=4 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width=27>&nbsp;<BR></TD>
    <TD bgColor=#ffffcc><!-- ########## 4 --><FONT face=Verdana size=2>
      <P>
      <TABLE cellSpacing=0 cellPadding=8 width="100%" bgColor=#ffffcc 
        border=0><TBODY>
        <TR>
          <TD vAlign=top width="20%" bgColor=#ffffcc><B><FONT size=-1><A 
            name=LAB>Try It!</A></FONT></B> </TD>
          <TD vAlign=top width="80%" bgColor=#ffffcc><!-- <H2>LAB</H2> -->
            <P>For this set of lab questions you will need information from the 
            <A 
            href="http://www.ncru.courses.ncr.com/learning/td/sql01_Introduction/labtables.doc" 
            target=POPUP1>Database Info document.</A> </P>
            <P>To start the online labs, click on the Telnet button in the lower 
            left hand screen of the course. Two windows will pop-up: a BTEQ 
            Instruction Screen and your Telnet Window.</P>
            <P>Sometimes the BTEQ Instructions get hidden behind the Telnet 
            Window. You will need these instructions to log on to Teradata.</P>
            <P><B>Be sure to change your default database to the 
            Customer_Service database in order to run these labs. </B></P>
            <P>Click on the buttons to the left to see the answers. </P></TD></TR>
        <TR>
          <TD vAlign=top width=80 height=533><FONT size=-1>Answers:<BR><A 
            onclick="AnswerWindow('Mod20L01.htm',650,630,circbut01)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut01 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            A<BR><A onclick="AnswerWindow('Mod20L02.htm',500,510,circbut02)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut02 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            B<BR><A onclick="AnswerWindow('Mod20L03.htm',640,650,circbut03)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut03 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            C<BR><A onclick="AnswerWindow('Mod20L04.htm',600,560,circbut04)" 
            href="http://www.ncru.courses.ncr.com/learning/TD/sql01_Introduction/wbt-printmod00.htm#"><IMG 
            id=circbut04 height=15 
            src="Teradata SQL Introduction_files/circbut.gif" width=15 align=top 
            border=0></A><!--------------------Use: 
<IMG SRC="./images/labs/../circchek.gif" HEIGHT="15" WIDTH="15" BORDER="0"> for circle button with check mark------------------>&nbsp;Lab 
            D </FONT></TD>
          <TD vAlign=top width=697 bgColor=#ffffcc height=533>
            <OL type=A>
              <LI>Select last and first name, area code and phone number for 
              employees in the 609 area code. Limit first name to 10 characters. 
              You will need to join the employee and the employee_phone tables 
              to accomplish this. Use table name aliasing for your join. Display 
              your output in the format below: <PRE><B>last_name</B>             <B>first_name</B>  <B>Phone Number</B>  
--------------------  ----------  ------------- 
Johnson               Darlene     (609)559-1011 

</PRE>
              <P><B>Hint:</B> Use substringing and concatenation to solve this 
              lab.</P>
              <P><B>Note: </B>This lab is used again in exercise C. </P>
              <LI>Find all jobs that have the word "Analyst" in their 
              descriptions. List the descriptions and positions where the 
              character strings are found. 
              <P></P>
              <LI>Modify exercise A to concatenate the phone extension with the 
              rest of the phone number. Use <FONT face="courier New, Courier" 
              size=-1><B>COALESCE </B></FONT>to transform any <FONT 
              face="courier New, Courier" size=-1><B>NULLs</B></FONT> in the 
              extension column into zero. Give the concatenated phone expression 
              the following title, appropriately lined up over the data: <PRE><FONT face="Courier New, Courier, mono" size=3>
<B>Phone Number</B> &nbsp;&nbsp;&nbsp;<B>Ext</B><BR>
-------------------- 
(xxx) xxx-xxxx&nbsp;&nbsp;&nbsp;xxx</FONT> 
</PRE>
              <LI>List all contacts from the contact table, breaking the first 
              name out into its own column and the last name into its own 
              column. Include phone number. Select only contacts in area code 
              408. Sort by first name. Custom column titles for the name columns 
              are: First Name and Last Name. 
              <P><B>Note:</B> The format of the contact table is shown here for 
              your reference.</P><FONT face="courier New, Courier" color=#660066 
              size=3><PRE><B>CREATE TABLE contact, 
FALLBACK 
(contact_number INTEGER 
,contact_name CHAR(30) NOT NULL 
,area_code SMALLINT NOT NULL 
,phone INTEGER NOT NULL 
,extension INTEGER 
,last_call_date DATE NOT NULL) 
UNIQUE PRIMARY INDEX (contact_number); </B>
</PRE></FONT>
              <P><B>Note:</B> The column 'contact_name' is denormalized, meaning 
              that there are two pieces of information in one column. This 
              situation often makes string manipulation 
        necessary.</P></LI></OL></TR></TBODY></TABLE></P></FONT></TD></TR></TBODY></TABLE>
<P><!-- ########## 5 --></P></BODY></HTML>
